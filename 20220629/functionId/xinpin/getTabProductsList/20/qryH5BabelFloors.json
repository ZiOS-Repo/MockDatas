{
    "isTabPVNewLogic": false,
    "msg": "success",
    "floatLayerList": [],
    "paginationFlrs": "[[81674459,81674460,81674461,81674464,81674465,81674466,81674467,81674468,81683707],[81674469,81674470,81683396,81674471,81674472,81683601,81674473,81674474,81683397]]",
    "paginationParamEnd": "2",
    "utmChannel": "",
    "code": "0",
    "pagination": true,
    "customcodeMatQryType": null,
    "head": {},
    "activityId": "01298040",
    "pageConfig": {
        "showPlusTips": "1"
    },
    "subCode": "0",
    "hasImmersiveIhubFlr": "0",
    "transParam": "{\"bsessionId\":\"fcd8f1da-cd34-4775-a2d4-8d676c7f6ba6\",\"babelChannel\":\"\",\"actId\":\"01298040\",\"enActId\":\"2dY5x5gjG8LiytBJRoqsBFPrK2Xe\",\"pageId\":\"3773750\",\"encryptCouponFlag\":\"1\",\"sc\":\"apple\",\"scv\":\"10.1.2\",\"requestChannel\":\"h5\",\"jdAtHomePage\":\"0\",\"utmFlag\":\"0\",\"locType\":\"1\"}",
    "jdAtHomePageLackAddress": "0",
    "channelPoint": {
        "babelChannel": "",
        "greytp": "1",
        "rec_broker": "",
        "loginCellularNetwork": 0,
        "pageId": "3773750"
    },
    "h5IsSupportPullDown": 0,
    "biimpr": "01298040_3773750",
    "timestamp": "",
    "h5PageFrameState": "0",
    "floorList": [{
        "template": "hotzone",
        "externalBorder": "0",
        "lrMargin": "0",
        "backgroundColor": "#f2f2f2",
        "hotZone": {
            "pictureUrl": "//m.360buyimg.com/babel/jfs/t1/111172/36/23834/18109/62c7c71cEd1652089/8b365493e081a226.jpg!q70.dpg"
        },
        "ofn": "10",
        "width": 1125,
        "sameColor": "0",
        "id": 81674469,
        "moduleId": 81674469,
        "floorNum": "1",
        "height": 392
    }, {
        "template": "customcode",
        "sourceId": "7ed3bc426ce6a5ec6fcdaacf0c2cfbe1",
        "htmlSourceUrl": "babelview/00029824/7ed3bc426ce6a5ec6fcdaacf0c2cfbe1.repl.html",
        "queryDefault": null,
        "hasBindMaterial": 0,
        "channel": "h5",
        "htmlSource": "&lt;!-- \r\n    模块名：产品轮播二\r\n    新增触点层级\r\n --&gt;\r\n&lt;!-- &lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=UTF-8&quot;&gt;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&lt;script src=&quot;https://storage.360buyimg.com/babel/00299045/631260/production/dev/zepto.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; --&gt;\r\n\r\n&lt;link rel=&quot;stylesheet&quot; href=&quot;//storage.360buyimg.com/babelview/00029824/swiper.min.css?t=20220513211804&quot;&gt;\r\n&lt;link rel=&quot;stylesheet&quot; href=&quot;//storage.360buyimg.com/babelview/00029824/index.css?t=20220513211804&quot;&gt;\r\n&lt;div v-if=&quot;isModuleShow&quot; class=&quot;gmkj_product_diy&quot; style=&quot;display:none;&quot; v-clock :style=&quot;{height:rem(d.clsheight||1440),background:check_url(d.clsbg)?'transparent':d.clsbg}&quot; @click.stop=&quot;goUrl(d.clslink,null,'背景点击')&quot;&gt;\r\n    &lt;div v-if=&quot;check_url(d.clsbg)&quot; class=&quot;gmkj_bg abs0 wh100&quot;&gt;&lt;img :src=&quot;handleUrl(d.clsbg)&quot; class=&quot;wh100&quot; alt=&quot;&quot;&gt;&lt;/div&gt;\r\n    &lt;div v-if=&quot;conType(d.clsbg) == 'content'&quot; class=&quot;gmkj_bg abs0 wh100&quot;&gt;\r\n        &lt;gmkj-diy :bar=&quot;barConfig&quot; pname=&quot;背景优加_&quot; v-if=&quot;conType(d.clsbg) == 'content'&quot; ref=&quot;bgDiy&quot; :d=&quot;d.clsbg&quot; :spm=&quot;spmData&quot; :good=&quot;good&quot;&gt;&lt;/gmkj-diy&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- 多背景 --&gt;\r\n    &lt;div class=&quot;abs0&quot; v-for=&quot;(item,i) in banner&quot; :style=&quot;{zIndex:curinx==i?2:1,opacity:curinx==i?1:0,pointerEvents:(curinx==i &amp;&amp; item.bg)?'auto':'none'}&quot;&gt;\r\n        &lt;gmkj-diy v-if=&quot;item.bg &amp;&amp; item.bg != '0'&quot; :pname=&quot;'第'+i+'背景_'&quot; ref=&quot;bg&quot; :d=&quot;item.bg&quot; :spm=&quot;spmData&quot; :good=&quot;good&quot;&gt;&lt;/gmkj-diy&gt;\r\n        &lt;div  v-else style=&quot;display: none;&quot; ref=&quot;bg&quot;&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;gmkj_swiper&quot; :style=&quot;d.swipercss&quot; style=&quot;overflow: hidden;z-index: 5;&quot;&gt;\r\n        &lt;div class=&quot;swiper-wrapper&quot; :class=&quot;d.lbtype==3?'swiper-no-swiping':''&quot;&gt;\r\n            &lt;div v-for=&quot;(item,index) in banner&quot; class=&quot;swiper-slide wh100&quot; style=&quot;overflow: hidden;transform: translateZ(0);&quot;&gt;\r\n                &lt;div v-if=&quot;conType(item.pictureUrl) == 'pic'&quot; @click.stop=&quot;goUrl(item.link,null,'第'+(index+1)+'个图片')&quot; class=&quot;wh100&quot;&gt;&lt;img class=&quot;wh100&quot; :src=&quot;handleUrl(item.pictureUrl)&quot; /&gt;&lt;/div&gt;\r\n                &lt;gmkj-diy :bar=&quot;barConfig&quot; :pname=&quot;'第'+(index+1)+'屏内容_'&quot; v-if=&quot;conType(item.pictureUrl) == 'content'&quot; :ref=&quot;'diymod'+ index&quot; :d=&quot;item.pictureUrl&quot; :spm=&quot;spmData&quot; :good=&quot;good&quot;&gt;&lt;/gmkj-diy&gt;\r\n                &lt;div v-for=&quot;(it,i) in item.tcArr&quot; v-if=&quot;it.tccss&quot; class=&quot;abs0&quot; style=&quot;transform: translateZ(0);&quot; :style=&quot;[it.tccss,{zIndex:30}]&quot; @click.stop=&quot;opentc(it,i)&quot;&gt;&lt;img class=&quot;wh100&quot; src=&quot;//img20.360buyimg.com/zx/jfs/t1/192381/1/7685/1073/60c2bc70Ec7587644/0da7bea17ee5f94d.png&quot; alt=&quot;&quot;&gt;&lt;/div&gt;\r\n                &lt;transition v-if=&quot;!isFullTc&quot; :name=&quot;getAniName&quot;&gt;\r\n                    &lt;div v-if=&quot;tcshow &amp;&amp; curinx == index&quot; class=&quot;gmkj_tcpic abs0&quot; style=&quot;transform: translateZ(0);background:transparent;display: block;z-index: 104;overflow: hidden;&quot; :style=&quot;currTcpic.tcpiccss&quot;&gt;\r\n                        &lt;div style=&quot;position: relative;display: inline-block;z-index: 2;&quot; :style=&quot;[currTcpic.tcpiccss,{top:0,left:0}]&quot;&gt;\r\n                            &lt;gmkj-diy :bar=&quot;barConfig&quot; :pname=&quot;'第'+(curinx+1)+'屏内容_第'+(tcIndex)+'个弹窗_'&quot; v-if=&quot;conType(currTcpic.tcdiy) == 'content'&quot; ref=&quot;tcdiy&quot; :d=&quot;currTcpic.tcdiy&quot; :spm=&quot;spmData&quot; :ids=&quot;godIds&quot;&gt;&lt;/gmkj-diy&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div v-if=&quot;d.close&quot; class=&quot;gmkj_close&quot; style=&quot;z-index: 3;&quot; :style=&quot;d.closecss&quot; @click.stop=&quot;closetc()&quot;&gt;&lt;img class=&quot;wh100&quot; :src=&quot;d.close&quot; alt=&quot;&quot;&gt;&lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/transition&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div v-if=&quot;d.isjt &amp;&amp; d.jtpic&quot; class=&quot;gmkj_swiper_prev&quot; @click.stop=&quot;slideTo('prev')&quot; :style=&quot;[d.jtleft,{zIndex:d.isjttop == '1'?20:13}]&quot;&gt;&lt;/div&gt;\r\n    &lt;div v-if=&quot;d.isjt &amp;&amp; d.jtpic&quot; class=&quot;gmkj_swiper_next&quot; @click.stop=&quot;slideTo('next')&quot; :style=&quot;[d.jtright,{zIndex:d.isjttop == '1'?20:13}]&quot;&gt;&lt;/div&gt;\r\n    &lt;!-- 触点 --&gt;\r\n    &lt;div v-if=&quot;d.popshow &amp;&amp; d.pop_whtl &amp;&amp; banner.length&gt;1 &amp;&amp; check_url(d.popbg) &amp;&amp; d.poptype==4&quot; class=&quot;abs0&quot; :style=&quot;[d.popbox,{zIndex: d.ispoptop == '1'?2:11}]&quot; style=&quot;z-index: 11;overflow: hidden;&quot;&gt;&lt;img  class=&quot;wh100&quot; :src=&quot;d.popbg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;\r\n    &lt;div v-if=&quot;d.popshow &amp;&amp; d.pop_whtl &amp;&amp; banner.length&gt;1&quot; class=&quot;gmkj_pagination&quot; style=&quot;z-index: 12;&quot; :style=&quot;[d.popbox,{zIndex: d.ispoptop == '1'?2:12, overflowX:d.poptype==4?'hidden':'auto',background:check_url(d.popbg)?'transparent':d.popbg}]&quot;&gt;\r\n        &lt;div v-if=&quot;check_url(d.popbg) &amp;&amp; d.poptype!=4&quot; class=&quot;abs0 wh100&quot;&gt;&lt;img  class=&quot;wh100&quot; :src=&quot;d.popbg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;\r\n        &lt;div v-if=&quot;d.poptype!=4&quot; style=&quot;position: relative;z-index:2;&quot; class=&quot;gmkj_popall&quot; :style=&quot;{width:rem(popAllwidth),flexDirection:d.poptype == '2'?'column':'row',flexWrap: d.poptype == '3'?'wrap':'nowrap',justifyContent:d.justifyContent}&quot;&gt;\r\n            &lt;div v-if=&quot;d.popjd == '0'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in banner&quot; :style=&quot;[item.pop1,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1, {margin:0,opacity:index == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2, {margin:0,opacity:index != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n            &lt;div v-if=&quot;d.popjd == '1'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in banner&quot; :style=&quot;[item.pop2,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2,{margin:0}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; :class=&quot;{gmkj_popactive:(index &lt; curinx || (index==curinx&amp;&amp;firstPop))}&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1,{transition: index == curinx&amp;&amp;firstPop?d.auto_t+0.5 + 's all': '',transform:'translateX(-101%)',margin:0,zIndex:2}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n            &lt;div v-if=&quot;d.popjd == '2'&quot; class=&quot;gmkj_popitem&quot; :class=&quot;{gmkj_tantiao:index == curinx}&quot; v-for=&quot;(item,index) in banner&quot; :style=&quot;[item.pop1,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1, {margin:0,opacity:index == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2, {margin:0,opacity:index != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n            &lt;div v-if=&quot;d.popjd == '3'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in banner&quot; :style=&quot;[item.pop1,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1, {margin:0,transition:`0.3s all`,opacity:index == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2, {margin:0,transition:`0.3s all`,opacity:index != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n            &lt;div v-if=&quot;d.popjd == '4'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in banner&quot; :style=&quot;[item.pop1,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2,{margin:0,transition:`0.3s all`,opacity:index%len0 == curinx?0:1}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1, {margin:0,transition:`0.3s all`,transform:`translateY(${index == curinx?'0%':'-100%'})`}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div v-if=&quot;d.poptype==4&quot; style=&quot;position: relative;z-index:2;&quot; class=&quot;gmkj_popall&quot;&gt;\r\n            &lt;div v-if=&quot;d.popjd == '0' || d.popjd == '1'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in popban&quot; :style=&quot;[item.pop1,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1, {margin:0,opacity:index%len0 == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2, {margin:0,opacity:index%len0 != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n            &lt;div v-if=&quot;d.popjd == '2'&quot; class=&quot;gmkj_popitem&quot; :class=&quot;{gmkj_tantiao:index%len0 == curinx}&quot; v-for=&quot;(item,index) in popban&quot; :style=&quot;[item.pop1,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1, {margin:0,opacity:index%len0 == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2, {margin:0,opacity:index%len0 != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n            &lt;div v-if=&quot;d.popjd == '3'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in popban&quot; :style=&quot;[item.pop1,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1, {margin:0,transition:`0.3s all`,opacity:index%len0 == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2, {margin:0,transition:`0.3s all`,opacity:index%len0 != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n            &lt;div v-if=&quot;d.popjd == '4'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in popban&quot; :style=&quot;[item.pop1,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2,{margin:0,transition:`0.3s all`,opacity:index%len0 == curinx?0:1}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1, {margin:0,transition:`0.3s all`,transform:`translateY(${index%len0 == (curinx)?'0%':'-100%'})`}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- 滚动条 --&gt;\r\n    &lt;div v-if=&quot;d.isbar &amp;&amp; d.bar_whtl &amp;&amp; banner.length&gt;1&quot; style=&quot;z-index: 13;&quot; class=&quot;gmkj_barbox&quot; :style=&quot;d.barcss&quot;&gt;\r\n        &lt;div class=&quot;gmkj_bar&quot; :style=&quot;[d.barconcss,{transform: `translateX(${rem(curinx*(space+1))})`}]&quot;&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- 蒙层 --&gt;\r\n    &lt;div v-if=&quot;d.ismeng &amp;&amp; d.meng &amp;&amp; d.meng != 0&quot; class=&quot;abs0&quot; :style=&quot;[d.mengcss,{zIndex:14}]&quot;&gt;\r\n        &lt;gmkj-diy :bar=&quot;barConfig&quot; pname=&quot;蒙层优加_&quot; v-if=&quot;conType(d.meng) == 'content'&quot; ref=&quot;mengDiy&quot; :d=&quot;d.meng&quot; :spm=&quot;spmData&quot; :good=&quot;good&quot;&gt;&lt;/gmkj-diy&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- 弹窗 --&gt;\r\n    &lt;div v-if=&quot;currTcpic &amp;&amp; isFullTc&quot; class=&quot;abs0 wh100&quot; :style=&quot;d.tcbgcss&quot; style=&quot;z-index: 103;&quot; @click.stop=&quot;closetc()&quot;&gt;&lt;/div&gt;\r\n    &lt;transition v-if=&quot;isFullTc&quot; :name=&quot;getAniName&quot;&gt;\r\n        &lt;div v-if=&quot;tcshow&quot; class=&quot;gmkj_tcpic abs0&quot; style=&quot;background:transparent;display: block;z-index: 104;&quot;&gt;\r\n            &lt;div style=&quot;position: relative;display: inline-block;z-index: 2;&quot; :style=&quot;[currTcpic.tcpiccss]&quot;&gt;\r\n                &lt;gmkj-diy :bar=&quot;barConfig&quot; :pname=&quot;'第'+(curinx+1)+'屏内容_第'+(tcIndex)+'个弹窗_'&quot; v-if=&quot;conType(currTcpic.tcdiy) == 'content'&quot; ref=&quot;tcdiy&quot; :d=&quot;currTcpic.tcdiy&quot; :spm=&quot;spmData&quot; :ids=&quot;godIds&quot;&gt;&lt;/gmkj-diy&gt;\r\n            &lt;/div&gt;\r\n            &lt;div v-if=&quot;d.close&quot; class=&quot;gmkj_close&quot; style=&quot;z-index: 3;&quot; :style=&quot;d.closecss&quot; @click.stop=&quot;closetc()&quot;&gt;&lt;img class=&quot;wh100&quot; :src=&quot;d.close&quot; alt=&quot;&quot;&gt;&lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/transition&gt;\r\n&lt;/div&gt;\r\n&lt;div class=&quot;gmkj_loading&quot; style=&quot;width:100%;min-height: 80px;display: flex;justify-content: center;align-items: center;opacity: 0;&quot;&gt;&lt;img src=&quot;https://img12.360buyimg.com/zx/jfs/t1/198089/40/628/3897/6103d4c0Ec621cde0/84a5f65d0f83b856.gif&quot; style=&quot;width:40px;height:40px;&quot; alt=&quot;&quot;&gt;&lt;/div&gt;\r\n\r\n&lt;script&gt;\r\n    ; (function () {\r\n        $.fn.scrollL = function (options) { var defaults = { toLeft: 0, durTime: 500, delay: 30, callback: null }; var opts = $.extend(defaults, options), timer = null, _this = this, curLeft = _this.scrollLeft(), subTop = opts.toLeft - curLeft, index = 0, dur = Math.round(opts.durTime / opts.delay), smoothScroll = function (t) { index++; var per = Math.round(subTop / dur); if (index &gt;= dur) { _this.scrollLeft(t); window.clearInterval(timer); if (opts.callback &amp;&amp; typeof opts.callback == &quot;function&quot;) { opts.callback() } return } else { _this.scrollLeft(curLeft + index * per) } }; timer = window.setInterval(function () { smoothScroll(opts.toLeft) }, opts.delay); return _this };\r\n        // 获取url参数\r\n        function getParams(variable) { var query = window.location.search.substring(1); var vars = query.split(&quot;&amp;&quot;); for (var i = 0; i &lt; vars.length; i++) { var pair = vars[i].split(&quot;=&quot;); if (pair[0] == variable) { return pair[1] } } return (false) }\r\n        let debug = getParams('debug') ? true : false;\r\n        //缩放比例\r\n        let scale = document.body.clientWidth / 1125;\r\n        // 加载第三方js\r\n        function loadScript(script, rm = true) { const head = document.getElementsByTagName('head')[0]; let arr = []; if (typeof script === 'string') { script = [script] } if (Array.prototype.isPrototypeOf(script)) { script.forEach(it =&gt; { arr.push(new Promise((resolve, reject) =&gt; { const s = document.createElement('script'); script.type = &quot;application/x-javascript&quot;; if (it) { s.async = true; s.onload = () =&gt; resolve(s); s.onerror = reject; s.src = it } head.appendChild(s); if (!it) { resolve(s) } })) }); return Promise.all(arr).then((s) =&gt; { rm &amp;&amp; (s || []).forEach(it =&gt; { it.parentNode.removeChild(it) }) }) } else { return false } }\r\n        // 分隔字符串\r\n        function split_a(str, flag) { let arr = ((str || &quot;&quot;).replace(/，/g, ',')).split(&quot;,&quot;); if (flag) { arr = (arr || []).map(it =&gt; { return String(Number(it)) == &quot;NaN&quot; ? it : Number(it); }) } return arr; }\r\n        function throttle(func, delay) { var timer = null; return function () { var context = this; var args = arguments; if (!timer) { timer = setTimeout(function () { func.apply(context, args); timer = null }, delay) } } }\r\n        function debounce(func, wait = 0) { if (typeof func !== 'function') { throw new TypeError('need a function arguments') } let timeid = null; let result; return function () { let context = this; let args = arguments; if (timeid) { clearTimeout(timeid) } timeid = setTimeout(function () { result = func.apply(context, args) }, wait); return result } }\r\n        function onAppear(id, callback, fn) { if (fn) { try { document.addEventListener('visibilitychange', fn); } catch (err) { console.log(err) } } let con = $(id); if (con.length) { function isShow() { let temp = $(window).scrollTop(), offset = con.offset(); if (temp &gt;= offset.top &amp;&amp; temp &lt;= offset.top + offset.height || offset.top &gt;= temp &amp;&amp; offset.top &lt;= (temp + $(window).height())) { callback &amp;&amp; callback(true); } else { callback &amp;&amp; callback(false); } } isShow(); $(window).scroll(throttle(isShow, 500)); } }\r\n        // 埋点函数\r\n        function spm(obj) { let eventId = &quot;Babel_dev_&quot; + obj.id || &quot;&quot;; try { var click = new MPing.inputs.Click(eventId); click.event_param = JSON.stringify(obj); click.updateEventSeries(); (new MPing()).send(click) } catch (e) { } }\r\n        function rem(size, flag) { size = parseInt(size || 0); return flag ? parseInt(size * scale) : parseInt(size * scale) + &quot;px&quot;; }\r\n        // load加载,需要提前定义mid和id，填true则是隐藏\r\n        function loading(flag) { let dom = $(`.module_${mid}`); if (flag) { if (dom.length) { $(`.module_${mid} .gmkj_loading`).css({ display: &quot;none&quot; }); } else if ($(`.gmkj_loading`)) { $(`.gmkj_loading`).css({ display: &quot;none&quot; }); } $(`${id}`).css({ display: &quot;block&quot; }); } else { if (dom.length) { $(`.module_${mid} .gmkj_loading`).css({ height: rem(d.clsheight), opacity: 1 }); } else if ($(`.gmkj_loading`)) { $(`.gmkj_loading`).css({ height: rem(d.clsheight), opacity: 1 }); } } }\r\n        // 格式化自定义代码\r\n        function getDiyData(bData) { bData = bData || &quot;&quot;; bData = bData.replace(/(^\\s*)|(\\s*$)/g, &quot;&quot;); let reg = /\\&quot;\\{\\&quot;mT\\&quot;\\:\\&quot;diyModule\\&quot;.*?\\}{0,1}\\]\\}\\&quot;/g; let diy = bData.match(reg), d = {}; try { if ((diy || []).length &gt; 0) { diy.forEach(it =&gt; { let newStr = it.substring(1, it.length - 1); bData = bData.replace(it, newStr); }); d = JSON.parse(bData); } else { d = JSON.parse(bData); } } catch (err) { d = {}; console.error(&quot;优加自定义转换失败&quot;, err); } return d; }\r\n        const delPx = (val) =&gt; { return val.replace('px', '') }\r\n        //埋点全局对象设置\r\n        window.jap ? window.jap : window.jap = { siteId: 'MO-J2011-1', autoLogPv: true }\r\n\r\n        let mock = {\r\n            clsheight: &quot;910&quot;,\r\n            clsbg: &quot;//img12.360buyimg.com/zx/jfs/t1/122498/28/2141/6884/5ec37af2E4f7415eb/ed215d314769a72b.png&quot;,\r\n            auto: &quot;0&quot;,\r\n            auto_t: &quot;3&quot;,\r\n            banner: [\r\n                { pictureUrl: '{&quot;mT&quot;:&quot;diyModule&quot;,&quot;width&quot;:1125,&quot;height&quot;:&quot;770&quot;,&quot;bC&quot;:&quot;&quot;,&quot;components&quot;:[{&quot;type&quot;:&quot;img&quot;,&quot;name&quot;:&quot;图片1&quot;,&quot;width&quot;:696,&quot;height&quot;:696,&quot;left&quot;:&quot;30&quot;,&quot;top&quot;:&quot;30&quot;,&quot;src&quot;:&quot;//img14.360buyimg.com/cms/jfs/t1/88111/6/16712/173137/5e7c7b4aEeeb19967/653d77a36e18bb2b.jpg&quot;},{&quot;type&quot;:&quot;imgan&quot;,&quot;name&quot;:&quot;单图动画2&quot;,&quot;width&quot;:335,&quot;height&quot;:335,&quot;left&quot;:760,&quot;top&quot;:30,&quot;tx&quot;:0,&quot;ty&quot;:&quot;50&quot;,&quot;ops&quot;:&quot;0&quot;,&quot;ope&quot;:&quot;1&quot;,&quot;tss&quot;:&quot;&quot;,&quot;tse&quot;:&quot;&quot;,&quot;td&quot;:&quot;0.6&quot;,&quot;ttf&quot;:&quot;linear&quot;,&quot;ttr&quot;:&quot;&quot;,&quot;delay&quot;:&quot;0.1&quot;,&quot;antype&quot;:&quot;fadeIn&quot;,&quot;completeHide&quot;:&quot;false&quot;,&quot;bI&quot;:&quot;//img13.360buyimg.com/cms/jfs/t1/109967/1/10318/26407/5e7c7b4aE7c85561c/35fa0b2b781eb751.jpg&quot;},{&quot;type&quot;:&quot;imgan&quot;,&quot;name&quot;:&quot;单图动画3&quot;,&quot;width&quot;:337,&quot;height&quot;:337,&quot;left&quot;:760,&quot;top&quot;:389,&quot;tx&quot;:0,&quot;ty&quot;:&quot;-50&quot;,&quot;ops&quot;:&quot;0&quot;,&quot;ope&quot;:&quot;1&quot;,&quot;tss&quot;:&quot;&quot;,&quot;tse&quot;:&quot;&quot;,&quot;td&quot;:&quot;0.6&quot;,&quot;ttf&quot;:&quot;linear&quot;,&quot;ttr&quot;:&quot;&quot;,&quot;delay&quot;:&quot;0.1&quot;,&quot;antype&quot;:&quot;fadeIn&quot;,&quot;completeHide&quot;:&quot;false&quot;,&quot;bI&quot;:&quot;//img11.360buyimg.com/cms/jfs/t1/108416/34/10234/46295/5e7c7b4aEbab4de19/d068feaa0c7a8ee6.png&quot;}]}', link: &quot;&quot; ,},\r\n                { pictureUrl: '{&quot;mT&quot;:&quot;diyModule&quot;,&quot;width&quot;:1125,&quot;height&quot;:&quot;770&quot;,&quot;bC&quot;:&quot;&quot;,&quot;components&quot;:[{&quot;type&quot;:&quot;img&quot;,&quot;name&quot;:&quot;图片1&quot;,&quot;width&quot;:696,&quot;height&quot;:696,&quot;left&quot;:&quot;30&quot;,&quot;top&quot;:&quot;30&quot;,&quot;src&quot;:&quot;//img14.360buyimg.com/cms/jfs/t1/88111/6/16712/173137/5e7c7b4aEeeb19967/653d77a36e18bb2b.jpg&quot;},{&quot;type&quot;:&quot;imgan&quot;,&quot;name&quot;:&quot;单图动画2&quot;,&quot;width&quot;:335,&quot;height&quot;:335,&quot;left&quot;:760,&quot;top&quot;:30,&quot;tx&quot;:0,&quot;ty&quot;:&quot;50&quot;,&quot;ops&quot;:&quot;0&quot;,&quot;ope&quot;:&quot;1&quot;,&quot;tss&quot;:&quot;&quot;,&quot;tse&quot;:&quot;&quot;,&quot;td&quot;:&quot;0.6&quot;,&quot;ttf&quot;:&quot;linear&quot;,&quot;ttr&quot;:&quot;&quot;,&quot;delay&quot;:&quot;0.1&quot;,&quot;antype&quot;:&quot;fadeIn&quot;,&quot;completeHide&quot;:&quot;false&quot;,&quot;bI&quot;:&quot;//img13.360buyimg.com/cms/jfs/t1/109967/1/10318/26407/5e7c7b4aE7c85561c/35fa0b2b781eb751.jpg&quot;},{&quot;type&quot;:&quot;imgan&quot;,&quot;name&quot;:&quot;单图动画3&quot;,&quot;width&quot;:337,&quot;height&quot;:337,&quot;left&quot;:760,&quot;top&quot;:389,&quot;tx&quot;:0,&quot;ty&quot;:&quot;-50&quot;,&quot;ops&quot;:&quot;0&quot;,&quot;ope&quot;:&quot;1&quot;,&quot;tss&quot;:&quot;&quot;,&quot;tse&quot;:&quot;&quot;,&quot;td&quot;:&quot;0.6&quot;,&quot;ttf&quot;:&quot;linear&quot;,&quot;ttr&quot;:&quot;&quot;,&quot;delay&quot;:&quot;0.1&quot;,&quot;antype&quot;:&quot;fadeIn&quot;,&quot;completeHide&quot;:&quot;false&quot;,&quot;bI&quot;:&quot;//img11.360buyimg.com/cms/jfs/t1/108416/34/10234/46295/5e7c7b4aEbab4de19/d068feaa0c7a8ee6.png&quot;}]}', link: &quot;&quot; ,},\r\n                { pictureUrl: '{&quot;mT&quot;:&quot;diyModule&quot;,&quot;width&quot;:1125,&quot;height&quot;:&quot;760&quot;,&quot;bC&quot;:&quot;&quot;,&quot;components&quot;:[{&quot;type&quot;:&quot;img&quot;,&quot;name&quot;:&quot;图片1&quot;,&quot;width&quot;:696,&quot;height&quot;:696,&quot;left&quot;:&quot;30&quot;,&quot;top&quot;:&quot;30&quot;,&quot;src&quot;:&quot;//img10.360buyimg.com/cms/jfs/t1/109914/1/10361/231862/5e7c7d62E5eab6718/ab3b8f1af6ee06b9.jpg&quot;},{&quot;type&quot;:&quot;imgan&quot;,&quot;name&quot;:&quot;单图动画2&quot;,&quot;width&quot;:335,&quot;height&quot;:335,&quot;left&quot;:760,&quot;top&quot;:30,&quot;tx&quot;:0,&quot;ty&quot;:&quot;50&quot;,&quot;ops&quot;:&quot;0&quot;,&quot;ope&quot;:&quot;1&quot;,&quot;tss&quot;:&quot;&quot;,&quot;tse&quot;:&quot;&quot;,&quot;td&quot;:&quot;0.6&quot;,&quot;ttf&quot;:&quot;linear&quot;,&quot;ttr&quot;:&quot;&quot;,&quot;delay&quot;:&quot;0.1&quot;,&quot;antype&quot;:&quot;fadeIn&quot;,&quot;completeHide&quot;:&quot;false&quot;,&quot;bI&quot;:&quot;//img11.360buyimg.com/cms/jfs/t1/110152/31/10347/26751/5e7c7d62Eed168d5a/8accf010a87c7dd2.jpg&quot;},{&quot;type&quot;:&quot;imgan&quot;,&quot;name&quot;:&quot;单图动画3&quot;,&quot;width&quot;:337,&quot;height&quot;:337,&quot;left&quot;:760,&quot;top&quot;:389,&quot;tx&quot;:0,&quot;ty&quot;:&quot;-50&quot;,&quot;ops&quot;:&quot;0&quot;,&quot;ope&quot;:&quot;1&quot;,&quot;tss&quot;:&quot;&quot;,&quot;tse&quot;:&quot;&quot;,&quot;td&quot;:&quot;0.6&quot;,&quot;ttf&quot;:&quot;linear&quot;,&quot;ttr&quot;:&quot;&quot;,&quot;delay&quot;:&quot;0.1&quot;,&quot;antype&quot;:&quot;fadeIn&quot;,&quot;completeHide&quot;:&quot;false&quot;,&quot;bI&quot;:&quot;//img12.360buyimg.com/cms/jfs/t1/102964/19/16691/102249/5e7c7d62E37062d4e/76b76bd11e249c45.png&quot;}]}', link: &quot;&quot;,},\r\n            ],\r\n            swiper_whtl: &quot;1125,790,124&quot;,\r\n            popshow: &quot;1&quot;,\r\n            pop_whtl: &quot;255,60,60&quot;,\r\n            pop_set: &quot;60&quot;,\r\n\r\n            pop1: &quot;//img11.360buyimg.com/cms/jfs/t1/104429/34/16520/4691/5e7c74cdE2f8c55d1/5197b19db8b77f98.png,//img14.360buyimg.com/cms/jfs/t1/98339/36/16574/4053/5e7c7b4aEe7371b5e/720426abd6de0319.png,//img13.360buyimg.com/cms/jfs/t1/101732/1/16683/3797/5e7c7d62E97975154/646a0baa3ef2971c.png&quot;,\r\n            pop2: &quot;//img11.360buyimg.com/cms/jfs/t1/105215/20/16431/4449/5e7c74cdEccf1ed5d/a8bd352897d35548.png,//img13.360buyimg.com/cms/jfs/t1/104445/18/16502/3971/5e7c7b4aEbeb248f6/49b6d808e04529b0.png,//img12.360buyimg.com/cms/jfs/t1/91487/25/16446/3695/5e7c7d62Ead4fbbbf/a473ef55a2bc38a8.png&quot;,\r\n            popjd: &quot;0&quot;,\r\n            // popbg:&quot;//img12.360buyimg.com/zx/jfs/t1/106788/33/7106/186816/5df8a2a1E3fc0694a/76840dc55f22b03c.jpg&quot;,\r\n            // jtpic: &quot;https://img14.360buyimg.com/n1/s546x546_jfs/t1/158415/21/11452/64298/6045967fE9057de0b/a69059bfc27e0407.jpg,https://img14.360buyimg.com/n1/s546x546_jfs/t1/158415/21/11452/64298/6045967fE9057de0b/a69059bfc27e0407.jpg&quot;,\r\n            // jt_whtl: &quot;100,100,700&quot;,\r\n            // jtAniMark: &quot;1&quot;,\r\n            // bar_whtl: &quot;665,50,1300&quot;,\r\n            // bar_w: &quot;246&quot;,\r\n            // bar_set: &quot;red,blue,50&quot;,\r\n            // meng:'0',\r\n            // meng_tl:&quot;200,100&quot;,\r\n\r\n            poptype: &quot;0&quot;,\r\n            lbtype: '0',\r\n            lbdir: &quot;0&quot;,\r\n            cenLeft: '',\r\n            // tcpop_wh: &quot;200,200,red&quot;,\r\n            // tcdiy_0_0: '',\r\n            // tcset_0_0: &quot;100,100&quot;,\r\n            // tcdiy_0_1: '',\r\n            // tcset_0_1: &quot;500,100|400&quot;,\r\n\r\n            close: &quot;https://img20.360buyimg.com/zx/jfs/t1/116034/15/2188/4077/5e9ffda7Eda4c9c85/12d1849dc9516f54.png&quot;,\r\n            close_whtl: &quot;150,150,0,975&quot;,\r\n            tcbg: &quot;#000,0.8&quot;,\r\n            initpage: &quot;0&quot;,\r\n            initflag: &quot;0&quot;,\r\n\r\n            tcani: &quot;0&quot;,\r\n            isFullTc: &quot;0&quot;,\r\n            isAutoTc: &quot;0&quot;,\r\n            // diy_bar_whtl:&quot;500,100,200&quot;,\r\n            // diy_bar_w:&quot;100&quot;,\r\n            // diy_bar_set:&quot;red,blue&quot;\r\n        }\r\n        let d = mock, id = &quot;.gmkj_product_diy&quot;, mid = Number(&quot;{{{moduleId}}}&quot;), godIds = &quot;&quot;;\r\n\r\n        id =  `.module_${mid} ${id}`;\r\n        godIds = ((JSON.parse({{{godIds}}})||[]).map(it=&gt;it.godGrpId) || []).join(&quot;,&quot;);\r\n        d = getDiyData({{{ boardParams }}});\r\n\r\n        loading();\r\n        let plug = [];\r\n        if (!window.Vue) { plug.push(&quot;//storage.360buyimg.com/babelview/00029824/vue.js?t=20220513211804&quot;) }\r\n        if (!window.Swiper) { plug.push(&quot;//storage.360buyimg.com/babelview/00029824/swiper.min.js?t=20220513211804&quot;) }\r\n        if (!window.gmdiyModule28) { plug.push(&quot;//storage.360buyimg.com/babelview/00029824/diymodule.js?t=20220513211804&quot;) }\r\n\r\n        loadScript(plug).then(() =&gt; {\r\n            let mixins = {\r\n                data: {\r\n                    spmData: {},//埋点数据\r\n                    godIds,//商品id\r\n                    good: [],//商品数组\r\n                    isMount: false,//是否挂载成功\r\n                    isGoodData: false,//是否获取到商品数据\r\n                    isPower: false,//是否开启权限显示模块\r\n                    isModuleShow: true,\r\n                    moduleShop: [\r\n                        { id: 1000306683, name: &quot;兰蔻京东自营官方旗舰店&quot; }\r\n                    ],\r\n                },\r\n                created() {\r\n                    this.getSpmData();//获取埋点数据\r\n                    this.getGoodData();//获取商品数据\r\n                },\r\n                mounted() {\r\n                    this.isMount = true;\r\n                },\r\n                methods: {\r\n                    conType(item) { let type = &quot;pic&quot;; try { if (this.isType(item) == &quot;object&quot;) { return &quot;content&quot; } if (this.isType(item) == &quot;string&quot;) { JSON.parse(item); type = &quot;content&quot;; } } catch (err) { }; return type; },\r\n                    goUrl(url, item, other) {\r\n                        if (!url || url == &quot;0&quot;) { return false; }\r\n                        if (item) {\r\n                            if (item.advertId) { spm(Object.assign(this.spmData, { id: &quot;adv_&quot; + item.advertId, adid: item.advertId, agid: this.d.bannerId })) }\r\n                            if (item.skuId &amp;&amp; other != &quot;addcart&quot;) { spm(Object.assign(this.spmData, { id: &quot;sku_&quot; + item.skuId, sku: item.skuId, sgid: this.d.goodId })) }\r\n                            if (item.skuId &amp;&amp; other == &quot;addcart&quot;) { spm(Object.assign(this.spmData, { id: &quot;shoppingcart_&quot; + item.skuId, sku: item.skuId, sgid: this.d.goodId })) }\r\n                        }\r\n                        if (other &amp;&amp; other != &quot;addcart&quot;) { spm(Object.assign(this.spmData, { id: &quot;other_&quot; + other })) }\r\n                        if (this.isNumber(url)) { url = &quot;https://item.m.jd.com/product/&quot; + url + &quot;.html&quot;; }\r\n                        setTimeout(() =&gt; { ($(`&lt;a target=&quot;_self&quot; href=&quot;${url}&quot;&gt;&lt;/a&gt;`)).click(); }, 50);\r\n                    },\r\n                    css(type, d1, d2) {\r\n                        //type为类型, d1为原数据，d2为默认数据\r\n                        let t = [];\r\n                        d2 = this.isType(d2) == &quot;array&quot; ? (d2 || []) : (split_a(String(d2) || &quot;&quot;) || []);\r\n                        if (d1 == undefined || d1 == &quot;&quot; || d1 == null) {\r\n                            t = d2;\r\n                        } else {\r\n                            t = this.isType(d1) == &quot;array&quot; ? (d1 || []) : (split_a(String(d1) || &quot;&quot;) || []);\r\n                        }\r\n                        var obj = { arr: t, css: {} }\r\n                        if (type == &quot;whtl&quot; || type == &quot;whtr&quot;) {\r\n                            switch (t.length) {\r\n                                case 1: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), }; break;\r\n                                case 2: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), height: this.rem(t[1] || d2[1]), minHeight: this.rem(t[1] || d2[1]), }; break;\r\n                                case 3: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), height: this.rem(t[1] || d2[1]), minHeight: this.rem(t[1] || d2[1]), top: this.rem(t[2] || d2[2]), }; break;\r\n                                case 4: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), height: this.rem(t[1] || d2[1]), minHeight: this.rem(t[1] || d2[1]), top: this.rem(t[2] || d2[2]), left: this.rem(t[3] || d2[3]) }; break;\r\n                            }\r\n                            if (type == &quot;whtr&quot; &amp;&amp; t.length == 4) {\r\n                                obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), height: this.rem(t[1] || d2[1]), minHeight: this.rem(t[1] || d2[1]), top: this.rem(t[2] || d2[2]), right: this.rem(t[3] || d2[3]) };\r\n                            }\r\n                        } else if (type == &quot;wh&quot;) {\r\n                            switch (t.length) {\r\n                                case 1: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), }; break;\r\n                                case 2: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), height: this.rem(t[1] || d2[1]), minHeight: this.rem(t[1] || d2[1]), }; break;\r\n                            }\r\n                        } else if (type == &quot;tl&quot;) {\r\n                            switch (t.length) {\r\n                                case 1: obj.css = { top: this.rem(t[0] || d2[0]), }; break;\r\n                                case 2: obj.css = { top: this.rem(t[0] || d2[0]), left: this.rem(t[1] || d2[1]), }; break;\r\n                            }\r\n                        } else if (type == &quot;sc&quot;) {\r\n                            switch (t.length) {\r\n                                case 1: obj.css = { fontSize: this.rem(t[0] || d2[0]), }; break;\r\n                                case 2: obj.css = { fontSize: this.rem(t[0] || d2[0]), color: t[1] || d2[1] }; break;\r\n                            };\r\n                        }\r\n                        return obj.css\r\n                    },\r\n                    expoModuleShow() {\r\n                        let obj = {\r\n                            aid: this.spmData.aid, mid: this.spmData.mid, fno: this.spmData.fno,\r\n                            eventId: &quot;Babel_dev_expo_other_moduleshow&quot;\r\n                        }\r\n                        try {\r\n                            if (!this.spmData.aid || !this.spmData.mid) { return }\r\n                            var click = new MPing.inputs.Click(obj.eventId);\r\n                            click.event_param = JSON.stringify(obj);\r\n                            click.updateEventSeries();\r\n                            (new MPing()).send(click);\r\n                        } catch (e) { console.log(e) }\r\n                    },\r\n                    getIsModuleShow() {\r\n                        let shopId = (((window.__react_data__ || {}).activityData || {}).head || {}).shopId;\r\n                        if (!this.moduleShop.find(it =&gt; it.id == shopId)) {\r\n                            this.isModuleShow = false;\r\n                            $(`.module_${mid} .gmkj_loading`).css({ display: &quot;none&quot; });\r\n                        }\r\n                    },\r\n                    getSpmData() {\r\n                        if (window.__react_data__) {\r\n                            let wData = window.__react_data__ || {}, activityData = (wData.activityData || {}), fno = ((activityData.floorList || []).find(it =&gt; it.moduleId == mid) || { ofn: 2 }).ofn - 1;\r\n                            this.spmData = { aid: activityData.activityId || &quot;&quot;, mid: String(mid), fno: parseInt(fno), biimpr: (activityData.biimpr || &quot;&quot;) + &quot;_&quot; + mid };\r\n                            this.isPower &amp;&amp; this.getIsModuleShow();\r\n                        } else {\r\n                            let count = 0, max = 10;\r\n                            let timer = setInterval(() =&gt; {\r\n                                if (window.__react_data__) {\r\n                                    clearInterval(timer);\r\n                                    let wData = window.__react_data__ || {}, activityData = (wData.activityData || {}), fno = ((activityData.floorList || []).find(it =&gt; it.moduleId == mid) || { ofn: 2 }).ofn - 1;\r\n                                    this.spmData = { aid: activityData.activityId || &quot;&quot;, mid: String(mid), fno: parseInt(fno), biimpr: (activityData.biimpr || &quot;&quot;) + &quot;_&quot; + mid };\r\n                                    this.isPower &amp;&amp; this.getIsModuleShow();\r\n                                }\r\n                                if (count &gt;= max) {\r\n                                    clearInterval(timer);\r\n                                    this.spmData = { aid: &quot;&quot;, mid: String(mid), fno: 1, biimpr: &quot;&quot; };\r\n                                }\r\n                                count++\r\n                            }, 300);\r\n                        }\r\n                    },\r\n                    getGoodData() {\r\n                        let ids = this.myTrim(this.godIds);\r\n                        if (ids) {\r\n                            try {\r\n                                babel.babelProductInfoNew({ body: ids }).then((res) =&gt; {\r\n                                    let arr = [];\r\n                                    for (let i in res.data) {\r\n                                        (res.data[i].list || []).forEach(it =&gt; { it.groupId = res.data[i].groupId; arr.push(it); });\r\n                                    }\r\n                                    this.good = arr;\r\n                                    this.isGoodData = true;\r\n                                    this.initSwiper &amp;&amp; this.initSwiper();\r\n                                });\r\n                            } catch (error) {\r\n                                this.good = [];\r\n                                this.isGoodData = true;\r\n                                this.initSwiper &amp;&amp; this.initSwiper();\r\n                            }\r\n                        } else {\r\n                            this.isGoodData = true;\r\n                            this.initSwiper &amp;&amp; this.initSwiper();\r\n                        }\r\n                    },\r\n                    myTrim(s) { return (s || &quot;&quot;).replace(/(^\\s*)|(\\s*$)/g, &quot;&quot;); },\r\n                    check_url(url) { var re = new RegExp('^((https|http|ftp|rtsp|//))'); if (re.test(url || &quot;&quot;)) { return true; } else { return false; } },\r\n                    handleUrl(url) { url = (url || &quot;&quot;).replace(&quot;!q20.webp&quot;, &quot;&quot;); if ((url || &quot;&quot;).indexOf(&quot;http&quot;) &lt; 0) { return &quot;https:&quot; + url; } return url; },\r\n                    bool(val) { if (val == &quot;1&quot; || val == true) { return true } else { return false } },\r\n                    isNumber(val) { var regPos = /^\\d+(\\.\\d+)?$/; var regNeg = /^(-(([0-9]+\\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/; return (regPos.test(val) || regNeg.test(val)) ? true : false; },\r\n                    isType(target) { if (target === null) { return 'null' } var ret = typeof (target); if (ret === 'object') { var str = Object.prototype.toString.call(target); var obj = { '[object Array]': 'array', '[object Object]': 'object', '[object Number]': 'numberObject', '[object Boolean]': 'booleanObject', '[object String]': 'numberString' }; return obj[str] } else { return ret } },\r\n                    rem(size, flag) { size = parseInt(size || 0); return flag ? parseInt(size * scale) : parseInt(size * scale) + &quot;px&quot;; },\r\n                }\r\n            }\r\n\r\n            window[id.slice(1).split(&quot; &quot;)[0]] = new Vue({\r\n                el: id,\r\n                mixins: [mixins],\r\n                components: { 'gmkj-diy': window.gmdiyModule28 },\r\n                provide: { noClick: false },\r\n                data: {\r\n                    tcIndex: 0,\r\n                    d: {},\r\n                    banner: [],\r\n                    curinx: 0,\r\n                    tcshow: false,\r\n                    countNum: 5,//倒计时文字\r\n                    space: 0,\r\n                    firstPop: false,\r\n                    popban: [],\r\n                    len0: 0,\r\n                    currTcpic: &quot;&quot;,\r\n                    isFullTc: true,\r\n                    barConfig: {},\r\n                    debug\r\n                },\r\n                computed: {\r\n                    xfani() { return { gmkj_zkani1: this.d.xfani == &quot;1&quot;, gmkj_zkani2: this.d.xfani == &quot;2&quot;, gmkj_zkani3: this.d.xfani == &quot;3&quot;, gmkj_zkani4: this.d.xfani == &quot;4&quot; } },\r\n                    getAniName() {\r\n                        switch (this.d.tcani) {\r\n                            case &quot;0&quot;: return &quot;gmkj_tcpic_fade&quot;; break;\r\n                            case &quot;1&quot;: return &quot;gmkj_tcpic_top&quot;; break;\r\n                            case &quot;2&quot;: return &quot;gmkj_tcpic_bottom&quot;; break;\r\n                            case &quot;3&quot;: return &quot;gmkj_tcpic_left&quot;; break;\r\n                            case &quot;4&quot;: return &quot;gmkj_tcpic_right&quot;; break;\r\n                            default: return &quot;gmkj_tcpic_fade&quot;;\r\n                        }\r\n                    }\r\n                },\r\n                created() {\r\n                    this.swiperLoop = d.loop != &quot;1&quot;;//轮播是否循环滚动\r\n                    let banner = [];\r\n                    for (let i = 0; i &lt; 15; i++) {\r\n                        if (d[`image${i}`] &amp;&amp; d[`image${i}`] != &quot;0&quot;) {\r\n                            banner.push({ \r\n                                pictureUrl: d[`image${i}`],\r\n                                bg:d[`bg${i}`],\r\n                                link:d[`link${i}`],\r\n                            });\r\n                        }\r\n                    }\r\n                    this.banner = banner.length == 0 ? mock.banner : banner;\r\n                    this.len0 = this.banner.length;\r\n\r\n                    let swiper_whtl = split_a(d.swiper_whtl);\r\n                    d.swipercss = this.css('whtl', d.swiper_whtl, [1125, d.clsheight, 0, 0]);\r\n                    if (!swiper_whtl[3]) { d.swipercss.left = rem((1125 - swiper_whtl[0]) / 2); }\r\n\r\n                    this.isFullTc = d.isFullTc == &quot;1&quot; ? false : true;\r\n                    this.isAutoTc = d.isAutoTc == &quot;1&quot; ? true : false;\r\n\r\n                    this.barConfig = { diy_bar_whtl: d.diy_bar_whtl || &quot;&quot;, diy_bar_w: d.diy_bar_w || &quot;&quot;, diy_bar_set: d.diy_bar_set || &quot;&quot; }\r\n                    // 触点\r\n                    d.popshow = this.bool(d.popshow);\r\n                    d.popjd = d.popjd || &quot;0&quot;;\r\n                    let pop_whtl = split_a(d.pop_whtl || mock.pop_whtl);\r\n                    let popbtm = [(pop_whtl[2] || 0), pop_whtl[3]];\r\n\r\n                    let pop_set = split_a(d.pop_set || mock.pop_set);\r\n                    d.popmarx = parseFloat(pop_set[0]) || 0;\r\n                    d.popbr = parseFloat(pop_set[1]) || 0;\r\n                    d.scrW = parseFloat(pop_set[2]) || 0;\r\n\r\n                    this.popW = Number(pop_whtl[0] || 0) + Number((d.popmarx || 0))\r\n                    let popmarx = Number(d.popmarx || 0);\r\n                    d.popmarx = this.rem((d.popmarx || 0) / 2);\r\n\r\n                    let pop1 = split_a(d.pop1 || mock.pop1);\r\n                    let pop2 = split_a(d.pop2 || mock.pop2);\r\n\r\n                    let popStyle = this.css('wh', [pop_whtl[0], pop_whtl[1],], [0, 0]);\r\n                    // 竖向显示\r\n\r\n                    if (d.poptype != &quot;2&quot;) {\r\n                        popStyle = Object.assign(popStyle, { margin: `0 ${d.popmarx}`, borderRadius: this.rem((d.popbr || 0)) });\r\n                    } else {\r\n                        popStyle = Object.assign(popStyle, { margin: `${d.popmarx} 0`, borderRadius: this.rem((d.popbr || 0)) });\r\n                    }\r\n                    if (d.poptype == &quot;3&quot;) { popStyle.marginBottom = this.rem(popmarx); }\r\n\r\n                    let tcpop = split_a(d.tcpop_wh || &quot;&quot;);\r\n                    let tcpop_wh = {\r\n                        width: this.rem(tcpop[0]),\r\n                        height: this.rem(tcpop[1]),\r\n                        background: this.check_url(tcpop[2]) ? `url(${tcpop[2]})` : tcpop[2] || &quot;transparent&quot;,\r\n                        backgroundSize: '100% 100%!important'\r\n                    };\r\n\r\n                    // 计算触点最大宽度和总长度\r\n                    let pop3 = split_a(d.pop3);\r\n                    let popAllwidth = 0;\r\n                    let popMaxW = Number(pop_whtl[0] || 0);\r\n                    this.banner.forEach((it, i) =&gt; {\r\n                        let popCss = JSON.parse(JSON.stringify(popStyle));\r\n                        if (pop3[i] &amp;&amp; pop3[i] != &quot;0&quot;) {\r\n                            popCss.width = rem(pop3[i]);\r\n                            popCss.minWidth = rem(pop3[i]);\r\n                            let popw = ((parseInt(pop3[i]) || parseInt(pop_whtl[0] || 0)) + parseFloat(popmarx));\r\n                            popAllwidth += popw\r\n                            it.popw = popw;\r\n                            popMaxW = popw &gt; popMaxW ? (popw - parseFloat(popmarx)) : popMaxW;\r\n                            it.width = (parseFloat(pop3[i]) || 0) || (parseFloat(pop_whtl[0]) || 0) + this.popmarx;\r\n                        } else {\r\n                            popAllwidth += this.popW;\r\n                            it.width = this.popW;\r\n                        }\r\n\r\n                        let p1 = pop1.length == 1 ? pop1[0] : (pop1[i] || &quot;transparent&quot;);\r\n                        let p2 = pop2.length == 1 ? pop2[0] : (pop2[i] || &quot;transparent&quot;);\r\n                        it.pop1 = { ...popCss, background: this.check_url(p1) ? `url(${this.handleUrl(p1)})` : p1 }\r\n                        it.pop2 = { ...popCss, background: this.check_url(p2) ? `url(${this.handleUrl(p2)})` : p2 }\r\n\r\n                        // 弹窗\r\n                        let tcArr = [];\r\n                        for (let j = 0; j &lt; 2; j++) {\r\n                            if (d[`tcset_${i}_${j}`] &amp;&amp; d[`tcset_${i}_${j}`] != &quot;0&quot;) {\r\n                                let set = d[`tcset_${i}_${j}`].split(&quot;|&quot;);\r\n                                let tcdiy = d[`tcdiy_${i}_${j}`]\r\n\r\n                                let poptl = split_a(set[0] || &quot;&quot;);\r\n                                let contl = split_a(set[1] || &quot;&quot;);\r\n\r\n                                let tccss = { ...tcpop_wh, top: this.rem(poptl[0] || 0), left: this.rem(poptl[1] || 0) }\r\n                                let tcpiccss = { top: this.rem(contl[0] || 0), left: this.rem(contl[1] || 0) }\r\n                                if (this.conType(tcdiy) == 'content') {\r\n                                    if (this.isType(tcdiy) != &quot;object&quot;) {\r\n                                        tcdiy = JSON.parse(tcdiy);\r\n                                        if (!this.isFullTc) {\r\n                                            tcpiccss.width = this.rem(tcdiy.width);\r\n                                            tcpiccss.height = this.rem(tcdiy.height);\r\n                                        }\r\n                                    }\r\n\r\n                                    if (!contl[0]) { tcpiccss.top = this.rem((d.clsheight - tcdiy.height) / 2) }\r\n                                    if (!contl[1]) { tcpiccss.left = this.rem((1125 - tcdiy.width) / 2) }\r\n                                }\r\n                                tcArr.push({ tccss, tcpiccss, tcdiy });\r\n                            }\r\n                        }\r\n                        it.tcArr = tcArr;\r\n                    });\r\n                    this.popMaxW = popMaxW;\r\n                    this.popAllwidth = popAllwidth;\r\n\r\n                    if (d.poptype == &quot;4&quot;) { this.popban = this.banner.concat(this.banner, this.banner) }\r\n                    d.popbox = { top: this.rem(popbtm[0]), bottom: &quot;unset&quot; }\r\n                    this.popBoxW = Number(d.scrW || 0) ? d.scrW : this.popAllwidth;\r\n                    // 竖向显示\r\n                    d.popbox.width = this.rem(this.popBoxW);\r\n\r\n                    // 宽度大于1125和 左侧距离不填，自动居中\r\n                    if (this.popBoxW &gt;= (1125 - (popbtm[1] || 0)) &amp;&amp; !d.scrW) {\r\n                        d.popbox.width = this.rem((1125 - (popbtm[1] || 0)));\r\n                        this.popBoxW = (1125 - (popbtm[1] || 0));\r\n                    }\r\n                    if (d.poptype == &quot;2&quot;) {\r\n                        d.popbox.width = this.rem(this.popMaxW) || popStyle.width;\r\n                    }\r\n\r\n                    d.justifyContent = 'flex-start';\r\n                    if (popbtm[1] || popbtm[1] == &quot;0&quot;) {\r\n                        d.popbox.left = this.rem(popbtm[1] || 0);\r\n                    } else {\r\n                        let w = d.poptype == &quot;2&quot; ? Number(pop_whtl[0] || 0) : this.popBoxW;\r\n                        d.popbox.left = this.rem((1125 - w) / 2);\r\n                        if (d.poptype == &quot;3&quot;) { d.justifyContent = 'center' }\r\n                    }\r\n                    if (d.poptype == &quot;4&quot;) { d.popbox.height = this.rem(pop_whtl[1]) }\r\n                    // 箭头\r\n                    let jtpic = split_a(d.jtpic || &quot;&quot;);\r\n                    d.jtleft = Object.assign(this.css('whtl', (d.jt_whtl || mock.jt_whtl)), { backgroundImage: `url(${jtpic[0]})` })\r\n                    d.jtright = Object.assign(this.css('whtr', (d.jt_whtl || mock.jt_whtl)), { backgroundImage: `url(${jtpic[1]})` })\r\n\r\n                    if (d.jtAniMark == &quot;1&quot;) {\r\n                        d.jtleft.animation = &quot;gmkj_left 0.5s linear infinite alternate&quot;;\r\n                        d.jtright.animation = &quot;gmkj_right 0.5s linear infinite alternate&quot;;\r\n                    }\r\n\r\n                    // 滚动条样式\r\n                    let bar_set = split_a(d.bar_set || mock.bar_set), bar_whtl = split_a(d.bar_whtl || mock.bar_whtl);\r\n                    d.barcss = Object.assign(this.css('whtl', (d.bar_whtl), [0, 0, 0, 0]), { background: this.check_url(bar_set[0]) ? `url(${bar_set[0]})` : bar_set[0], backgroundSize: &quot;100% 100%&quot;, borderRadius: this.rem(bar_set[2] || bar_whtl[1]) })\r\n                    d.barconcss = { width: this.rem(d.bar_w || 0), background: this.check_url(bar_set[1]) ? `url(${bar_set[1]})` : bar_set[1], backgroundSize: &quot;100% 100%&quot;, borderRadius: this.rem(bar_set[2] || bar_whtl[1]) }\r\n                    if (!bar_whtl[3] &amp;&amp; bar_whtl[3] != &quot;0&quot;) { d.barcss.left = this.rem((1125 - bar_whtl[0]) / 2); } // 滚动条居中\r\n\r\n                    this.space = Math.ceil(((bar_whtl[0] || 0) - (d.bar_w || 0)) / (this.len0 - 1));\r\n                    d.auto_t = Number(d.auto_t || 5)\r\n\r\n                    // 蒙层图片\r\n                    if (d.meng) { d.mengcss = this.css('tl', d.meng_tl, [0, 0]); }\r\n\r\n                    // 弹窗设置\r\n                    d.closecss = this.css('whtl', d.close_whtl, [150, 150, 0, 0])\r\n                    let tcbg = split_a(d.tcbg)\r\n                    d.tcbgcss = { background: tcbg[0] || &quot;transparent&quot;, opacity: tcbg[1] || 0.8 }\r\n                    this.initflag = d.initflag == &quot;1&quot;;\r\n\r\n                    // 把数据挂载到vue\r\n                    this.d = d;\r\n                    debug &amp;&amp; console.log(id, d);;\r\n                },\r\n                mounted() {\r\n                    loading(true);\r\n                    this.initSwiper();\r\n                    if (this.d.poptype == 4 &amp;&amp; this.d.popshow) {\r\n                        if (d.cenLeft) {\r\n                            $(`${id} .gmkj_pagination`).scrollLeft(this.rem(this.popAllwidth - (parseFloat(d.cenLeft) || 0), true));\r\n                        } else {\r\n                            $(`${id} .gmkj_pagination`).scrollLeft(this.rem(this.popAllwidth - this.popBoxW / 2 + this.banner[0].width / 2, true));\r\n                        }\r\n                    }\r\n                    // 添加弹窗css\r\n                    $(`${id}`).prepend(`\r\n                            &lt;style&gt;\r\n                                ${id} .gmkj_tcpic_top-leave-active,${id} .gmkj_tcpic_top-enter-active,${id} .gmkj_tcpic_bottom-leave-active,${id} .gmkj_tcpic_bottom-enter-active,${id} .gmkj_tcpic_left-leave-active,${id} .gmkj_tcpic_left-enter-active,${id} .gmkj_tcpic_right-leave-active,${id} .gmkj_tcpic_right-enter-active,{transition: all .3s;}\r\n                                ${id} .gmkj_tcpic_left-enter,.gmkj_tcpic_left-leave-to {transform: translateZ(0) translateX(-${this.rem(1130)});}\r\n                                ${id} .gmkj_tcpic_right-enter,.gmkj_tcpic_right-leave-to {transform: translateZ(0) translateX(${this.rem(1130)});}\r\n                                ${id} .gmkj_tcpic_top-enter,.gmkj_tcpic_top-leave-to {transform: translateZ(0) translateY(-${this.rem(d.clsheight)});}\r\n                                ${id} .gmkj_tcpic_bottom-enter,.gmkj_tcpic_bottom-leave-to {transform: translateZ(0) translateY(${this.rem(d.clsheight)});}\r\n                            &lt;/style&gt;\r\n                        `);\r\n                },\r\n                methods: {\r\n                    mountScroll() {\r\n                        onAppear(id, (visible) =&gt; {\r\n                            this.isVisible = visible;\r\n                            if (visible &amp;&amp; !this.isShow) {\r\n                                this.isShow = true;\r\n                                this.onAppear();//开启自定义代码\r\n                            } if (!visible &amp;&amp; this.isShow) {\r\n                                this.isShow = false;\r\n                                this.onDisappear();//关闭自定义\r\n                            }\r\n                        }, () =&gt; {\r\n                            if (document.visibilityState === 'hidden' &amp;&amp; this.isShow) { this.isShow = false; this.onDisappear(); }\r\n                            if (document.visibilityState === 'visible' &amp;&amp; !this.isShow &amp;&amp; this.isVisible) { this.isShow = true; this.onAppear(); }\r\n                        });\r\n                    },\r\n                    onAppear(index, old) {\r\n                        let curinx = this.curinx;\r\n                        this.expoModuleShow &amp;&amp; this.expoModuleShow();\r\n                        // this.onDisappear();\r\n                        // 当前轮播自定义\r\n                        let currDiy = this.$refs[`diymod${index || curinx}`];\r\n                        currDiy &amp;&amp; currDiy[0].onAppear();\r\n                        this.$refs.bg &amp;&amp; this.$refs.bg[index || curinx] &amp;&amp; this.$refs.bg[index || curinx].onAppear &amp;&amp; this.$refs.bg[index || curinx].onAppear();\r\n                        // 蒙层自定义\r\n                        this.$refs.mengDiy &amp;&amp; this.$refs.mengDiy.onAppear();\r\n                        this.$refs.bgDiy &amp;&amp; this.$refs.bgDiy.onAppear();\r\n                        if (d.auto == &quot;1&quot; &amp;&amp; (!this.tcshow || !this.isFullTc)) { this.mySwiper &amp;&amp; this.mySwiper.autoplay &amp;&amp; this.mySwiper.autoplay.start &amp;&amp; this.mySwiper.autoplay.start(); }\r\n                    },\r\n                    onDisappear() {\r\n                        let curinx = this.curinx;\r\n                        // 当前轮播自定义\r\n                        let it = this.$refs[`diymod${curinx}`];\r\n                        it &amp;&amp; it[0].onDisappear();\r\n                        this.$refs.bg &amp;&amp; this.$refs.bg[curinx] &amp;&amp; this.$refs.bg[curinx].onDisappear &amp;&amp; this.$refs.bg[curinx].onDisappear();\r\n                        // 蒙层自定义\r\n                        this.$refs.mengDiy &amp;&amp; this.$refs.mengDiy.onDisappear();\r\n                        this.$refs.bgDiy &amp;&amp; this.$refs.bgDiy.onDisappear();\r\n                        if (this.initpage &amp;&amp; this.initflag &amp;&amp; this.mySwiper) {\r\n                            this.slideTo(this.initpage, true)\r\n                        }\r\n                        if (d.auto == &quot;1&quot;) { this.mySwiper &amp;&amp; this.mySwiper.autoplay &amp;&amp; this.mySwiper.autoplay.stop &amp;&amp; this.mySwiper.autoplay.stop(); }\r\n                    },\r\n                    slideTo(index, noAni) {\r\n                        if (this.banner.length &lt;= 1) { return }\r\n                        let time = d.lbtype == 3 ? 0 : 300;\r\n                        if (noAni) { time = 0 }\r\n                        if (index == &quot;next&quot;) {\r\n                            this.mySwiper.slideNext(time);\r\n                        } else if (index == &quot;prev&quot;) {\r\n                            this.mySwiper.slidePrev(time);\r\n                        } else {\r\n                            index = index % this.len0;\r\n                            this.mySwiper.slideToLoop(index, time, true);\r\n                        }\r\n                    },\r\n                    initSwiper() {\r\n                        if (this.swiperInit || !this.isGoodData || !this.isMount) { return }\r\n                        this.swiperInit = true;\r\n                        setTimeout(() =&gt; {\r\n                            let d = this.d;\r\n                            let _this = this;\r\n                            // 触点动画\r\n                            if (d.popjd == &quot;1&quot;) { this.firstPop = true; }\r\n                            let lbtype = &quot;slide&quot;;\r\n                            switch (d.lbtype) {\r\n                                case &quot;0&quot;: lbtype = &quot;slide&quot;; break;\r\n                                case &quot;1&quot;: lbtype = &quot;fade&quot;; break;\r\n                                case &quot;2&quot;: lbtype = &quot;flip&quot;; break;\r\n                                case &quot;3&quot;: lbtype = &quot;slide&quot;; break;\r\n                            }\r\n                            let initpage = d.initpage || 0;\r\n                            if (initpage == &quot;0&quot; || !initpage) {\r\n                                this.initpage = false;\r\n                            } else {\r\n                                this.initpage = initpage - 1;\r\n                            }\r\n                            this.mySwiper = new Swiper(`${id} .gmkj_swiper`, {\r\n                                direction: d.lbdir == '1' ? 'vertical' : 'horizontal', // 垂直切换选项\r\n                                loop: this.swiperLoop, // 循环模式选项\r\n                                effect: lbtype,\r\n                                initialSlide: this.initpage || 0,\r\n                                preventInteractionOnTransition: true, //过渡时无法滑动\r\n                                allowTouchMove: this.len0 &lt;= 1 ? false : true,\r\n                                autoplay: d.auto == &quot;1&quot; ? {\r\n                                    delay: (d.auto_t || 5) * 1000,\r\n                                    disableOnInteraction: false,\r\n                                } : false,\r\n                                followFinger: lbtype == &quot;fade&quot; ? false : true,\r\n                                // fadeEffect: { crossFade: true },\r\n                                speed: d.lbtype == '3' ? 0 : 300,\r\n                                on: {\r\n                                    slideChange: function () {\r\n                                        let index = this.realIndex;\r\n                                        _this.onChange(index)\r\n                                    },\r\n                                    slideChangeTransitionEnd: function () {\r\n                                        if (lbtype == &quot;fade&quot;) {\r\n                                            _this.fadeTimer &amp;&amp; clearTimeout(_this.fadeTimer);\r\n                                            _this.fadeTimer = setTimeout(() =&gt; {\r\n                                                $(`${id} .swiper-slide-active`).css({ opacity: 1 }).siblings(&quot;.swiper-slide&quot;).css({ opacity: 0 });\r\n                                            }, 100);\r\n                                        }\r\n                                        if (!_this.mySwiper) { return }\r\n                                        let index = this.realIndex;\r\n                                        if (index == _this.len0 - 1) {\r\n                                            _this.mySwiper.slideToLoop(_this.len0 - 1, 0, false);\r\n                                        } else if (index == 0) {\r\n                                            _this.mySwiper.slideToLoop(0, 0, false);\r\n                                        }\r\n                                    },\r\n                                    init: function () {\r\n                                        _this.mountScroll();\r\n                                    }\r\n                                },\r\n                            });\r\n                            this.isAutoTc &amp;&amp; this.opentc();\r\n                        }, this.good.length &gt; 0 ? 500 : 0);\r\n                    },\r\n                    getScrSpace(index) {\r\n                        let tranV = 0;\r\n                        for (let i = 0; i &lt; index; i++) {\r\n                            tranV += this.banner[i].width;\r\n                        }\r\n                        return tranV;\r\n                    },\r\n                    onChange(index) {\r\n                        let d = this.d;\r\n                        let old = this.curinx;\r\n                        if (index == this.curinx) { return }\r\n                        // 触点动画\r\n                        if (this.d.popshow) {\r\n                            if (d.popjd == &quot;1&quot; &amp;&amp; (index - 1) - this.curinx &lt; 0) {\r\n                                this.firstPop = false; setTimeout(() =&gt; { this.firstPop = true; }, 30);\r\n                            }\r\n                            let pagination = $(`${id} .gmkj_pagination`);\r\n                            if (this.popBoxW &lt; this.popAllwidth &amp;&amp; d.poptype != 4) {\r\n                                let maxScr = this.popAllwidth - this.popBoxW;//最大滚动距离\r\n                                let toLeft = 0;\r\n                                let tempIndex = index - 1 &lt; 0 ? 0 : index - 1;\r\n                                let scrSpace = this.getScrSpace(tempIndex);\r\n                                if (tempIndex == this.len0 - 1) {\r\n                                    toLeft = this.rem(this.popAllwidth - this.popBoxW, true);\r\n                                } else if (scrSpace &lt; maxScr) {\r\n                                    toLeft = this.rem(scrSpace, true);\r\n                                } else {\r\n                                    toLeft = this.rem(maxScr, true);\r\n                                }\r\n                                pagination.scrollL({ toLeft: toLeft, durTime: 200 })\r\n                            } else if (d.poptype == 4) {\r\n                                let cen = (this.banner[index].width / 2);\r\n                                let loop = 0, tranV = this.getScrSpace(index);\r\n                                let cenLeft = parseFloat(d.cenLeft) || 0;\r\n                                // 求居中\r\n                                let end = -tranV - this.popAllwidth + (this.popBoxW / 2 - cen);\r\n                                if (d.cenLeft) {\r\n                                    end = -tranV - this.popAllwidth + cenLeft;\r\n                                }\r\n                                if (index == 0 &amp;&amp; old == this.len0 - 1) {\r\n                                    loop = -this.popAllwidth + (this.popBoxW / 2 - cen)\r\n                                    end += -this.popAllwidth;\r\n                                }\r\n                                if (index == this.len0 - 1 &amp;&amp; old == 0 &amp;&amp; this.len0 != 2) {\r\n                                    loop = -this.popAllwidth * 2 + (this.popBoxW / 2 + cen)\r\n\r\n                                    end += this.popAllwidth;\r\n                                }\r\n                                if (d.cenLeft &amp;&amp; loop) {\r\n                                    loop = -tranV - this.popAllwidth + cenLeft;\r\n                                }\r\n                                end = Math.abs(end), loop = Math.abs(loop);\r\n                                pagination.scrollL({\r\n                                    toLeft: this.rem(end, true), durTime: 300, callback: () =&gt; {\r\n                                        loop &amp;&amp; pagination.scrollLeft(this.rem(loop, true));//处理循环\r\n                                    }\r\n                                });\r\n                            }\r\n                        }\r\n                        if (!this.isFullTc) { this.closetc(); }\r\n                        this.curinx = index;\r\n\r\n                        let time = d.lbtype == 3 ? 0 : 300;\r\n                        this.diytimer &amp;&amp; clearTimeout(this.diytimer);\r\n                        this.diytimer = setTimeout(() =&gt; {\r\n                            let currDiy = this.$refs[`diymod${index}`];\r\n                            let oldDiy = this.$refs[`diymod${old}`];\r\n                            currDiy &amp;&amp; currDiy[0].onAppear();\r\n                            oldDiy &amp;&amp; oldDiy[0].onDisappear();\r\n                            \r\n                            // 背景\r\n                            this.$refs.bg &amp;&amp; this.$refs.bg[index] &amp;&amp; this.$refs.bg[index].onAppear &amp;&amp; this.$refs.bg[index].onAppear();\r\n                            this.$refs.bg &amp;&amp; this.$refs.bg[old] &amp;&amp; this.$refs.bg[old].onDisappear &amp;&amp; this.$refs.bg[old].onDisappear();\r\n                            // 弹出\r\n                            this.isAutoTc &amp;&amp; this.opentc();\r\n                        }, time);\r\n                    },\r\n                    // 打开弹窗\r\n                    opentc(item, index) {\r\n                        if (this.tcshow) { return }\r\n                        // 自动打开第一个\r\n                        if (!item) {\r\n                            item = ((this.banner[this.curinx] || {}).tcArr || [])[0];\r\n                            index = 0;\r\n                        }\r\n                        // 弹窗不存在\r\n                        if (!item) { return }\r\n                        this.tcshow = true;\r\n                        this.tcIndex = index + 1;\r\n                        this.currTcpic = item;\r\n                        if (this.d.auto == &quot;1&quot; &amp;&amp; this.isFullTc) { this.mySwiper &amp;&amp; this.mySwiper.autoplay.stop(); }\r\n                        if (this.currTcpic.tcpiccss) {\r\n                            setTimeout(() =&gt; {\r\n                                if (this.$refs.tcdiy) {\r\n                                    let diy = this.$refs.tcdiy;\r\n                                    if (this.isType(diy) == &quot;array&quot;) { diy = diy[0]; }\r\n                                    diy &amp;&amp; diy.onAppear &amp;&amp; diy.onAppear();\r\n                                }\r\n                            }, 350);\r\n                        }\r\n                    },\r\n                    // 关闭弹窗\r\n                    closetc() {\r\n                        this.tcshow = false;\r\n                        setTimeout(() =&gt; {\r\n                            if (this.d.auto == &quot;1&quot; &amp;&amp; this.isFullTc) { this.mySwiper &amp;&amp; this.mySwiper.autoplay.start(); }\r\n                            this.currTcpic = &quot;&quot;;\r\n                            if (this.$refs.tcdiy) {\r\n                                let diy = this.$refs.tcdiy;\r\n                                if (this.isType(diy) == &quot;array&quot;) { diy = diy[0]; }\r\n                                diy &amp;&amp; diy.onDisappear &amp;&amp; diy.onDisappear();\r\n                                this.$refs.tcdiy = null;\r\n                            }\r\n                        }, 300);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    })()\r\n&lt;/script&gt;",
        "attributeConfig": null,
        "floorNum": "2",
        "godIds": [],
        "cmpIds": [],
        "ssr": 1,
        "styleId": "00029824",
        "ofn": "11",
        "bizId": "0",
        "materialParams": null,
        "enc": "BC054B0ACB6FE5A9AA7A1AB57D77D84B85E168D5A5EC4DEC99E8ACD22A6C85CA39A4D6F2E5F0E1A9C30A294FCBFB7A57292DD04465AB80E9A772FE51390EDC40",
        "advIds": [],
        "boardParams": {
            "auto": "0",
            "auto_t": "3",
            "bg0": "{\"mT\":\"diyModule\",\"width\":1125,\"height\":\"1500\",\"bC\":\"\",\"components\":[{\"type\":\"img\",\"name\":\"图片1\",\"width\":1125,\"height\":1448,\"left\":\"0\",\"top\":\"0\",\"src\":\"http://m.360buyimg.com/babel/jfs/t1/123305/29/29197/131934/62c7a4e5E5db36416/00af511bd313a479.jpg\",\"url\":\"https://item.jd.com/100026688027.html\"}]}",
            "clsbg": "{\"mT\":\"diyModule\",\"width\":1125,\"height\":\"1500\",\"bC\":\"\",\"components\":[{\"type\":\"img\",\"name\":\"图片1\",\"width\":1125,\"height\":1321,\"left\":\"0\",\"top\":\"0\",\"src\":\"http://m.360buyimg.com/babel/jfs/t1/40572/16/17469/862410/628793a9Ea396f2dc/fa6f9c976455ac49.jpg\",\"url\":\"https://item.jd.com/100022734307.html\"}]}",
            "clsheight": "1448",
            "bg2": "{\"mT\":\"diyModule\",\"width\":1125,\"height\":\"1500\",\"bC\":\"\",\"components\":[{\"type\":\"img\",\"name\":\"图片1\",\"width\":1125,\"height\":1447,\"left\":\"0\",\"top\":\"0\",\"src\":\"http://m.360buyimg.com/babel/jfs/t1/1985/7/19648/85943/62d8e9baE1f23ee0e/9de821ec94f886de.jpg\",\"url\":\"https://item.jd.com/100029468825.html\"}]}",
            "bg1": "{\"mT\":\"diyModule\",\"width\":1125,\"height\":\"1500\",\"bC\":\"\",\"components\":[{\"type\":\"img\",\"name\":\"图片1\",\"width\":1125,\"height\":1448,\"left\":\"0\",\"top\":\"0\",\"src\":\"http://m.360buyimg.com/babel/jfs/t1/221854/10/19324/91382/62c7c718E7af42ed6/b12d4ae624773d93.jpg\",\"url\":\"https://item.jd.com/100022734297.html\"}]}",
            "poptype": "1",
            "bg3": "",
            "pop_set": "60",
            "isbar": true,
            "link1": "",
            "popjd": "0",
            "link0": "",
            "isjttop": "1",
            "loop": "0",
            "lbtype": "0",
            "bar_w": "150",
            "link3": "",
            "link2": "",
            "bar_whtl": "450,5,1410",
            "pop_whtl": "255,60,60",
            "image3": "",
            "bar_set": "black,white,50",
            "jtAniMark": "1",
            "image1": "{\"mT\":\"diyModule\",\"width\":1125,\"height\":\"1500\",\"bC\":\"\",\"components\":[{\"type\":\"img\",\"name\":\"图片1\",\"width\":1125,\"height\":1448,\"left\":\"0\",\"top\":\"0\",\"src\":\"http://m.360buyimg.com/babel/jfs/t1/221854/10/19324/91382/62c7c718E7af42ed6/b12d4ae624773d93.jpg\",\"url\":\"https://item.jd.com/100022734297.html\"}]}",
            "image2": "{\"mT\":\"diyModule\",\"width\":1125,\"height\":\"1500\",\"bC\":\"\",\"components\":[{\"type\":\"img\",\"name\":\"图片1\",\"width\":1125,\"height\":1447,\"left\":\"0\",\"top\":\"0\",\"src\":\"http://m.360buyimg.com/babel/jfs/t1/1985/7/19648/85943/62d8e9baE1f23ee0e/9de821ec94f886de.jpg\",\"url\":\"https://item.jd.com/100029468825.html\"}]}",
            "image0": "{\"mT\":\"diyModule\",\"width\":1125,\"height\":\"1500\",\"bC\":\"\",\"components\":[{\"type\":\"img\",\"name\":\"图片1\",\"width\":1125,\"height\":1448,\"left\":\"0\",\"top\":\"0\",\"src\":\"http://m.360buyimg.com/babel/jfs/t1/123305/29/29197/131934/62c7a4e5E5db36416/00af511bd313a479.jpg\",\"url\":\"https://item.jd.com/100026688027.html\"}]}",
            "pop1": "//img11.360buyimg.com/cms/jfs/t1/104429/34/16520/4691/5e7c74cdE2f8c55d1/5197b19db8b77f98.png,//img14.360buyimg.com/cms/jfs/t1/98339/36/16574/4053/5e7c7b4aEe7371b5e/720426abd6de0319.png,//img13.360buyimg.com/cms/jfs/t1/101732/1/16683/3797/5e7c7d62E97975154/646a0baa3ef2971c.png",
            "initflag": "0",
            "pop2": "//img11.360buyimg.com/cms/jfs/t1/105215/20/16431/4449/5e7c74cdEccf1ed5d/a8bd352897d35548.png,//img13.360buyimg.com/cms/jfs/t1/104445/18/16502/3971/5e7c7b4aEbeb248f6/49b6d808e04529b0.png,//img12.360buyimg.com/cms/jfs/t1/91487/25/16446/3695/5e7c7d62Ead4fbbbf/a473ef55a2bc38a8.png",
            "swiper_whtl": "1125,1448,0",
            "ispoptop": "0"
        },
        "id": 81674470,
        "moduleId": 81674470,
        "timestamp": "",
        "h5FloorFrameState": 0
    }, {
        "template": "hotzone",
        "externalBorder": "0",
        "lrMargin": "0",
        "backgroundColor": "#f2f2f2",
        "hotZone": {
            "pictureUrl": "//m.360buyimg.com/babel/jfs/t1/117059/17/28497/40661/62d92cd3Ebaf5d3ab/1681bcf44bd135bf.jpg!q70.dpg"
        },
        "ofn": "12",
        "width": 1125,
        "sameColor": "0",
        "id": 81683396,
        "moduleId": 81683396,
        "floorNum": "3",
        "height": 316
    }, {
        "template": "hotzone",
        "externalBorder": "0",
        "lrMargin": "0",
        "backgroundColor": "#f2f2f2",
        "hotZone": {
            "pictureUrl": "//m.360buyimg.com/babel/jfs/t1/52704/40/20363/11804/62d7c4bfEe53264e0/c8176554589f57aa.jpg!q70.dpg"
        },
        "ofn": "13",
        "width": 1125,
        "sameColor": "0",
        "id": 81674471,
        "moduleId": 81674471,
        "floorNum": "4",
        "height": 320
    }, {
        "template": "customcode",
        "sourceId": "7ed3bc426ce6a5ec6fcdaacf0c2cfbe1",
        "htmlSourceUrl": "babelview/00029824/7ed3bc426ce6a5ec6fcdaacf0c2cfbe1.repl.html",
        "queryDefault": null,
        "hasBindMaterial": 0,
        "channel": "h5",
        "htmlSource": "&lt;!-- \r\n    模块名：产品轮播二\r\n    新增触点层级\r\n --&gt;\r\n&lt;!-- &lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=UTF-8&quot;&gt;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&lt;script src=&quot;https://storage.360buyimg.com/babel/00299045/631260/production/dev/zepto.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; --&gt;\r\n\r\n&lt;link rel=&quot;stylesheet&quot; href=&quot;//storage.360buyimg.com/babelview/00029824/swiper.min.css?t=20220513211804&quot;&gt;\r\n&lt;link rel=&quot;stylesheet&quot; href=&quot;//storage.360buyimg.com/babelview/00029824/index.css?t=20220513211804&quot;&gt;\r\n&lt;div v-if=&quot;isModuleShow&quot; class=&quot;gmkj_product_diy&quot; style=&quot;display:none;&quot; v-clock :style=&quot;{height:rem(d.clsheight||1440),background:check_url(d.clsbg)?'transparent':d.clsbg}&quot; @click.stop=&quot;goUrl(d.clslink,null,'背景点击')&quot;&gt;\r\n    &lt;div v-if=&quot;check_url(d.clsbg)&quot; class=&quot;gmkj_bg abs0 wh100&quot;&gt;&lt;img :src=&quot;handleUrl(d.clsbg)&quot; class=&quot;wh100&quot; alt=&quot;&quot;&gt;&lt;/div&gt;\r\n    &lt;div v-if=&quot;conType(d.clsbg) == 'content'&quot; class=&quot;gmkj_bg abs0 wh100&quot;&gt;\r\n        &lt;gmkj-diy :bar=&quot;barConfig&quot; pname=&quot;背景优加_&quot; v-if=&quot;conType(d.clsbg) == 'content'&quot; ref=&quot;bgDiy&quot; :d=&quot;d.clsbg&quot; :spm=&quot;spmData&quot; :good=&quot;good&quot;&gt;&lt;/gmkj-diy&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- 多背景 --&gt;\r\n    &lt;div class=&quot;abs0&quot; v-for=&quot;(item,i) in banner&quot; :style=&quot;{zIndex:curinx==i?2:1,opacity:curinx==i?1:0,pointerEvents:(curinx==i &amp;&amp; item.bg)?'auto':'none'}&quot;&gt;\r\n        &lt;gmkj-diy v-if=&quot;item.bg &amp;&amp; item.bg != '0'&quot; :pname=&quot;'第'+i+'背景_'&quot; ref=&quot;bg&quot; :d=&quot;item.bg&quot; :spm=&quot;spmData&quot; :good=&quot;good&quot;&gt;&lt;/gmkj-diy&gt;\r\n        &lt;div  v-else style=&quot;display: none;&quot; ref=&quot;bg&quot;&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;gmkj_swiper&quot; :style=&quot;d.swipercss&quot; style=&quot;overflow: hidden;z-index: 5;&quot;&gt;\r\n        &lt;div class=&quot;swiper-wrapper&quot; :class=&quot;d.lbtype==3?'swiper-no-swiping':''&quot;&gt;\r\n            &lt;div v-for=&quot;(item,index) in banner&quot; class=&quot;swiper-slide wh100&quot; style=&quot;overflow: hidden;transform: translateZ(0);&quot;&gt;\r\n                &lt;div v-if=&quot;conType(item.pictureUrl) == 'pic'&quot; @click.stop=&quot;goUrl(item.link,null,'第'+(index+1)+'个图片')&quot; class=&quot;wh100&quot;&gt;&lt;img class=&quot;wh100&quot; :src=&quot;handleUrl(item.pictureUrl)&quot; /&gt;&lt;/div&gt;\r\n                &lt;gmkj-diy :bar=&quot;barConfig&quot; :pname=&quot;'第'+(index+1)+'屏内容_'&quot; v-if=&quot;conType(item.pictureUrl) == 'content'&quot; :ref=&quot;'diymod'+ index&quot; :d=&quot;item.pictureUrl&quot; :spm=&quot;spmData&quot; :good=&quot;good&quot;&gt;&lt;/gmkj-diy&gt;\r\n                &lt;div v-for=&quot;(it,i) in item.tcArr&quot; v-if=&quot;it.tccss&quot; class=&quot;abs0&quot; style=&quot;transform: translateZ(0);&quot; :style=&quot;[it.tccss,{zIndex:30}]&quot; @click.stop=&quot;opentc(it,i)&quot;&gt;&lt;img class=&quot;wh100&quot; src=&quot;//img20.360buyimg.com/zx/jfs/t1/192381/1/7685/1073/60c2bc70Ec7587644/0da7bea17ee5f94d.png&quot; alt=&quot;&quot;&gt;&lt;/div&gt;\r\n                &lt;transition v-if=&quot;!isFullTc&quot; :name=&quot;getAniName&quot;&gt;\r\n                    &lt;div v-if=&quot;tcshow &amp;&amp; curinx == index&quot; class=&quot;gmkj_tcpic abs0&quot; style=&quot;transform: translateZ(0);background:transparent;display: block;z-index: 104;overflow: hidden;&quot; :style=&quot;currTcpic.tcpiccss&quot;&gt;\r\n                        &lt;div style=&quot;position: relative;display: inline-block;z-index: 2;&quot; :style=&quot;[currTcpic.tcpiccss,{top:0,left:0}]&quot;&gt;\r\n                            &lt;gmkj-diy :bar=&quot;barConfig&quot; :pname=&quot;'第'+(curinx+1)+'屏内容_第'+(tcIndex)+'个弹窗_'&quot; v-if=&quot;conType(currTcpic.tcdiy) == 'content'&quot; ref=&quot;tcdiy&quot; :d=&quot;currTcpic.tcdiy&quot; :spm=&quot;spmData&quot; :ids=&quot;godIds&quot;&gt;&lt;/gmkj-diy&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div v-if=&quot;d.close&quot; class=&quot;gmkj_close&quot; style=&quot;z-index: 3;&quot; :style=&quot;d.closecss&quot; @click.stop=&quot;closetc()&quot;&gt;&lt;img class=&quot;wh100&quot; :src=&quot;d.close&quot; alt=&quot;&quot;&gt;&lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/transition&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div v-if=&quot;d.isjt &amp;&amp; d.jtpic&quot; class=&quot;gmkj_swiper_prev&quot; @click.stop=&quot;slideTo('prev')&quot; :style=&quot;[d.jtleft,{zIndex:d.isjttop == '1'?20:13}]&quot;&gt;&lt;/div&gt;\r\n    &lt;div v-if=&quot;d.isjt &amp;&amp; d.jtpic&quot; class=&quot;gmkj_swiper_next&quot; @click.stop=&quot;slideTo('next')&quot; :style=&quot;[d.jtright,{zIndex:d.isjttop == '1'?20:13}]&quot;&gt;&lt;/div&gt;\r\n    &lt;!-- 触点 --&gt;\r\n    &lt;div v-if=&quot;d.popshow &amp;&amp; d.pop_whtl &amp;&amp; banner.length&gt;1 &amp;&amp; check_url(d.popbg) &amp;&amp; d.poptype==4&quot; class=&quot;abs0&quot; :style=&quot;[d.popbox,{zIndex: d.ispoptop == '1'?2:11}]&quot; style=&quot;z-index: 11;overflow: hidden;&quot;&gt;&lt;img  class=&quot;wh100&quot; :src=&quot;d.popbg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;\r\n    &lt;div v-if=&quot;d.popshow &amp;&amp; d.pop_whtl &amp;&amp; banner.length&gt;1&quot; class=&quot;gmkj_pagination&quot; style=&quot;z-index: 12;&quot; :style=&quot;[d.popbox,{zIndex: d.ispoptop == '1'?2:12, overflowX:d.poptype==4?'hidden':'auto',background:check_url(d.popbg)?'transparent':d.popbg}]&quot;&gt;\r\n        &lt;div v-if=&quot;check_url(d.popbg) &amp;&amp; d.poptype!=4&quot; class=&quot;abs0 wh100&quot;&gt;&lt;img  class=&quot;wh100&quot; :src=&quot;d.popbg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;\r\n        &lt;div v-if=&quot;d.poptype!=4&quot; style=&quot;position: relative;z-index:2;&quot; class=&quot;gmkj_popall&quot; :style=&quot;{width:rem(popAllwidth),flexDirection:d.poptype == '2'?'column':'row',flexWrap: d.poptype == '3'?'wrap':'nowrap',justifyContent:d.justifyContent}&quot;&gt;\r\n            &lt;div v-if=&quot;d.popjd == '0'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in banner&quot; :style=&quot;[item.pop1,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1, {margin:0,opacity:index == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2, {margin:0,opacity:index != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n            &lt;div v-if=&quot;d.popjd == '1'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in banner&quot; :style=&quot;[item.pop2,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2,{margin:0}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; :class=&quot;{gmkj_popactive:(index &lt; curinx || (index==curinx&amp;&amp;firstPop))}&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1,{transition: index == curinx&amp;&amp;firstPop?d.auto_t+0.5 + 's all': '',transform:'translateX(-101%)',margin:0,zIndex:2}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n            &lt;div v-if=&quot;d.popjd == '2'&quot; class=&quot;gmkj_popitem&quot; :class=&quot;{gmkj_tantiao:index == curinx}&quot; v-for=&quot;(item,index) in banner&quot; :style=&quot;[item.pop1,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1, {margin:0,opacity:index == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2, {margin:0,opacity:index != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n            &lt;div v-if=&quot;d.popjd == '3'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in banner&quot; :style=&quot;[item.pop1,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1, {margin:0,transition:`0.3s all`,opacity:index == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2, {margin:0,transition:`0.3s all`,opacity:index != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n            &lt;div v-if=&quot;d.popjd == '4'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in banner&quot; :style=&quot;[item.pop1,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2,{margin:0,transition:`0.3s all`,opacity:index%len0 == curinx?0:1}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1, {margin:0,transition:`0.3s all`,transform:`translateY(${index == curinx?'0%':'-100%'})`}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div v-if=&quot;d.poptype==4&quot; style=&quot;position: relative;z-index:2;&quot; class=&quot;gmkj_popall&quot;&gt;\r\n            &lt;div v-if=&quot;d.popjd == '0' || d.popjd == '1'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in popban&quot; :style=&quot;[item.pop1,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1, {margin:0,opacity:index%len0 == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2, {margin:0,opacity:index%len0 != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n            &lt;div v-if=&quot;d.popjd == '2'&quot; class=&quot;gmkj_popitem&quot; :class=&quot;{gmkj_tantiao:index%len0 == curinx}&quot; v-for=&quot;(item,index) in popban&quot; :style=&quot;[item.pop1,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1, {margin:0,opacity:index%len0 == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2, {margin:0,opacity:index%len0 != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n            &lt;div v-if=&quot;d.popjd == '3'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in popban&quot; :style=&quot;[item.pop1,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1, {margin:0,transition:`0.3s all`,opacity:index%len0 == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2, {margin:0,transition:`0.3s all`,opacity:index%len0 != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n            &lt;div v-if=&quot;d.popjd == '4'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in popban&quot; :style=&quot;[item.pop1,{background:'transparent'}]&quot;&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2,{margin:0,transition:`0.3s all`,opacity:index%len0 == curinx?0:1}]&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1, {margin:0,transition:`0.3s all`,transform:`translateY(${index%len0 == (curinx)?'0%':'-100%'})`}]&quot;&gt;&lt;/span&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- 滚动条 --&gt;\r\n    &lt;div v-if=&quot;d.isbar &amp;&amp; d.bar_whtl &amp;&amp; banner.length&gt;1&quot; style=&quot;z-index: 13;&quot; class=&quot;gmkj_barbox&quot; :style=&quot;d.barcss&quot;&gt;\r\n        &lt;div class=&quot;gmkj_bar&quot; :style=&quot;[d.barconcss,{transform: `translateX(${rem(curinx*(space+1))})`}]&quot;&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- 蒙层 --&gt;\r\n    &lt;div v-if=&quot;d.ismeng &amp;&amp; d.meng &amp;&amp; d.meng != 0&quot; class=&quot;abs0&quot; :style=&quot;[d.mengcss,{zIndex:14}]&quot;&gt;\r\n        &lt;gmkj-diy :bar=&quot;barConfig&quot; pname=&quot;蒙层优加_&quot; v-if=&quot;conType(d.meng) == 'content'&quot; ref=&quot;mengDiy&quot; :d=&quot;d.meng&quot; :spm=&quot;spmData&quot; :good=&quot;good&quot;&gt;&lt;/gmkj-diy&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- 弹窗 --&gt;\r\n    &lt;div v-if=&quot;currTcpic &amp;&amp; isFullTc&quot; class=&quot;abs0 wh100&quot; :style=&quot;d.tcbgcss&quot; style=&quot;z-index: 103;&quot; @click.stop=&quot;closetc()&quot;&gt;&lt;/div&gt;\r\n    &lt;transition v-if=&quot;isFullTc&quot; :name=&quot;getAniName&quot;&gt;\r\n        &lt;div v-if=&quot;tcshow&quot; class=&quot;gmkj_tcpic abs0&quot; style=&quot;background:transparent;display: block;z-index: 104;&quot;&gt;\r\n            &lt;div style=&quot;position: relative;display: inline-block;z-index: 2;&quot; :style=&quot;[currTcpic.tcpiccss]&quot;&gt;\r\n                &lt;gmkj-diy :bar=&quot;barConfig&quot; :pname=&quot;'第'+(curinx+1)+'屏内容_第'+(tcIndex)+'个弹窗_'&quot; v-if=&quot;conType(currTcpic.tcdiy) == 'content'&quot; ref=&quot;tcdiy&quot; :d=&quot;currTcpic.tcdiy&quot; :spm=&quot;spmData&quot; :ids=&quot;godIds&quot;&gt;&lt;/gmkj-diy&gt;\r\n            &lt;/div&gt;\r\n            &lt;div v-if=&quot;d.close&quot; class=&quot;gmkj_close&quot; style=&quot;z-index: 3;&quot; :style=&quot;d.closecss&quot; @click.stop=&quot;closetc()&quot;&gt;&lt;img class=&quot;wh100&quot; :src=&quot;d.close&quot; alt=&quot;&quot;&gt;&lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/transition&gt;\r\n&lt;/div&gt;\r\n&lt;div class=&quot;gmkj_loading&quot; style=&quot;width:100%;min-height: 80px;display: flex;justify-content: center;align-items: center;opacity: 0;&quot;&gt;&lt;img src=&quot;https://img12.360buyimg.com/zx/jfs/t1/198089/40/628/3897/6103d4c0Ec621cde0/84a5f65d0f83b856.gif&quot; style=&quot;width:40px;height:40px;&quot; alt=&quot;&quot;&gt;&lt;/div&gt;\r\n\r\n&lt;script&gt;\r\n    ; (function () {\r\n        $.fn.scrollL = function (options) { var defaults = { toLeft: 0, durTime: 500, delay: 30, callback: null }; var opts = $.extend(defaults, options), timer = null, _this = this, curLeft = _this.scrollLeft(), subTop = opts.toLeft - curLeft, index = 0, dur = Math.round(opts.durTime / opts.delay), smoothScroll = function (t) { index++; var per = Math.round(subTop / dur); if (index &gt;= dur) { _this.scrollLeft(t); window.clearInterval(timer); if (opts.callback &amp;&amp; typeof opts.callback == &quot;function&quot;) { opts.callback() } return } else { _this.scrollLeft(curLeft + index * per) } }; timer = window.setInterval(function () { smoothScroll(opts.toLeft) }, opts.delay); return _this };\r\n        // 获取url参数\r\n        function getParams(variable) { var query = window.location.search.substring(1); var vars = query.split(&quot;&amp;&quot;); for (var i = 0; i &lt; vars.length; i++) { var pair = vars[i].split(&quot;=&quot;); if (pair[0] == variable) { return pair[1] } } return (false) }\r\n        let debug = getParams('debug') ? true : false;\r\n        //缩放比例\r\n        let scale = document.body.clientWidth / 1125;\r\n        // 加载第三方js\r\n        function loadScript(script, rm = true) { const head = document.getElementsByTagName('head')[0]; let arr = []; if (typeof script === 'string') { script = [script] } if (Array.prototype.isPrototypeOf(script)) { script.forEach(it =&gt; { arr.push(new Promise((resolve, reject) =&gt; { const s = document.createElement('script'); script.type = &quot;application/x-javascript&quot;; if (it) { s.async = true; s.onload = () =&gt; resolve(s); s.onerror = reject; s.src = it } head.appendChild(s); if (!it) { resolve(s) } })) }); return Promise.all(arr).then((s) =&gt; { rm &amp;&amp; (s || []).forEach(it =&gt; { it.parentNode.removeChild(it) }) }) } else { return false } }\r\n        // 分隔字符串\r\n        function split_a(str, flag) { let arr = ((str || &quot;&quot;).replace(/，/g, ',')).split(&quot;,&quot;); if (flag) { arr = (arr || []).map(it =&gt; { return String(Number(it)) == &quot;NaN&quot; ? it : Number(it); }) } return arr; }\r\n        function throttle(func, delay) { var timer = null; return function () { var context = this; var args = arguments; if (!timer) { timer = setTimeout(function () { func.apply(context, args); timer = null }, delay) } } }\r\n        function debounce(func, wait = 0) { if (typeof func !== 'function') { throw new TypeError('need a function arguments') } let timeid = null; let result; return function () { let context = this; let args = arguments; if (timeid) { clearTimeout(timeid) } timeid = setTimeout(function () { result = func.apply(context, args) }, wait); return result } }\r\n        function onAppear(id, callback, fn) { if (fn) { try { document.addEventListener('visibilitychange', fn); } catch (err) { console.log(err) } } let con = $(id); if (con.length) { function isShow() { let temp = $(window).scrollTop(), offset = con.offset(); if (temp &gt;= offset.top &amp;&amp; temp &lt;= offset.top + offset.height || offset.top &gt;= temp &amp;&amp; offset.top &lt;= (temp + $(window).height())) { callback &amp;&amp; callback(true); } else { callback &amp;&amp; callback(false); } } isShow(); $(window).scroll(throttle(isShow, 500)); } }\r\n        // 埋点函数\r\n        function spm(obj) { let eventId = &quot;Babel_dev_&quot; + obj.id || &quot;&quot;; try { var click = new MPing.inputs.Click(eventId); click.event_param = JSON.stringify(obj); click.updateEventSeries(); (new MPing()).send(click) } catch (e) { } }\r\n        function rem(size, flag) { size = parseInt(size || 0); return flag ? parseInt(size * scale) : parseInt(size * scale) + &quot;px&quot;; }\r\n        // load加载,需要提前定义mid和id，填true则是隐藏\r\n        function loading(flag) { let dom = $(`.module_${mid}`); if (flag) { if (dom.length) { $(`.module_${mid} .gmkj_loading`).css({ display: &quot;none&quot; }); } else if ($(`.gmkj_loading`)) { $(`.gmkj_loading`).css({ display: &quot;none&quot; }); } $(`${id}`).css({ display: &quot;block&quot; }); } else { if (dom.length) { $(`.module_${mid} .gmkj_loading`).css({ height: rem(d.clsheight), opacity: 1 }); } else if ($(`.gmkj_loading`)) { $(`.gmkj_loading`).css({ height: rem(d.clsheight), opacity: 1 }); } } }\r\n        // 格式化自定义代码\r\n        function getDiyData(bData) { bData = bData || &quot;&quot;; bData = bData.replace(/(^\\s*)|(\\s*$)/g, &quot;&quot;); let reg = /\\&quot;\\{\\&quot;mT\\&quot;\\:\\&quot;diyModule\\&quot;.*?\\}{0,1}\\]\\}\\&quot;/g; let diy = bData.match(reg), d = {}; try { if ((diy || []).length &gt; 0) { diy.forEach(it =&gt; { let newStr = it.substring(1, it.length - 1); bData = bData.replace(it, newStr); }); d = JSON.parse(bData); } else { d = JSON.parse(bData); } } catch (err) { d = {}; console.error(&quot;优加自定义转换失败&quot;, err); } return d; }\r\n        const delPx = (val) =&gt; { return val.replace('px', '') }\r\n        //埋点全局对象设置\r\n        window.jap ? window.jap : window.jap = { siteId: 'MO-J2011-1', autoLogPv: true }\r\n\r\n        let mock = {\r\n            clsheight: &quot;910&quot;,\r\n            clsbg: &quot;//img12.360buyimg.com/zx/jfs/t1/122498/28/2141/6884/5ec37af2E4f7415eb/ed215d314769a72b.png&quot;,\r\n            auto: &quot;0&quot;,\r\n            auto_t: &quot;3&quot;,\r\n            banner: [\r\n                { pictureUrl: '{&quot;mT&quot;:&quot;diyModule&quot;,&quot;width&quot;:1125,&quot;height&quot;:&quot;770&quot;,&quot;bC&quot;:&quot;&quot;,&quot;components&quot;:[{&quot;type&quot;:&quot;img&quot;,&quot;name&quot;:&quot;图片1&quot;,&quot;width&quot;:696,&quot;height&quot;:696,&quot;left&quot;:&quot;30&quot;,&quot;top&quot;:&quot;30&quot;,&quot;src&quot;:&quot;//img14.360buyimg.com/cms/jfs/t1/88111/6/16712/173137/5e7c7b4aEeeb19967/653d77a36e18bb2b.jpg&quot;},{&quot;type&quot;:&quot;imgan&quot;,&quot;name&quot;:&quot;单图动画2&quot;,&quot;width&quot;:335,&quot;height&quot;:335,&quot;left&quot;:760,&quot;top&quot;:30,&quot;tx&quot;:0,&quot;ty&quot;:&quot;50&quot;,&quot;ops&quot;:&quot;0&quot;,&quot;ope&quot;:&quot;1&quot;,&quot;tss&quot;:&quot;&quot;,&quot;tse&quot;:&quot;&quot;,&quot;td&quot;:&quot;0.6&quot;,&quot;ttf&quot;:&quot;linear&quot;,&quot;ttr&quot;:&quot;&quot;,&quot;delay&quot;:&quot;0.1&quot;,&quot;antype&quot;:&quot;fadeIn&quot;,&quot;completeHide&quot;:&quot;false&quot;,&quot;bI&quot;:&quot;//img13.360buyimg.com/cms/jfs/t1/109967/1/10318/26407/5e7c7b4aE7c85561c/35fa0b2b781eb751.jpg&quot;},{&quot;type&quot;:&quot;imgan&quot;,&quot;name&quot;:&quot;单图动画3&quot;,&quot;width&quot;:337,&quot;height&quot;:337,&quot;left&quot;:760,&quot;top&quot;:389,&quot;tx&quot;:0,&quot;ty&quot;:&quot;-50&quot;,&quot;ops&quot;:&quot;0&quot;,&quot;ope&quot;:&quot;1&quot;,&quot;tss&quot;:&quot;&quot;,&quot;tse&quot;:&quot;&quot;,&quot;td&quot;:&quot;0.6&quot;,&quot;ttf&quot;:&quot;linear&quot;,&quot;ttr&quot;:&quot;&quot;,&quot;delay&quot;:&quot;0.1&quot;,&quot;antype&quot;:&quot;fadeIn&quot;,&quot;completeHide&quot;:&quot;false&quot;,&quot;bI&quot;:&quot;//img11.360buyimg.com/cms/jfs/t1/108416/34/10234/46295/5e7c7b4aEbab4de19/d068feaa0c7a8ee6.png&quot;}]}', link: &quot;&quot; ,},\r\n                { pictureUrl: '{&quot;mT&quot;:&quot;diyModule&quot;,&quot;width&quot;:1125,&quot;height&quot;:&quot;770&quot;,&quot;bC&quot;:&quot;&quot;,&quot;components&quot;:[{&quot;type&quot;:&quot;img&quot;,&quot;name&quot;:&quot;图片1&quot;,&quot;width&quot;:696,&quot;height&quot;:696,&quot;left&quot;:&quot;30&quot;,&quot;top&quot;:&quot;30&quot;,&quot;src&quot;:&quot;//img14.360buyimg.com/cms/jfs/t1/88111/6/16712/173137/5e7c7b4aEeeb19967/653d77a36e18bb2b.jpg&quot;},{&quot;type&quot;:&quot;imgan&quot;,&quot;name&quot;:&quot;单图动画2&quot;,&quot;width&quot;:335,&quot;height&quot;:335,&quot;left&quot;:760,&quot;top&quot;:30,&quot;tx&quot;:0,&quot;ty&quot;:&quot;50&quot;,&quot;ops&quot;:&quot;0&quot;,&quot;ope&quot;:&quot;1&quot;,&quot;tss&quot;:&quot;&quot;,&quot;tse&quot;:&quot;&quot;,&quot;td&quot;:&quot;0.6&quot;,&quot;ttf&quot;:&quot;linear&quot;,&quot;ttr&quot;:&quot;&quot;,&quot;delay&quot;:&quot;0.1&quot;,&quot;antype&quot;:&quot;fadeIn&quot;,&quot;completeHide&quot;:&quot;false&quot;,&quot;bI&quot;:&quot;//img13.360buyimg.com/cms/jfs/t1/109967/1/10318/26407/5e7c7b4aE7c85561c/35fa0b2b781eb751.jpg&quot;},{&quot;type&quot;:&quot;imgan&quot;,&quot;name&quot;:&quot;单图动画3&quot;,&quot;width&quot;:337,&quot;height&quot;:337,&quot;left&quot;:760,&quot;top&quot;:389,&quot;tx&quot;:0,&quot;ty&quot;:&quot;-50&quot;,&quot;ops&quot;:&quot;0&quot;,&quot;ope&quot;:&quot;1&quot;,&quot;tss&quot;:&quot;&quot;,&quot;tse&quot;:&quot;&quot;,&quot;td&quot;:&quot;0.6&quot;,&quot;ttf&quot;:&quot;linear&quot;,&quot;ttr&quot;:&quot;&quot;,&quot;delay&quot;:&quot;0.1&quot;,&quot;antype&quot;:&quot;fadeIn&quot;,&quot;completeHide&quot;:&quot;false&quot;,&quot;bI&quot;:&quot;//img11.360buyimg.com/cms/jfs/t1/108416/34/10234/46295/5e7c7b4aEbab4de19/d068feaa0c7a8ee6.png&quot;}]}', link: &quot;&quot; ,},\r\n                { pictureUrl: '{&quot;mT&quot;:&quot;diyModule&quot;,&quot;width&quot;:1125,&quot;height&quot;:&quot;760&quot;,&quot;bC&quot;:&quot;&quot;,&quot;components&quot;:[{&quot;type&quot;:&quot;img&quot;,&quot;name&quot;:&quot;图片1&quot;,&quot;width&quot;:696,&quot;height&quot;:696,&quot;left&quot;:&quot;30&quot;,&quot;top&quot;:&quot;30&quot;,&quot;src&quot;:&quot;//img10.360buyimg.com/cms/jfs/t1/109914/1/10361/231862/5e7c7d62E5eab6718/ab3b8f1af6ee06b9.jpg&quot;},{&quot;type&quot;:&quot;imgan&quot;,&quot;name&quot;:&quot;单图动画2&quot;,&quot;width&quot;:335,&quot;height&quot;:335,&quot;left&quot;:760,&quot;top&quot;:30,&quot;tx&quot;:0,&quot;ty&quot;:&quot;50&quot;,&quot;ops&quot;:&quot;0&quot;,&quot;ope&quot;:&quot;1&quot;,&quot;tss&quot;:&quot;&quot;,&quot;tse&quot;:&quot;&quot;,&quot;td&quot;:&quot;0.6&quot;,&quot;ttf&quot;:&quot;linear&quot;,&quot;ttr&quot;:&quot;&quot;,&quot;delay&quot;:&quot;0.1&quot;,&quot;antype&quot;:&quot;fadeIn&quot;,&quot;completeHide&quot;:&quot;false&quot;,&quot;bI&quot;:&quot;//img11.360buyimg.com/cms/jfs/t1/110152/31/10347/26751/5e7c7d62Eed168d5a/8accf010a87c7dd2.jpg&quot;},{&quot;type&quot;:&quot;imgan&quot;,&quot;name&quot;:&quot;单图动画3&quot;,&quot;width&quot;:337,&quot;height&quot;:337,&quot;left&quot;:760,&quot;top&quot;:389,&quot;tx&quot;:0,&quot;ty&quot;:&quot;-50&quot;,&quot;ops&quot;:&quot;0&quot;,&quot;ope&quot;:&quot;1&quot;,&quot;tss&quot;:&quot;&quot;,&quot;tse&quot;:&quot;&quot;,&quot;td&quot;:&quot;0.6&quot;,&quot;ttf&quot;:&quot;linear&quot;,&quot;ttr&quot;:&quot;&quot;,&quot;delay&quot;:&quot;0.1&quot;,&quot;antype&quot;:&quot;fadeIn&quot;,&quot;completeHide&quot;:&quot;false&quot;,&quot;bI&quot;:&quot;//img12.360buyimg.com/cms/jfs/t1/102964/19/16691/102249/5e7c7d62E37062d4e/76b76bd11e249c45.png&quot;}]}', link: &quot;&quot;,},\r\n            ],\r\n            swiper_whtl: &quot;1125,790,124&quot;,\r\n            popshow: &quot;1&quot;,\r\n            pop_whtl: &quot;255,60,60&quot;,\r\n            pop_set: &quot;60&quot;,\r\n\r\n            pop1: &quot;//img11.360buyimg.com/cms/jfs/t1/104429/34/16520/4691/5e7c74cdE2f8c55d1/5197b19db8b77f98.png,//img14.360buyimg.com/cms/jfs/t1/98339/36/16574/4053/5e7c7b4aEe7371b5e/720426abd6de0319.png,//img13.360buyimg.com/cms/jfs/t1/101732/1/16683/3797/5e7c7d62E97975154/646a0baa3ef2971c.png&quot;,\r\n            pop2: &quot;//img11.360buyimg.com/cms/jfs/t1/105215/20/16431/4449/5e7c74cdEccf1ed5d/a8bd352897d35548.png,//img13.360buyimg.com/cms/jfs/t1/104445/18/16502/3971/5e7c7b4aEbeb248f6/49b6d808e04529b0.png,//img12.360buyimg.com/cms/jfs/t1/91487/25/16446/3695/5e7c7d62Ead4fbbbf/a473ef55a2bc38a8.png&quot;,\r\n            popjd: &quot;0&quot;,\r\n            // popbg:&quot;//img12.360buyimg.com/zx/jfs/t1/106788/33/7106/186816/5df8a2a1E3fc0694a/76840dc55f22b03c.jpg&quot;,\r\n            // jtpic: &quot;https://img14.360buyimg.com/n1/s546x546_jfs/t1/158415/21/11452/64298/6045967fE9057de0b/a69059bfc27e0407.jpg,https://img14.360buyimg.com/n1/s546x546_jfs/t1/158415/21/11452/64298/6045967fE9057de0b/a69059bfc27e0407.jpg&quot;,\r\n            // jt_whtl: &quot;100,100,700&quot;,\r\n            // jtAniMark: &quot;1&quot;,\r\n            // bar_whtl: &quot;665,50,1300&quot;,\r\n            // bar_w: &quot;246&quot;,\r\n            // bar_set: &quot;red,blue,50&quot;,\r\n            // meng:'0',\r\n            // meng_tl:&quot;200,100&quot;,\r\n\r\n            poptype: &quot;0&quot;,\r\n            lbtype: '0',\r\n            lbdir: &quot;0&quot;,\r\n            cenLeft: '',\r\n            // tcpop_wh: &quot;200,200,red&quot;,\r\n            // tcdiy_0_0: '',\r\n            // tcset_0_0: &quot;100,100&quot;,\r\n            // tcdiy_0_1: '',\r\n            // tcset_0_1: &quot;500,100|400&quot;,\r\n\r\n            close: &quot;https://img20.360buyimg.com/zx/jfs/t1/116034/15/2188/4077/5e9ffda7Eda4c9c85/12d1849dc9516f54.png&quot;,\r\n            close_whtl: &quot;150,150,0,975&quot;,\r\n            tcbg: &quot;#000,0.8&quot;,\r\n            initpage: &quot;0&quot;,\r\n            initflag: &quot;0&quot;,\r\n\r\n            tcani: &quot;0&quot;,\r\n            isFullTc: &quot;0&quot;,\r\n            isAutoTc: &quot;0&quot;,\r\n            // diy_bar_whtl:&quot;500,100,200&quot;,\r\n            // diy_bar_w:&quot;100&quot;,\r\n            // diy_bar_set:&quot;red,blue&quot;\r\n        }\r\n        let d = mock, id = &quot;.gmkj_product_diy&quot;, mid = Number(&quot;{{{moduleId}}}&quot;), godIds = &quot;&quot;;\r\n\r\n        id =  `.module_${mid} ${id}`;\r\n        godIds = ((JSON.parse({{{godIds}}})||[]).map(it=&gt;it.godGrpId) || []).join(&quot;,&quot;);\r\n        d = getDiyData({{{ boardParams }}});\r\n\r\n        loading();\r\n        let plug = [];\r\n        if (!window.Vue) { plug.push(&quot;//storage.360buyimg.com/babelview/00029824/vue.js?t=20220513211804&quot;) }\r\n        if (!window.Swiper) { plug.push(&quot;//storage.360buyimg.com/babelview/00029824/swiper.min.js?t=20220513211804&quot;) }\r\n        if (!window.gmdiyModule28) { plug.push(&quot;//storage.360buyimg.com/babelview/00029824/diymodule.js?t=20220513211804&quot;) }\r\n\r\n        loadScript(plug).then(() =&gt; {\r\n            let mixins = {\r\n                data: {\r\n                    spmData: {},//埋点数据\r\n                    godIds,//商品id\r\n                    good: [],//商品数组\r\n                    isMount: false,//是否挂载成功\r\n                    isGoodData: false,//是否获取到商品数据\r\n                    isPower: false,//是否开启权限显示模块\r\n                    isModuleShow: true,\r\n                    moduleShop: [\r\n                        { id: 1000306683, name: &quot;兰蔻京东自营官方旗舰店&quot; }\r\n                    ],\r\n                },\r\n                created() {\r\n                    this.getSpmData();//获取埋点数据\r\n                    this.getGoodData();//获取商品数据\r\n                },\r\n                mounted() {\r\n                    this.isMount = true;\r\n                },\r\n                methods: {\r\n                    conType(item) { let type = &quot;pic&quot;; try { if (this.isType(item) == &quot;object&quot;) { return &quot;content&quot; } if (this.isType(item) == &quot;string&quot;) { JSON.parse(item); type = &quot;content&quot;; } } catch (err) { }; return type; },\r\n                    goUrl(url, item, other) {\r\n                        if (!url || url == &quot;0&quot;) { return false; }\r\n                        if (item) {\r\n                            if (item.advertId) { spm(Object.assign(this.spmData, { id: &quot;adv_&quot; + item.advertId, adid: item.advertId, agid: this.d.bannerId })) }\r\n                            if (item.skuId &amp;&amp; other != &quot;addcart&quot;) { spm(Object.assign(this.spmData, { id: &quot;sku_&quot; + item.skuId, sku: item.skuId, sgid: this.d.goodId })) }\r\n                            if (item.skuId &amp;&amp; other == &quot;addcart&quot;) { spm(Object.assign(this.spmData, { id: &quot;shoppingcart_&quot; + item.skuId, sku: item.skuId, sgid: this.d.goodId })) }\r\n                        }\r\n                        if (other &amp;&amp; other != &quot;addcart&quot;) { spm(Object.assign(this.spmData, { id: &quot;other_&quot; + other })) }\r\n                        if (this.isNumber(url)) { url = &quot;https://item.m.jd.com/product/&quot; + url + &quot;.html&quot;; }\r\n                        setTimeout(() =&gt; { ($(`&lt;a target=&quot;_self&quot; href=&quot;${url}&quot;&gt;&lt;/a&gt;`)).click(); }, 50);\r\n                    },\r\n                    css(type, d1, d2) {\r\n                        //type为类型, d1为原数据，d2为默认数据\r\n                        let t = [];\r\n                        d2 = this.isType(d2) == &quot;array&quot; ? (d2 || []) : (split_a(String(d2) || &quot;&quot;) || []);\r\n                        if (d1 == undefined || d1 == &quot;&quot; || d1 == null) {\r\n                            t = d2;\r\n                        } else {\r\n                            t = this.isType(d1) == &quot;array&quot; ? (d1 || []) : (split_a(String(d1) || &quot;&quot;) || []);\r\n                        }\r\n                        var obj = { arr: t, css: {} }\r\n                        if (type == &quot;whtl&quot; || type == &quot;whtr&quot;) {\r\n                            switch (t.length) {\r\n                                case 1: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), }; break;\r\n                                case 2: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), height: this.rem(t[1] || d2[1]), minHeight: this.rem(t[1] || d2[1]), }; break;\r\n                                case 3: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), height: this.rem(t[1] || d2[1]), minHeight: this.rem(t[1] || d2[1]), top: this.rem(t[2] || d2[2]), }; break;\r\n                                case 4: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), height: this.rem(t[1] || d2[1]), minHeight: this.rem(t[1] || d2[1]), top: this.rem(t[2] || d2[2]), left: this.rem(t[3] || d2[3]) }; break;\r\n                            }\r\n                            if (type == &quot;whtr&quot; &amp;&amp; t.length == 4) {\r\n                                obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), height: this.rem(t[1] || d2[1]), minHeight: this.rem(t[1] || d2[1]), top: this.rem(t[2] || d2[2]), right: this.rem(t[3] || d2[3]) };\r\n                            }\r\n                        } else if (type == &quot;wh&quot;) {\r\n                            switch (t.length) {\r\n                                case 1: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), }; break;\r\n                                case 2: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), height: this.rem(t[1] || d2[1]), minHeight: this.rem(t[1] || d2[1]), }; break;\r\n                            }\r\n                        } else if (type == &quot;tl&quot;) {\r\n                            switch (t.length) {\r\n                                case 1: obj.css = { top: this.rem(t[0] || d2[0]), }; break;\r\n                                case 2: obj.css = { top: this.rem(t[0] || d2[0]), left: this.rem(t[1] || d2[1]), }; break;\r\n                            }\r\n                        } else if (type == &quot;sc&quot;) {\r\n                            switch (t.length) {\r\n                                case 1: obj.css = { fontSize: this.rem(t[0] || d2[0]), }; break;\r\n                                case 2: obj.css = { fontSize: this.rem(t[0] || d2[0]), color: t[1] || d2[1] }; break;\r\n                            };\r\n                        }\r\n                        return obj.css\r\n                    },\r\n                    expoModuleShow() {\r\n                        let obj = {\r\n                            aid: this.spmData.aid, mid: this.spmData.mid, fno: this.spmData.fno,\r\n                            eventId: &quot;Babel_dev_expo_other_moduleshow&quot;\r\n                        }\r\n                        try {\r\n                            if (!this.spmData.aid || !this.spmData.mid) { return }\r\n                            var click = new MPing.inputs.Click(obj.eventId);\r\n                            click.event_param = JSON.stringify(obj);\r\n                            click.updateEventSeries();\r\n                            (new MPing()).send(click);\r\n                        } catch (e) { console.log(e) }\r\n                    },\r\n                    getIsModuleShow() {\r\n                        let shopId = (((window.__react_data__ || {}).activityData || {}).head || {}).shopId;\r\n                        if (!this.moduleShop.find(it =&gt; it.id == shopId)) {\r\n                            this.isModuleShow = false;\r\n                            $(`.module_${mid} .gmkj_loading`).css({ display: &quot;none&quot; });\r\n                        }\r\n                    },\r\n                    getSpmData() {\r\n                        if (window.__react_data__) {\r\n                            let wData = window.__react_data__ || {}, activityData = (wData.activityData || {}), fno = ((activityData.floorList || []).find(it =&gt; it.moduleId == mid) || { ofn: 2 }).ofn - 1;\r\n                            this.spmData = { aid: activityData.activityId || &quot;&quot;, mid: String(mid), fno: parseInt(fno), biimpr: (activityData.biimpr || &quot;&quot;) + &quot;_&quot; + mid };\r\n                            this.isPower &amp;&amp; this.getIsModuleShow();\r\n                        } else {\r\n                            let count = 0, max = 10;\r\n                            let timer = setInterval(() =&gt; {\r\n                                if (window.__react_data__) {\r\n                                    clearInterval(timer);\r\n                                    let wData = window.__react_data__ || {}, activityData = (wData.activityData || {}), fno = ((activityData.floorList || []).find(it =&gt; it.moduleId == mid) || { ofn: 2 }).ofn - 1;\r\n                                    this.spmData = { aid: activityData.activityId || &quot;&quot;, mid: String(mid), fno: parseInt(fno), biimpr: (activityData.biimpr || &quot;&quot;) + &quot;_&quot; + mid };\r\n                                    this.isPower &amp;&amp; this.getIsModuleShow();\r\n                                }\r\n                                if (count &gt;= max) {\r\n                                    clearInterval(timer);\r\n                                    this.spmData = { aid: &quot;&quot;, mid: String(mid), fno: 1, biimpr: &quot;&quot; };\r\n                                }\r\n                                count++\r\n                            }, 300);\r\n                        }\r\n                    },\r\n                    getGoodData() {\r\n                        let ids = this.myTrim(this.godIds);\r\n                        if (ids) {\r\n                            try {\r\n                                babel.babelProductInfoNew({ body: ids }).then((res) =&gt; {\r\n                                    let arr = [];\r\n                                    for (let i in res.data) {\r\n                                        (res.data[i].list || []).forEach(it =&gt; { it.groupId = res.data[i].groupId; arr.push(it); });\r\n                                    }\r\n                                    this.good = arr;\r\n                                    this.isGoodData = true;\r\n                                    this.initSwiper &amp;&amp; this.initSwiper();\r\n                                });\r\n                            } catch (error) {\r\n                                this.good = [];\r\n                                this.isGoodData = true;\r\n                                this.initSwiper &amp;&amp; this.initSwiper();\r\n                            }\r\n                        } else {\r\n                            this.isGoodData = true;\r\n                            this.initSwiper &amp;&amp; this.initSwiper();\r\n                        }\r\n                    },\r\n                    myTrim(s) { return (s || &quot;&quot;).replace(/(^\\s*)|(\\s*$)/g, &quot;&quot;); },\r\n                    check_url(url) { var re = new RegExp('^((https|http|ftp|rtsp|//))'); if (re.test(url || &quot;&quot;)) { return true; } else { return false; } },\r\n                    handleUrl(url) { url = (url || &quot;&quot;).replace(&quot;!q20.webp&quot;, &quot;&quot;); if ((url || &quot;&quot;).indexOf(&quot;http&quot;) &lt; 0) { return &quot;https:&quot; + url; } return url; },\r\n                    bool(val) { if (val == &quot;1&quot; || val == true) { return true } else { return false } },\r\n                    isNumber(val) { var regPos = /^\\d+(\\.\\d+)?$/; var regNeg = /^(-(([0-9]+\\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/; return (regPos.test(val) || regNeg.test(val)) ? true : false; },\r\n                    isType(target) { if (target === null) { return 'null' } var ret = typeof (target); if (ret === 'object') { var str = Object.prototype.toString.call(target); var obj = { '[object Array]': 'array', '[object Object]': 'object', '[object Number]': 'numberObject', '[object Boolean]': 'booleanObject', '[object String]': 'numberString' }; return obj[str] } else { return ret } },\r\n                    rem(size, flag) { size = parseInt(size || 0); return flag ? parseInt(size * scale) : parseInt(size * scale) + &quot;px&quot;; },\r\n                }\r\n            }\r\n\r\n            window[id.slice(1).split(&quot; &quot;)[0]] = new Vue({\r\n                el: id,\r\n                mixins: [mixins],\r\n                components: { 'gmkj-diy': window.gmdiyModule28 },\r\n                provide: { noClick: false },\r\n                data: {\r\n                    tcIndex: 0,\r\n                    d: {},\r\n                    banner: [],\r\n                    curinx: 0,\r\n                    tcshow: false,\r\n                    countNum: 5,//倒计时文字\r\n                    space: 0,\r\n                    firstPop: false,\r\n                    popban: [],\r\n                    len0: 0,\r\n                    currTcpic: &quot;&quot;,\r\n                    isFullTc: true,\r\n                    barConfig: {},\r\n                    debug\r\n                },\r\n                computed: {\r\n                    xfani() { return { gmkj_zkani1: this.d.xfani == &quot;1&quot;, gmkj_zkani2: this.d.xfani == &quot;2&quot;, gmkj_zkani3: this.d.xfani == &quot;3&quot;, gmkj_zkani4: this.d.xfani == &quot;4&quot; } },\r\n                    getAniName() {\r\n                        switch (this.d.tcani) {\r\n                            case &quot;0&quot;: return &quot;gmkj_tcpic_fade&quot;; break;\r\n                            case &quot;1&quot;: return &quot;gmkj_tcpic_top&quot;; break;\r\n                            case &quot;2&quot;: return &quot;gmkj_tcpic_bottom&quot;; break;\r\n                            case &quot;3&quot;: return &quot;gmkj_tcpic_left&quot;; break;\r\n                            case &quot;4&quot;: return &quot;gmkj_tcpic_right&quot;; break;\r\n                            default: return &quot;gmkj_tcpic_fade&quot;;\r\n                        }\r\n                    }\r\n                },\r\n                created() {\r\n                    this.swiperLoop = d.loop != &quot;1&quot;;//轮播是否循环滚动\r\n                    let banner = [];\r\n                    for (let i = 0; i &lt; 15; i++) {\r\n                        if (d[`image${i}`] &amp;&amp; d[`image${i}`] != &quot;0&quot;) {\r\n                            banner.push({ \r\n                                pictureUrl: d[`image${i}`],\r\n                                bg:d[`bg${i}`],\r\n                                link:d[`link${i}`],\r\n                            });\r\n                        }\r\n                    }\r\n                    this.banner = banner.length == 0 ? mock.banner : banner;\r\n                    this.len0 = this.banner.length;\r\n\r\n                    let swiper_whtl = split_a(d.swiper_whtl);\r\n                    d.swipercss = this.css('whtl', d.swiper_whtl, [1125, d.clsheight, 0, 0]);\r\n                    if (!swiper_whtl[3]) { d.swipercss.left = rem((1125 - swiper_whtl[0]) / 2); }\r\n\r\n                    this.isFullTc = d.isFullTc == &quot;1&quot; ? false : true;\r\n                    this.isAutoTc = d.isAutoTc == &quot;1&quot; ? true : false;\r\n\r\n                    this.barConfig = { diy_bar_whtl: d.diy_bar_whtl || &quot;&quot;, diy_bar_w: d.diy_bar_w || &quot;&quot;, diy_bar_set: d.diy_bar_set || &quot;&quot; }\r\n                    // 触点\r\n                    d.popshow = this.bool(d.popshow);\r\n                    d.popjd = d.popjd || &quot;0&quot;;\r\n                    let pop_whtl = split_a(d.pop_whtl || mock.pop_whtl);\r\n                    let popbtm = [(pop_whtl[2] || 0), pop_whtl[3]];\r\n\r\n                    let pop_set = split_a(d.pop_set || mock.pop_set);\r\n                    d.popmarx = parseFloat(pop_set[0]) || 0;\r\n                    d.popbr = parseFloat(pop_set[1]) || 0;\r\n                    d.scrW = parseFloat(pop_set[2]) || 0;\r\n\r\n                    this.popW = Number(pop_whtl[0] || 0) + Number((d.popmarx || 0))\r\n                    let popmarx = Number(d.popmarx || 0);\r\n                    d.popmarx = this.rem((d.popmarx || 0) / 2);\r\n\r\n                    let pop1 = split_a(d.pop1 || mock.pop1);\r\n                    let pop2 = split_a(d.pop2 || mock.pop2);\r\n\r\n                    let popStyle = this.css('wh', [pop_whtl[0], pop_whtl[1],], [0, 0]);\r\n                    // 竖向显示\r\n\r\n                    if (d.poptype != &quot;2&quot;) {\r\n                        popStyle = Object.assign(popStyle, { margin: `0 ${d.popmarx}`, borderRadius: this.rem((d.popbr || 0)) });\r\n                    } else {\r\n                        popStyle = Object.assign(popStyle, { margin: `${d.popmarx} 0`, borderRadius: this.rem((d.popbr || 0)) });\r\n                    }\r\n                    if (d.poptype == &quot;3&quot;) { popStyle.marginBottom = this.rem(popmarx); }\r\n\r\n                    let tcpop = split_a(d.tcpop_wh || &quot;&quot;);\r\n                    let tcpop_wh = {\r\n                        width: this.rem(tcpop[0]),\r\n                        height: this.rem(tcpop[1]),\r\n                        background: this.check_url(tcpop[2]) ? `url(${tcpop[2]})` : tcpop[2] || &quot;transparent&quot;,\r\n                        backgroundSize: '100% 100%!important'\r\n                    };\r\n\r\n                    // 计算触点最大宽度和总长度\r\n                    let pop3 = split_a(d.pop3);\r\n                    let popAllwidth = 0;\r\n                    let popMaxW = Number(pop_whtl[0] || 0);\r\n                    this.banner.forEach((it, i) =&gt; {\r\n                        let popCss = JSON.parse(JSON.stringify(popStyle));\r\n                        if (pop3[i] &amp;&amp; pop3[i] != &quot;0&quot;) {\r\n                            popCss.width = rem(pop3[i]);\r\n                            popCss.minWidth = rem(pop3[i]);\r\n                            let popw = ((parseInt(pop3[i]) || parseInt(pop_whtl[0] || 0)) + parseFloat(popmarx));\r\n                            popAllwidth += popw\r\n                            it.popw = popw;\r\n                            popMaxW = popw &gt; popMaxW ? (popw - parseFloat(popmarx)) : popMaxW;\r\n                            it.width = (parseFloat(pop3[i]) || 0) || (parseFloat(pop_whtl[0]) || 0) + this.popmarx;\r\n                        } else {\r\n                            popAllwidth += this.popW;\r\n                            it.width = this.popW;\r\n                        }\r\n\r\n                        let p1 = pop1.length == 1 ? pop1[0] : (pop1[i] || &quot;transparent&quot;);\r\n                        let p2 = pop2.length == 1 ? pop2[0] : (pop2[i] || &quot;transparent&quot;);\r\n                        it.pop1 = { ...popCss, background: this.check_url(p1) ? `url(${this.handleUrl(p1)})` : p1 }\r\n                        it.pop2 = { ...popCss, background: this.check_url(p2) ? `url(${this.handleUrl(p2)})` : p2 }\r\n\r\n                        // 弹窗\r\n                        let tcArr = [];\r\n                        for (let j = 0; j &lt; 2; j++) {\r\n                            if (d[`tcset_${i}_${j}`] &amp;&amp; d[`tcset_${i}_${j}`] != &quot;0&quot;) {\r\n                                let set = d[`tcset_${i}_${j}`].split(&quot;|&quot;);\r\n                                let tcdiy = d[`tcdiy_${i}_${j}`]\r\n\r\n                                let poptl = split_a(set[0] || &quot;&quot;);\r\n                                let contl = split_a(set[1] || &quot;&quot;);\r\n\r\n                                let tccss = { ...tcpop_wh, top: this.rem(poptl[0] || 0), left: this.rem(poptl[1] || 0) }\r\n                                let tcpiccss = { top: this.rem(contl[0] || 0), left: this.rem(contl[1] || 0) }\r\n                                if (this.conType(tcdiy) == 'content') {\r\n                                    if (this.isType(tcdiy) != &quot;object&quot;) {\r\n                                        tcdiy = JSON.parse(tcdiy);\r\n                                        if (!this.isFullTc) {\r\n                                            tcpiccss.width = this.rem(tcdiy.width);\r\n                                            tcpiccss.height = this.rem(tcdiy.height);\r\n                                        }\r\n                                    }\r\n\r\n                                    if (!contl[0]) { tcpiccss.top = this.rem((d.clsheight - tcdiy.height) / 2) }\r\n                                    if (!contl[1]) { tcpiccss.left = this.rem((1125 - tcdiy.width) / 2) }\r\n                                }\r\n                                tcArr.push({ tccss, tcpiccss, tcdiy });\r\n                            }\r\n                        }\r\n                        it.tcArr = tcArr;\r\n                    });\r\n                    this.popMaxW = popMaxW;\r\n                    this.popAllwidth = popAllwidth;\r\n\r\n                    if (d.poptype == &quot;4&quot;) { this.popban = this.banner.concat(this.banner, this.banner) }\r\n                    d.popbox = { top: this.rem(popbtm[0]), bottom: &quot;unset&quot; }\r\n                    this.popBoxW = Number(d.scrW || 0) ? d.scrW : this.popAllwidth;\r\n                    // 竖向显示\r\n                    d.popbox.width = this.rem(this.popBoxW);\r\n\r\n                    // 宽度大于1125和 左侧距离不填，自动居中\r\n                    if (this.popBoxW &gt;= (1125 - (popbtm[1] || 0)) &amp;&amp; !d.scrW) {\r\n                        d.popbox.width = this.rem((1125 - (popbtm[1] || 0)));\r\n                        this.popBoxW = (1125 - (popbtm[1] || 0));\r\n                    }\r\n                    if (d.poptype == &quot;2&quot;) {\r\n                        d.popbox.width = this.rem(this.popMaxW) || popStyle.width;\r\n                    }\r\n\r\n                    d.justifyContent = 'flex-start';\r\n                    if (popbtm[1] || popbtm[1] == &quot;0&quot;) {\r\n                        d.popbox.left = this.rem(popbtm[1] || 0);\r\n                    } else {\r\n                        let w = d.poptype == &quot;2&quot; ? Number(pop_whtl[0] || 0) : this.popBoxW;\r\n                        d.popbox.left = this.rem((1125 - w) / 2);\r\n                        if (d.poptype == &quot;3&quot;) { d.justifyContent = 'center' }\r\n                    }\r\n                    if (d.poptype == &quot;4&quot;) { d.popbox.height = this.rem(pop_whtl[1]) }\r\n                    // 箭头\r\n                    let jtpic = split_a(d.jtpic || &quot;&quot;);\r\n                    d.jtleft = Object.assign(this.css('whtl', (d.jt_whtl || mock.jt_whtl)), { backgroundImage: `url(${jtpic[0]})` })\r\n                    d.jtright = Object.assign(this.css('whtr', (d.jt_whtl || mock.jt_whtl)), { backgroundImage: `url(${jtpic[1]})` })\r\n\r\n                    if (d.jtAniMark == &quot;1&quot;) {\r\n                        d.jtleft.animation = &quot;gmkj_left 0.5s linear infinite alternate&quot;;\r\n                        d.jtright.animation = &quot;gmkj_right 0.5s linear infinite alternate&quot;;\r\n                    }\r\n\r\n                    // 滚动条样式\r\n                    let bar_set = split_a(d.bar_set || mock.bar_set), bar_whtl = split_a(d.bar_whtl || mock.bar_whtl);\r\n                    d.barcss = Object.assign(this.css('whtl', (d.bar_whtl), [0, 0, 0, 0]), { background: this.check_url(bar_set[0]) ? `url(${bar_set[0]})` : bar_set[0], backgroundSize: &quot;100% 100%&quot;, borderRadius: this.rem(bar_set[2] || bar_whtl[1]) })\r\n                    d.barconcss = { width: this.rem(d.bar_w || 0), background: this.check_url(bar_set[1]) ? `url(${bar_set[1]})` : bar_set[1], backgroundSize: &quot;100% 100%&quot;, borderRadius: this.rem(bar_set[2] || bar_whtl[1]) }\r\n                    if (!bar_whtl[3] &amp;&amp; bar_whtl[3] != &quot;0&quot;) { d.barcss.left = this.rem((1125 - bar_whtl[0]) / 2); } // 滚动条居中\r\n\r\n                    this.space = Math.ceil(((bar_whtl[0] || 0) - (d.bar_w || 0)) / (this.len0 - 1));\r\n                    d.auto_t = Number(d.auto_t || 5)\r\n\r\n                    // 蒙层图片\r\n                    if (d.meng) { d.mengcss = this.css('tl', d.meng_tl, [0, 0]); }\r\n\r\n                    // 弹窗设置\r\n                    d.closecss = this.css('whtl', d.close_whtl, [150, 150, 0, 0])\r\n                    let tcbg = split_a(d.tcbg)\r\n                    d.tcbgcss = { background: tcbg[0] || &quot;transparent&quot;, opacity: tcbg[1] || 0.8 }\r\n                    this.initflag = d.initflag == &quot;1&quot;;\r\n\r\n                    // 把数据挂载到vue\r\n                    this.d = d;\r\n                    debug &amp;&amp; console.log(id, d);;\r\n                },\r\n                mounted() {\r\n                    loading(true);\r\n                    this.initSwiper();\r\n                    if (this.d.poptype == 4 &amp;&amp; this.d.popshow) {\r\n                        if (d.cenLeft) {\r\n                            $(`${id} .gmkj_pagination`).scrollLeft(this.rem(this.popAllwidth - (parseFloat(d.cenLeft) || 0), true));\r\n                        } else {\r\n                            $(`${id} .gmkj_pagination`).scrollLeft(this.rem(this.popAllwidth - this.popBoxW / 2 + this.banner[0].width / 2, true));\r\n                        }\r\n                    }\r\n                    // 添加弹窗css\r\n                    $(`${id}`).prepend(`\r\n                            &lt;style&gt;\r\n                                ${id} .gmkj_tcpic_top-leave-active,${id} .gmkj_tcpic_top-enter-active,${id} .gmkj_tcpic_bottom-leave-active,${id} .gmkj_tcpic_bottom-enter-active,${id} .gmkj_tcpic_left-leave-active,${id} .gmkj_tcpic_left-enter-active,${id} .gmkj_tcpic_right-leave-active,${id} .gmkj_tcpic_right-enter-active,{transition: all .3s;}\r\n                                ${id} .gmkj_tcpic_left-enter,.gmkj_tcpic_left-leave-to {transform: translateZ(0) translateX(-${this.rem(1130)});}\r\n                                ${id} .gmkj_tcpic_right-enter,.gmkj_tcpic_right-leave-to {transform: translateZ(0) translateX(${this.rem(1130)});}\r\n                                ${id} .gmkj_tcpic_top-enter,.gmkj_tcpic_top-leave-to {transform: translateZ(0) translateY(-${this.rem(d.clsheight)});}\r\n                                ${id} .gmkj_tcpic_bottom-enter,.gmkj_tcpic_bottom-leave-to {transform: translateZ(0) translateY(${this.rem(d.clsheight)});}\r\n                            &lt;/style&gt;\r\n                        `);\r\n                },\r\n                methods: {\r\n                    mountScroll() {\r\n                        onAppear(id, (visible) =&gt; {\r\n                            this.isVisible = visible;\r\n                            if (visible &amp;&amp; !this.isShow) {\r\n                                this.isShow = true;\r\n                                this.onAppear();//开启自定义代码\r\n                            } if (!visible &amp;&amp; this.isShow) {\r\n                                this.isShow = false;\r\n                                this.onDisappear();//关闭自定义\r\n                            }\r\n                        }, () =&gt; {\r\n                            if (document.visibilityState === 'hidden' &amp;&amp; this.isShow) { this.isShow = false; this.onDisappear(); }\r\n                            if (document.visibilityState === 'visible' &amp;&amp; !this.isShow &amp;&amp; this.isVisible) { this.isShow = true; this.onAppear(); }\r\n                        });\r\n                    },\r\n                    onAppear(index, old) {\r\n                        let curinx = this.curinx;\r\n                        this.expoModuleShow &amp;&amp; this.expoModuleShow();\r\n                        // this.onDisappear();\r\n                        // 当前轮播自定义\r\n                        let currDiy = this.$refs[`diymod${index || curinx}`];\r\n                        currDiy &amp;&amp; currDiy[0].onAppear();\r\n                        this.$refs.bg &amp;&amp; this.$refs.bg[index || curinx] &amp;&amp; this.$refs.bg[index || curinx].onAppear &amp;&amp; this.$refs.bg[index || curinx].onAppear();\r\n                        // 蒙层自定义\r\n                        this.$refs.mengDiy &amp;&amp; this.$refs.mengDiy.onAppear();\r\n                        this.$refs.bgDiy &amp;&amp; this.$refs.bgDiy.onAppear();\r\n                        if (d.auto == &quot;1&quot; &amp;&amp; (!this.tcshow || !this.isFullTc)) { this.mySwiper &amp;&amp; this.mySwiper.autoplay &amp;&amp; this.mySwiper.autoplay.start &amp;&amp; this.mySwiper.autoplay.start(); }\r\n                    },\r\n                    onDisappear() {\r\n                        let curinx = this.curinx;\r\n                        // 当前轮播自定义\r\n                        let it = this.$refs[`diymod${curinx}`];\r\n                        it &amp;&amp; it[0].onDisappear();\r\n                        this.$refs.bg &amp;&amp; this.$refs.bg[curinx] &amp;&amp; this.$refs.bg[curinx].onDisappear &amp;&amp; this.$refs.bg[curinx].onDisappear();\r\n                        // 蒙层自定义\r\n                        this.$refs.mengDiy &amp;&amp; this.$refs.mengDiy.onDisappear();\r\n                        this.$refs.bgDiy &amp;&amp; this.$refs.bgDiy.onDisappear();\r\n                        if (this.initpage &amp;&amp; this.initflag &amp;&amp; this.mySwiper) {\r\n                            this.slideTo(this.initpage, true)\r\n                        }\r\n                        if (d.auto == &quot;1&quot;) { this.mySwiper &amp;&amp; this.mySwiper.autoplay &amp;&amp; this.mySwiper.autoplay.stop &amp;&amp; this.mySwiper.autoplay.stop(); }\r\n                    },\r\n                    slideTo(index, noAni) {\r\n                        if (this.banner.length &lt;= 1) { return }\r\n                        let time = d.lbtype == 3 ? 0 : 300;\r\n                        if (noAni) { time = 0 }\r\n                        if (index == &quot;next&quot;) {\r\n                            this.mySwiper.slideNext(time);\r\n                        } else if (index == &quot;prev&quot;) {\r\n                            this.mySwiper.slidePrev(time);\r\n                        } else {\r\n                            index = index % this.len0;\r\n                            this.mySwiper.slideToLoop(index, time, true);\r\n                        }\r\n                    },\r\n                    initSwiper() {\r\n                        if (this.swiperInit || !this.isGoodData || !this.isMount) { return }\r\n                        this.swiperInit = true;\r\n                        setTimeout(() =&gt; {\r\n                            let d = this.d;\r\n                            let _this = this;\r\n                            // 触点动画\r\n                            if (d.popjd == &quot;1&quot;) { this.firstPop = true; }\r\n                            let lbtype = &quot;slide&quot;;\r\n                            switch (d.lbtype) {\r\n                                case &quot;0&quot;: lbtype = &quot;slide&quot;; break;\r\n                                case &quot;1&quot;: lbtype = &quot;fade&quot;; break;\r\n                                case &quot;2&quot;: lbtype = &quot;flip&quot;; break;\r\n                                case &quot;3&quot;: lbtype = &quot;slide&quot;; break;\r\n                            }\r\n                            let initpage = d.initpage || 0;\r\n                            if (initpage == &quot;0&quot; || !initpage) {\r\n                                this.initpage = false;\r\n                            } else {\r\n                                this.initpage = initpage - 1;\r\n                            }\r\n                            this.mySwiper = new Swiper(`${id} .gmkj_swiper`, {\r\n                                direction: d.lbdir == '1' ? 'vertical' : 'horizontal', // 垂直切换选项\r\n                                loop: this.swiperLoop, // 循环模式选项\r\n                                effect: lbtype,\r\n                                initialSlide: this.initpage || 0,\r\n                                preventInteractionOnTransition: true, //过渡时无法滑动\r\n                                allowTouchMove: this.len0 &lt;= 1 ? false : true,\r\n                                autoplay: d.auto == &quot;1&quot; ? {\r\n                                    delay: (d.auto_t || 5) * 1000,\r\n                                    disableOnInteraction: false,\r\n                                } : false,\r\n                                followFinger: lbtype == &quot;fade&quot; ? false : true,\r\n                                // fadeEffect: { crossFade: true },\r\n                                speed: d.lbtype == '3' ? 0 : 300,\r\n                                on: {\r\n                                    slideChange: function () {\r\n                                        let index = this.realIndex;\r\n                                        _this.onChange(index)\r\n                                    },\r\n                                    slideChangeTransitionEnd: function () {\r\n                                        if (lbtype == &quot;fade&quot;) {\r\n                                            _this.fadeTimer &amp;&amp; clearTimeout(_this.fadeTimer);\r\n                                            _this.fadeTimer = setTimeout(() =&gt; {\r\n                                                $(`${id} .swiper-slide-active`).css({ opacity: 1 }).siblings(&quot;.swiper-slide&quot;).css({ opacity: 0 });\r\n                                            }, 100);\r\n                                        }\r\n                                        if (!_this.mySwiper) { return }\r\n                                        let index = this.realIndex;\r\n                                        if (index == _this.len0 - 1) {\r\n                                            _this.mySwiper.slideToLoop(_this.len0 - 1, 0, false);\r\n                                        } else if (index == 0) {\r\n                                            _this.mySwiper.slideToLoop(0, 0, false);\r\n                                        }\r\n                                    },\r\n                                    init: function () {\r\n                                        _this.mountScroll();\r\n                                    }\r\n                                },\r\n                            });\r\n                            this.isAutoTc &amp;&amp; this.opentc();\r\n                        }, this.good.length &gt; 0 ? 500 : 0);\r\n                    },\r\n                    getScrSpace(index) {\r\n                        let tranV = 0;\r\n                        for (let i = 0; i &lt; index; i++) {\r\n                            tranV += this.banner[i].width;\r\n                        }\r\n                        return tranV;\r\n                    },\r\n                    onChange(index) {\r\n                        let d = this.d;\r\n                        let old = this.curinx;\r\n                        if (index == this.curinx) { return }\r\n                        // 触点动画\r\n                        if (this.d.popshow) {\r\n                            if (d.popjd == &quot;1&quot; &amp;&amp; (index - 1) - this.curinx &lt; 0) {\r\n                                this.firstPop = false; setTimeout(() =&gt; { this.firstPop = true; }, 30);\r\n                            }\r\n                            let pagination = $(`${id} .gmkj_pagination`);\r\n                            if (this.popBoxW &lt; this.popAllwidth &amp;&amp; d.poptype != 4) {\r\n                                let maxScr = this.popAllwidth - this.popBoxW;//最大滚动距离\r\n                                let toLeft = 0;\r\n                                let tempIndex = index - 1 &lt; 0 ? 0 : index - 1;\r\n                                let scrSpace = this.getScrSpace(tempIndex);\r\n                                if (tempIndex == this.len0 - 1) {\r\n                                    toLeft = this.rem(this.popAllwidth - this.popBoxW, true);\r\n                                } else if (scrSpace &lt; maxScr) {\r\n                                    toLeft = this.rem(scrSpace, true);\r\n                                } else {\r\n                                    toLeft = this.rem(maxScr, true);\r\n                                }\r\n                                pagination.scrollL({ toLeft: toLeft, durTime: 200 })\r\n                            } else if (d.poptype == 4) {\r\n                                let cen = (this.banner[index].width / 2);\r\n                                let loop = 0, tranV = this.getScrSpace(index);\r\n                                let cenLeft = parseFloat(d.cenLeft) || 0;\r\n                                // 求居中\r\n                                let end = -tranV - this.popAllwidth + (this.popBoxW / 2 - cen);\r\n                                if (d.cenLeft) {\r\n                                    end = -tranV - this.popAllwidth + cenLeft;\r\n                                }\r\n                                if (index == 0 &amp;&amp; old == this.len0 - 1) {\r\n                                    loop = -this.popAllwidth + (this.popBoxW / 2 - cen)\r\n                                    end += -this.popAllwidth;\r\n                                }\r\n                                if (index == this.len0 - 1 &amp;&amp; old == 0 &amp;&amp; this.len0 != 2) {\r\n                                    loop = -this.popAllwidth * 2 + (this.popBoxW / 2 + cen)\r\n\r\n                                    end += this.popAllwidth;\r\n                                }\r\n                                if (d.cenLeft &amp;&amp; loop) {\r\n                                    loop = -tranV - this.popAllwidth + cenLeft;\r\n                                }\r\n                                end = Math.abs(end), loop = Math.abs(loop);\r\n                                pagination.scrollL({\r\n                                    toLeft: this.rem(end, true), durTime: 300, callback: () =&gt; {\r\n                                        loop &amp;&amp; pagination.scrollLeft(this.rem(loop, true));//处理循环\r\n                                    }\r\n                                });\r\n                            }\r\n                        }\r\n                        if (!this.isFullTc) { this.closetc(); }\r\n                        this.curinx = index;\r\n\r\n                        let time = d.lbtype == 3 ? 0 : 300;\r\n                        this.diytimer &amp;&amp; clearTimeout(this.diytimer);\r\n                        this.diytimer = setTimeout(() =&gt; {\r\n                            let currDiy = this.$refs[`diymod${index}`];\r\n                            let oldDiy = this.$refs[`diymod${old}`];\r\n                            currDiy &amp;&amp; currDiy[0].onAppear();\r\n                            oldDiy &amp;&amp; oldDiy[0].onDisappear();\r\n                            \r\n                            // 背景\r\n                            this.$refs.bg &amp;&amp; this.$refs.bg[index] &amp;&amp; this.$refs.bg[index].onAppear &amp;&amp; this.$refs.bg[index].onAppear();\r\n                            this.$refs.bg &amp;&amp; this.$refs.bg[old] &amp;&amp; this.$refs.bg[old].onDisappear &amp;&amp; this.$refs.bg[old].onDisappear();\r\n                            // 弹出\r\n                            this.isAutoTc &amp;&amp; this.opentc();\r\n                        }, time);\r\n                    },\r\n                    // 打开弹窗\r\n                    opentc(item, index) {\r\n                        if (this.tcshow) { return }\r\n                        // 自动打开第一个\r\n                        if (!item) {\r\n                            item = ((this.banner[this.curinx] || {}).tcArr || [])[0];\r\n                            index = 0;\r\n                        }\r\n                        // 弹窗不存在\r\n                        if (!item) { return }\r\n                        this.tcshow = true;\r\n                        this.tcIndex = index + 1;\r\n                        this.currTcpic = item;\r\n                        if (this.d.auto == &quot;1&quot; &amp;&amp; this.isFullTc) { this.mySwiper &amp;&amp; this.mySwiper.autoplay.stop(); }\r\n                        if (this.currTcpic.tcpiccss) {\r\n                            setTimeout(() =&gt; {\r\n                                if (this.$refs.tcdiy) {\r\n                                    let diy = this.$refs.tcdiy;\r\n                                    if (this.isType(diy) == &quot;array&quot;) { diy = diy[0]; }\r\n                                    diy &amp;&amp; diy.onAppear &amp;&amp; diy.onAppear();\r\n                                }\r\n                            }, 350);\r\n                        }\r\n                    },\r\n                    // 关闭弹窗\r\n                    closetc() {\r\n                        this.tcshow = false;\r\n                        setTimeout(() =&gt; {\r\n                            if (this.d.auto == &quot;1&quot; &amp;&amp; this.isFullTc) { this.mySwiper &amp;&amp; this.mySwiper.autoplay.start(); }\r\n                            this.currTcpic = &quot;&quot;;\r\n                            if (this.$refs.tcdiy) {\r\n                                let diy = this.$refs.tcdiy;\r\n                                if (this.isType(diy) == &quot;array&quot;) { diy = diy[0]; }\r\n                                diy &amp;&amp; diy.onDisappear &amp;&amp; diy.onDisappear();\r\n                                this.$refs.tcdiy = null;\r\n                            }\r\n                        }, 300);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    })()\r\n&lt;/script&gt;",
        "attributeConfig": null,
        "floorNum": "5",
        "godIds": [],
        "cmpIds": [],
        "ssr": 1,
        "styleId": "00029824",
        "ofn": "14",
        "bizId": "0",
        "materialParams": null,
        "enc": "BC054B0ACB6FE5A9AA7A1AB57D77D84B85E168D5A5EC4DEC99E8ACD22A6C85CA39A4D6F2E5F0E1A9C30A294FCBFB7A57292DD04465AB80E9A772FE51390EDC40",
        "advIds": [],
        "boardParams": {
            "auto": "0",
            "auto_t": "3",
            "bg0": "{\"mT\":\"diyModule\",\"width\":1125,\"height\":\"1500\",\"bC\":\"\",\"components\":[{\"type\":\"img\",\"name\":\"图片1\",\"width\":1125,\"height\":1448,\"left\":\"0\",\"top\":\"0\",\"src\":\"http://m.360buyimg.com/babel/jfs/t1/116638/9/26109/207538/62c7a4eaEf0f1d73c/187f8aa10b50abaa.jpg\",\"url\":\"https://item.jd.com/100039235722.html\"}]}",
            "clsbg": "{\"mT\":\"diyModule\",\"width\":1125,\"height\":\"1500\",\"bC\":\"\",\"components\":[{\"type\":\"img\",\"name\":\"图片1\",\"width\":1125,\"height\":1321,\"left\":\"0\",\"top\":\"0\",\"src\":\"http://m.360buyimg.com/babel/jfs/t1/40572/16/17469/862410/628793a9Ea396f2dc/fa6f9c976455ac49.jpg\",\"url\":\"https://item.jd.com/100022734307.html\"}]}",
            "clsheight": "1448",
            "bg2": "{\"mT\":\"diyModule\",\"width\":1125,\"height\":\"1500\",\"bC\":\"\",\"components\":[{\"type\":\"img\",\"name\":\"图片1\",\"width\":1125,\"height\":1448,\"left\":\"0\",\"top\":\"0\",\"src\":\"http://m.360buyimg.com/babel/jfs/t1/61633/37/19985/330953/62c7a4edEf8e67850/4e1695a876479ec7.jpg\",\"url\":\"https://item.jd.com/100022734317.html\"}]}",
            "bg1": "{\"mT\":\"diyModule\",\"width\":1125,\"height\":\"1500\",\"bC\":\"\",\"components\":[{\"type\":\"img\",\"name\":\"图片1\",\"width\":1125,\"height\":1448,\"left\":\"0\",\"top\":\"0\",\"src\":\"http://m.360buyimg.com/babel/jfs/t1/37558/21/18529/328971/62c7c71aE8eec6839/17b39268f4726e35.jpg\",\"url\":\"https://item.jd.com/100027436353.html\"}]}",
            "poptype": "1",
            "bg3": "",
            "pop_set": "60",
            "isbar": true,
            "link1": "",
            "popjd": "0",
            "link0": "",
            "isjttop": "1",
            "loop": "0",
            "lbtype": "0",
            "bar_w": "150",
            "link3": "",
            "link2": "",
            "bar_whtl": "450,5,1410",
            "pop_whtl": "255,60,60",
            "image3": "",
            "bar_set": "black,white,50",
            "jtAniMark": "1",
            "image1": "{\"mT\":\"diyModule\",\"width\":1125,\"height\":\"1500\",\"bC\":\"\",\"components\":[{\"type\":\"img\",\"name\":\"图片1\",\"width\":1125,\"height\":1448,\"left\":\"0\",\"top\":\"0\",\"src\":\"http://m.360buyimg.com/babel/jfs/t1/37558/21/18529/328971/62c7c71aE8eec6839/17b39268f4726e35.jpg\",\"url\":\"https://item.jd.com/100027436353.html\"}]}",
            "image2": "{\"mT\":\"diyModule\",\"width\":1125,\"height\":\"1500\",\"bC\":\"\",\"components\":[{\"type\":\"img\",\"name\":\"图片1\",\"width\":1125,\"height\":1448,\"left\":\"0\",\"top\":\"0\",\"src\":\"http://m.360buyimg.com/babel/jfs/t1/61633/37/19985/330953/62c7a4edEf8e67850/4e1695a876479ec7.jpg\",\"url\":\"https://item.jd.com/100022734317.html\"}]}",
            "image0": "{\"mT\":\"diyModule\",\"width\":1125,\"height\":\"1500\",\"bC\":\"\",\"components\":[{\"type\":\"img\",\"name\":\"图片1\",\"width\":1125,\"height\":1448,\"left\":\"0\",\"top\":\"0\",\"src\":\"http://m.360buyimg.com/babel/jfs/t1/116638/9/26109/207538/62c7a4eaEf0f1d73c/187f8aa10b50abaa.jpg\",\"url\":\"https://item.jd.com/100039235722.html\"}]}",
            "pop1": "//img11.360buyimg.com/cms/jfs/t1/104429/34/16520/4691/5e7c74cdE2f8c55d1/5197b19db8b77f98.png,//img14.360buyimg.com/cms/jfs/t1/98339/36/16574/4053/5e7c7b4aEe7371b5e/720426abd6de0319.png,//img13.360buyimg.com/cms/jfs/t1/101732/1/16683/3797/5e7c7d62E97975154/646a0baa3ef2971c.png",
            "initflag": "0",
            "pop2": "//img11.360buyimg.com/cms/jfs/t1/105215/20/16431/4449/5e7c74cdEccf1ed5d/a8bd352897d35548.png,//img13.360buyimg.com/cms/jfs/t1/104445/18/16502/3971/5e7c7b4aEbeb248f6/49b6d808e04529b0.png,//img12.360buyimg.com/cms/jfs/t1/91487/25/16446/3695/5e7c7d62Ead4fbbbf/a473ef55a2bc38a8.png",
            "swiper_whtl": "1125,1448,0",
            "ispoptop": "0"
        },
        "id": 81674472,
        "moduleId": 81674472,
        "timestamp": "",
        "h5FloorFrameState": 0
    }, {
        "template": "hotzone",
        "externalBorder": "0",
        "lrMargin": "0",
        "backgroundColor": "#f2f2f2",
        "hotZone": {
            "pictureUrl": "//m.360buyimg.com/babel/jfs/t1/53166/14/19498/41492/62d92cd2Eb640d898/c92fc84e33136950.jpg!q70.dpg"
        },
        "ofn": "15",
        "width": 1125,
        "sameColor": "0",
        "id": 81683601,
        "moduleId": 81683601,
        "floorNum": "6",
        "height": 316
    }, {
        "template": "hotzone",
        "externalBorder": "0",
        "lrMargin": "0",
        "backgroundColor": "#f2f2f2",
        "hotZone": {
            "pictureUrl": "//m.360buyimg.com/babel/jfs/t1/54475/6/18455/15474/62c7c71cEca4942ae/36e52fd9d8f2a0d6.jpg!q70.dpg"
        },
        "ofn": "16",
        "width": 1125,
        "sameColor": "0",
        "id": 81674473,
        "moduleId": 81674473,
        "floorNum": "7",
        "height": 389
    }, {
        "template": "customcode",
        "sourceId": "bc3113b3e17aa0711a72796937d1693a",
        "htmlSourceUrl": "babelview/00030473/bc3113b3e17aa0711a72796937d1693a.repl.html",
        "queryDefault": null,
        "hasBindMaterial": 0,
        "channel": "h5",
        "htmlSource": "&lt;!-- \r\n    模块名：产品轮播简\r\n    版本号：1.0\r\n    功能修改：\r\n --&gt;\r\n \r\n&lt;!-- &lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=UTF-8&quot;&gt;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&lt;script src=&quot;https://storage.360buyimg.com/babel/00299045/631260/production/dev/zepto.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; --&gt;\r\n\r\n&lt;link rel=&quot;stylesheet&quot; href=&quot;//storage.360buyimg.com/babelview/00030473/swiper.min.css?t=20220621170545&quot;&gt;\r\n&lt;style&gt;\r\n    *{margin:0;padding:0} [v-clock]{display: none;} .w100{width:100%} .wh100{width:100%;height: 100%;} body::-webkit-scrollbar {display: none;} .gmkj_product_diy {overflow: hidden;position: relative;width: 100%;} .gmkj_product_diy .abs0{position: absolute;top: 0;left: 0;} .gmkj_product_diy .gmkj_swiper{position: relative;width: 100%;height: 100%;z-index: 1;display: flex;transition-property: transform;box-sizing: content-box;} .swiper-slide, .swiper-wrapper{transform:translate3d(0px,0,0)}\r\n&lt;/style&gt;\r\n&lt;div v-if=&quot;isModuleShow&quot; class=&quot;gmkj_product_diy&quot; style=&quot;display:none;&quot; v-clock :style=&quot;{height:rem(d.clsheight||1440),background:check_url(d.clsbg)?'transparent':d.clsbg}&quot; @click.stop=&quot;goUrl(d.clslink,null,'背景点击')&quot;&gt;\r\n    &lt;div v-if=&quot;check_url(d.clsbg)&quot; class=&quot;gmkj_bg abs0 wh100&quot;&gt;&lt;img :src=&quot;handleUrl(d.clsbg)&quot; class=&quot;wh100&quot; alt=&quot;&quot;&gt;&lt;/div&gt;\r\n    &lt;div v-if=&quot;conType(d.clsbg) == 'content'&quot; class=&quot;gmkj_bg abs0 wh100&quot;&gt;\r\n        &lt;gmkj-diy :bar=&quot;barConfig&quot; pname=&quot;背景优加_&quot; v-if=&quot;conType(d.clsbg) == 'content'&quot; ref=&quot;bgDiy&quot; :d=&quot;d.clsbg&quot; :spm=&quot;spmData&quot; :good=&quot;good&quot;&gt;&lt;/gmkj-diy&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- 多背景 --&gt;\r\n    &lt;div class=&quot;abs0&quot; v-for=&quot;(item,i) in banner&quot; :style=&quot;{zIndex:curinx==i?2:1,opacity:curinx==i?1:0,pointerEvents:(curinx==i &amp;&amp; item.bg)?'auto':'none'}&quot;&gt;\r\n        &lt;gmkj-diy v-if=&quot;item.bg &amp;&amp; item.bg != '0'&quot; :pname=&quot;'第'+i+'背景_'&quot; ref=&quot;bg&quot; :d=&quot;item.bg&quot; :spm=&quot;spmData&quot; :good=&quot;good&quot;&gt;&lt;/gmkj-diy&gt;\r\n        &lt;div  v-else style=&quot;display: none;&quot; ref=&quot;bg&quot;&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- 轮播 --&gt;\r\n    &lt;div class=&quot;gmkj_swiper&quot; :style=&quot;d.swipercss&quot; style=&quot;overflow: hidden;z-index: 5;&quot;&gt;\r\n        &lt;div class=&quot;swiper-wrapper&quot; :class=&quot;d.lbtype==2?'swiper-no-swiping':''&quot;&gt;\r\n            &lt;div v-for=&quot;(item,index) in banner&quot; class=&quot;swiper-slide wh100&quot; style=&quot;overflow: hidden;transform: translateZ(0);&quot;&gt;\r\n                &lt;div v-if=&quot;conType(item.pictureUrl) == 'pic'&quot; @click.stop=&quot;goUrl(item.link,null,'第'+(index+1)+'个图片')&quot; class=&quot;wh100&quot;&gt;&lt;img class=&quot;wh100&quot; :src=&quot;handleUrl(item.pictureUrl)&quot; /&gt;&lt;/div&gt;\r\n                &lt;gmkj-diy :bar=&quot;barConfig&quot; :pname=&quot;'第'+(index+1)+'屏内容_'&quot; v-if=&quot;conType(item.pictureUrl) == 'content'&quot; :ref=&quot;'diymod'+ index&quot; :d=&quot;item.pictureUrl&quot; :spm=&quot;spmData&quot; :good=&quot;good&quot;&gt;&lt;/gmkj-diy&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- 标题图片 --&gt;\r\n    &lt;gmkj-tit v-if=&quot;d.istit == 1&quot; :d2=&quot;d&quot; :curinx=&quot;curinx&quot; :spm-data=&quot;spmData&quot; :good=&quot;good&quot;&gt;&lt;/gmkj-tit&gt;\r\n    &lt;!-- 触点 --&gt;\r\n    &lt;gmkj-pop v-if=&quot;d.ispop == 1&quot; :d2=&quot;d&quot; :len0=&quot;len0&quot; :curinx=&quot;curinx&quot; :ismount=&quot;swiperInit&quot; :autot=&quot;d.autoArr&quot; :spm-data=&quot;spmData&quot; @slide_to=&quot;slideTo&quot;&gt;&lt;/gmkj-pop&gt;\r\n    &lt;!-- 箭头 --&gt;\r\n    &lt;gmkj-jt v-if=&quot;d.isjt == 1&quot; :d2=&quot;d&quot; @slide_to=&quot;slideTo&quot; :css=&quot;{zIndex: (d.jtobj||{}).jtistop == '1' ? 16 : 13}&quot;&gt;&lt;/gmkj-jt&gt;\r\n    &lt;!-- 滚动条 --&gt;\r\n    &lt;gmkj-bar v-if=&quot;d.isbar == 1&quot; :d2=&quot;d&quot; :len0=&quot;len0&quot; :curinx=&quot;curinx&quot;&gt;&lt;/gmkj-bar&gt;\r\n    &lt;!-- 悬浮 --&gt;\r\n    &lt;gmkj-xf v-if=&quot;d.isxf == 1&quot; ref=&quot;xftool&quot; :d2=&quot;d&quot; :spm-data=&quot;spmData&quot; :good=&quot;good&quot;&gt;&lt;/gmkj-xf&gt;\r\n&lt;/div&gt;\r\n&lt;div class=&quot;gmkj_loading&quot; style=&quot;width:100%;min-height: 80px;display: flex;justify-content: center;align-items: center;opacity: 0;&quot;&gt;&lt;img src=&quot;https://img12.360buyimg.com/zx/jfs/t1/198089/40/628/3897/6103d4c0Ec621cde0/84a5f65d0f83b856.gif&quot; style=&quot;width:40px;height:40px;&quot; alt=&quot;&quot;&gt;&lt;/div&gt;\r\n\r\n&lt;script&gt;\r\n    ; (function () {\r\n        $.fn.scrollL = function (options) { var defaults = { toLeft: 0, durTime: 500, delay: 30, callback: null }; var opts = $.extend(defaults, options), timer = null, _this = this, curLeft = _this.scrollLeft(), subTop = opts.toLeft - curLeft, index = 0, dur = Math.round(opts.durTime / opts.delay), smoothScroll = function (t) { index++; var per = Math.round(subTop / dur); if (index &gt;= dur) { _this.scrollLeft(t); window.clearInterval(timer); if (opts.callback &amp;&amp; typeof opts.callback == &quot;function&quot;) { opts.callback() } return } else { _this.scrollLeft(curLeft + index * per) } }; timer = window.setInterval(function () { smoothScroll(opts.toLeft) }, opts.delay); return _this };\r\n        // 获取url参数\r\n        function getParams(variable) { var query = window.location.search.substring(1); var vars = query.split(&quot;&amp;&quot;); for (var i = 0; i &lt; vars.length; i++) { var pair = vars[i].split(&quot;=&quot;); if (pair[0] == variable) { return pair[1] } } return (false) }\r\n        let debug = getParams('debug') ? true : false;\r\n        //缩放比例\r\n        let scale = document.body.clientWidth / 1125;\r\n        // 加载第三方js\r\n        function loadScript(script, rm = true) { const head = document.getElementsByTagName('head')[0]; let arr = []; if (typeof script === 'string') { script = [script] } if (Array.prototype.isPrototypeOf(script)) { script.forEach(it =&gt; { arr.push(new Promise((resolve, reject) =&gt; { const s = document.createElement('script'); script.type = &quot;application/x-javascript&quot;; if (it) { s.async = true; s.onload = () =&gt; resolve(s); s.onerror = reject; s.src = it } head.appendChild(s); if (!it) { resolve(s) } })) }); return Promise.all(arr).then((s) =&gt; { rm &amp;&amp; (s || []).forEach(it =&gt; { it.parentNode.removeChild(it) }) }) } else { return false } }\r\n        // 分隔字符串\r\n        function split_a(str = &quot;&quot;, flag) { str = String(str); let arr = ((str || &quot;&quot;).replace(/，/g, ',')).split(&quot;,&quot;); if (flag) { arr = (arr || []).map(it =&gt; { return String(Number(it)) == &quot;NaN&quot; ? it : Number(it); }) } return arr; }\r\n        function throttle(func, delay) { var timer = null; return function () { var context = this; var args = arguments; if (!timer) { timer = setTimeout(function () { func.apply(context, args); timer = null }, delay) } } }\r\n        function debounce(func, wait = 0) { if (typeof func !== 'function') { throw new TypeError('need a function arguments') } let timeid = null; let result; return function () { let context = this; let args = arguments; if (timeid) { clearTimeout(timeid) } timeid = setTimeout(function () { result = func.apply(context, args) }, wait); return result } }\r\n        function onAppear(id, callback, fn) { if (fn) { try { document.addEventListener('visibilitychange', fn); } catch (err) { console.log(err) } } let con = $(id); if (con.length) { function isShow() { let temp = $(window).scrollTop(), offset = con.offset(); if (temp &gt;= offset.top &amp;&amp; temp &lt;= offset.top + offset.height || offset.top &gt;= temp &amp;&amp; offset.top &lt;= (temp + $(window).height())) { callback &amp;&amp; callback(true); } else { callback &amp;&amp; callback(false); } } isShow(); $(window).scroll(throttle(isShow, 500)); } }\r\n        // 埋点函数\r\n        function spm(obj) { let eventId = &quot;Babel_dev_&quot; + obj.id || &quot;&quot;; try { var click = new MPing.inputs.Click(eventId); click.event_param = JSON.stringify(obj); click.updateEventSeries(); (new MPing()).send(click) } catch (e) { } }\r\n        function rem(size, flag) { size = parseInt(size || 0); return flag ? parseInt(size * scale) : parseInt(size * scale) + &quot;px&quot;; }\r\n        // load加载,需要提前定义mid和id，填true则是隐藏\r\n        function loading(flag) { let dom = $(`.module_${mid}`); if (flag) { if (dom.length) { $(`.module_${mid} .gmkj_loading`).css({ display: &quot;none&quot; }); } else if ($(`.gmkj_loading`)) { $(`.gmkj_loading`).css({ display: &quot;none&quot; }); } $(`${id}`).css({ display: &quot;block&quot; }); } else { if (dom.length) { $(`.module_${mid} .gmkj_loading`).css({ height: rem(d.clsheight), opacity: 1 }); } else if ($(`.gmkj_loading`)) { $(`.gmkj_loading`).css({ height: rem(d.clsheight), opacity: 1 }); } } }\r\n        // 格式化自定义代码\r\n        function getDiyData(bData) { bData = bData || &quot;&quot;; bData = bData.replace(/(^\\s*)|(\\n|\\r)|(\\s*$)/g, &quot;&quot;); let reg = /\\&quot;\\{\\&quot;mT\\&quot;\\:\\&quot;diyModule\\&quot;.*?\\}{0,1}\\]\\}\\&quot;/g; let diy = bData.match(reg), d = {}; try { if ((diy || []).length &gt; 0) { diy.forEach(it =&gt; { let newStr = it.substring(1, it.length - 1); bData = bData.replace(it, newStr); }); d = JSON.parse(bData); } else { d = JSON.parse(bData); } } catch (err) { d = {}; console.error(&quot;优加自定义转换失败&quot;, err); } return d; }\r\n        function isType(target) { if (target === null) { return 'null' } var ret = typeof (target); if (ret === 'object') { var str = Object.prototype.toString.call(target); var obj = { '[object Array]': 'array', '[object Object]': 'object', '[object Number]': 'numberObject', '[object Boolean]': 'booleanObject', '[object String]': 'numberString' }; return obj[str] } else { return ret } }\r\n        function initData(d = {}) { for (let i in d) { if (isType(d[i]) == &quot;object&quot;) { for (let j in d[i]) { d[j] = d[i][j] } } } }\r\n        const delPx = (val) =&gt; { return val.replace('px', '') }\r\n        //埋点全局对象设置\r\n        window.jap ? window.jap : window.jap = { siteId: 'MO-J2011-1', autoLogPv: true }\r\n\r\n        let mock = {\r\n            &quot;moduleName&quot;: &quot;产品轮播&quot;,\r\n            &quot;switch&quot;: &quot;1&quot;,\r\n            &quot;tab1&quot;: {\r\n                &quot;clsheight&quot;: &quot;910&quot;,\r\n                &quot;clsbg&quot;: &quot;#212121&quot;,\r\n                &quot;swiper_whtl&quot;: &quot;1125,770,124&quot;,\r\n                &quot;auto&quot;: &quot;0&quot;,\r\n                &quot;auto_t&quot;: &quot;3&quot;,\r\n                loop: &quot;0&quot;,\r\n                lbtype: &quot;0&quot;,\r\n                lbAni: &quot;0&quot;,\r\n\r\n                initpage: &quot;0&quot;,\r\n                initflag: &quot;0&quot;,\r\n                ispoptop: &quot;0&quot;,\r\n            },\r\n            &quot;banner&quot;: [\r\n                {\r\n                    &quot;img&quot;: { &quot;src&quot;: &quot;&quot;, &quot;w&quot;: 867, &quot;h&quot;: 1287 },\r\n                    &quot;link&quot;: &quot;&quot;,\r\n                    &quot;con&quot;: { &quot;mT&quot;: &quot;diyModule&quot;, &quot;width&quot;: 1125, &quot;height&quot;: &quot;770&quot;, &quot;bC&quot;: &quot;&quot;, &quot;components&quot;: [{ &quot;type&quot;: &quot;img&quot;, &quot;name&quot;: &quot;图片1&quot;, &quot;width&quot;: 696, &quot;height&quot;: 696, &quot;left&quot;: &quot;30&quot;, &quot;top&quot;: &quot;30&quot;, &quot;src&quot;: &quot;//img12.360buyimg.com/cms/jfs/t1/104498/32/16535/235966/5e7c6a97E6917cf1b/b8ceaccfc311d0ca.jpg&quot; }, { &quot;type&quot;: &quot;imgan&quot;, &quot;name&quot;: &quot;单图动画2&quot;, &quot;width&quot;: 335, &quot;height&quot;: 335, &quot;left&quot;: 760, &quot;top&quot;: 30, &quot;tx&quot;: 0, &quot;ty&quot;: &quot;50&quot;, &quot;ops&quot;: &quot;0&quot;, &quot;ope&quot;: &quot;1&quot;, &quot;tss&quot;: &quot;&quot;, &quot;tse&quot;: &quot;&quot;, &quot;td&quot;: &quot;0.6&quot;, &quot;ttf&quot;: &quot;linear&quot;, &quot;ttr&quot;: &quot;&quot;, &quot;delay&quot;: &quot;0.1&quot;, &quot;antype&quot;: &quot;fadeIn&quot;, &quot;completeHide&quot;: &quot;false&quot;, &quot;bI&quot;: &quot;//img14.360buyimg.com/cms/jfs/t1/107184/17/10385/22829/5e7c6a97E36f660fa/c796476cc78464e7.jpg&quot; }, { &quot;type&quot;: &quot;imgan&quot;, &quot;name&quot;: &quot;单图动画3&quot;, &quot;width&quot;: 337, &quot;height&quot;: 337, &quot;left&quot;: 760, &quot;top&quot;: 389, &quot;tx&quot;: 0, &quot;ty&quot;: &quot;-50&quot;, &quot;ops&quot;: &quot;0&quot;, &quot;ope&quot;: &quot;1&quot;, &quot;tss&quot;: &quot;&quot;, &quot;tse&quot;: &quot;&quot;, &quot;td&quot;: &quot;0.6&quot;, &quot;ttf&quot;: &quot;linear&quot;, &quot;ttr&quot;: &quot;&quot;, &quot;delay&quot;: &quot;0.1&quot;, &quot;antype&quot;: &quot;fadeIn&quot;, &quot;completeHide&quot;: &quot;false&quot;, &quot;bI&quot;: &quot;//img13.360buyimg.com/cms/jfs/t1/95351/11/16440/170895/5e7c6a97Ebc54967f/3dc28f2dd8f866d1.png&quot; }] },\r\n                    pop1:{src:&quot;//img11.360buyimg.com/cms/jfs/t1/105215/20/16431/4449/5e7c74cdEccf1ed5d/a8bd352897d35548.png&quot;},\r\n                    pop2:{src:&quot;//img11.360buyimg.com/cms/jfs/t1/104429/34/16520/4691/5e7c74cdE2f8c55d1/5197b19db8b77f98.png&quot;},\r\n                    // popw:&quot;&quot;, poplink:&quot;&quot;,\r\n                    // titlink:&quot;&quot;, tit:{w:200,h:200,src:&quot;//img12.360buyimg.com/cms/jfs/t1/104498/32/16535/235966/5e7c6a97E6917cf1b/b8ceaccfc311d0ca.jpg&quot;},\r\n                },\r\n                {\r\n                    &quot;img&quot;: { &quot;src&quot;: &quot;&quot;, &quot;w&quot;: 867, &quot;h&quot;: 1287 },\r\n                    &quot;link&quot;: &quot;&quot;,\r\n                    &quot;con&quot;: { &quot;mT&quot;: &quot;diyModule&quot;, &quot;width&quot;: 1125, &quot;height&quot;: &quot;770&quot;, &quot;bC&quot;: &quot;&quot;, &quot;components&quot;: [{ &quot;type&quot;: &quot;img&quot;, &quot;name&quot;: &quot;图片1&quot;, &quot;width&quot;: 696, &quot;height&quot;: 696, &quot;left&quot;: &quot;30&quot;, &quot;top&quot;: &quot;30&quot;, &quot;src&quot;: &quot;//img12.360buyimg.com/cms/jfs/t1/104498/32/16535/235966/5e7c6a97E6917cf1b/b8ceaccfc311d0ca.jpg&quot; }, { &quot;type&quot;: &quot;imgan&quot;, &quot;name&quot;: &quot;单图动画2&quot;, &quot;width&quot;: 335, &quot;height&quot;: 335, &quot;left&quot;: 760, &quot;top&quot;: 30, &quot;tx&quot;: 0, &quot;ty&quot;: &quot;50&quot;, &quot;ops&quot;: &quot;0&quot;, &quot;ope&quot;: &quot;1&quot;, &quot;tss&quot;: &quot;&quot;, &quot;tse&quot;: &quot;&quot;, &quot;td&quot;: &quot;0.6&quot;, &quot;ttf&quot;: &quot;linear&quot;, &quot;ttr&quot;: &quot;&quot;, &quot;delay&quot;: &quot;0.1&quot;, &quot;antype&quot;: &quot;fadeIn&quot;, &quot;completeHide&quot;: &quot;false&quot;, &quot;bI&quot;: &quot;//img14.360buyimg.com/cms/jfs/t1/107184/17/10385/22829/5e7c6a97E36f660fa/c796476cc78464e7.jpg&quot; }, { &quot;type&quot;: &quot;imgan&quot;, &quot;name&quot;: &quot;单图动画3&quot;, &quot;width&quot;: 337, &quot;height&quot;: 337, &quot;left&quot;: 760, &quot;top&quot;: 389, &quot;tx&quot;: 0, &quot;ty&quot;: &quot;-50&quot;, &quot;ops&quot;: &quot;0&quot;, &quot;ope&quot;: &quot;1&quot;, &quot;tss&quot;: &quot;&quot;, &quot;tse&quot;: &quot;&quot;, &quot;td&quot;: &quot;0.6&quot;, &quot;ttf&quot;: &quot;linear&quot;, &quot;ttr&quot;: &quot;&quot;, &quot;delay&quot;: &quot;0.1&quot;, &quot;antype&quot;: &quot;fadeIn&quot;, &quot;completeHide&quot;: &quot;false&quot;, &quot;bI&quot;: &quot;//img13.360buyimg.com/cms/jfs/t1/95351/11/16440/170895/5e7c6a97Ebc54967f/3dc28f2dd8f866d1.png&quot; }] },\r\n                    pop1:{src:&quot;//img13.360buyimg.com/cms/jfs/t1/104445/18/16502/3971/5e7c7b4aEbeb248f6/49b6d808e04529b0.png&quot;},\r\n                    pop2:{src:&quot;//img14.360buyimg.com/cms/jfs/t1/98339/36/16574/4053/5e7c7b4aEe7371b5e/720426abd6de0319.png&quot;},\r\n                    // popw:&quot;&quot;, poplink:&quot;&quot;,\r\n                    // titlink:&quot;&quot;, tit:{w:200,h:200,src:&quot;//img12.360buyimg.com/zx/jfs/t1/191948/4/17470/5966/6110f3e8E5ff0aa2b/c73e8fce3b274f5d.png&quot;},\r\n                },\r\n                {\r\n                    &quot;img&quot;: { &quot;src&quot;: &quot;&quot;, &quot;w&quot;: 867, &quot;h&quot;: 1287 },\r\n                    &quot;link&quot;: &quot;&quot;,\r\n                    &quot;con&quot;: { &quot;mT&quot;: &quot;diyModule&quot;, &quot;width&quot;: 1125, &quot;height&quot;: &quot;770&quot;, &quot;bC&quot;: &quot;&quot;, &quot;components&quot;: [{ &quot;type&quot;: &quot;img&quot;, &quot;name&quot;: &quot;图片1&quot;, &quot;width&quot;: 696, &quot;height&quot;: 696, &quot;left&quot;: &quot;30&quot;, &quot;top&quot;: &quot;30&quot;, &quot;src&quot;: &quot;//img12.360buyimg.com/cms/jfs/t1/104498/32/16535/235966/5e7c6a97E6917cf1b/b8ceaccfc311d0ca.jpg&quot; }, { &quot;type&quot;: &quot;imgan&quot;, &quot;name&quot;: &quot;单图动画2&quot;, &quot;width&quot;: 335, &quot;height&quot;: 335, &quot;left&quot;: 760, &quot;top&quot;: 30, &quot;tx&quot;: 0, &quot;ty&quot;: &quot;50&quot;, &quot;ops&quot;: &quot;0&quot;, &quot;ope&quot;: &quot;1&quot;, &quot;tss&quot;: &quot;&quot;, &quot;tse&quot;: &quot;&quot;, &quot;td&quot;: &quot;0.6&quot;, &quot;ttf&quot;: &quot;linear&quot;, &quot;ttr&quot;: &quot;&quot;, &quot;delay&quot;: &quot;0.1&quot;, &quot;antype&quot;: &quot;fadeIn&quot;, &quot;completeHide&quot;: &quot;false&quot;, &quot;bI&quot;: &quot;//img14.360buyimg.com/cms/jfs/t1/107184/17/10385/22829/5e7c6a97E36f660fa/c796476cc78464e7.jpg&quot; }, { &quot;type&quot;: &quot;imgan&quot;, &quot;name&quot;: &quot;单图动画3&quot;, &quot;width&quot;: 337, &quot;height&quot;: 337, &quot;left&quot;: 760, &quot;top&quot;: 389, &quot;tx&quot;: 0, &quot;ty&quot;: &quot;-50&quot;, &quot;ops&quot;: &quot;0&quot;, &quot;ope&quot;: &quot;1&quot;, &quot;tss&quot;: &quot;&quot;, &quot;tse&quot;: &quot;&quot;, &quot;td&quot;: &quot;0.6&quot;, &quot;ttf&quot;: &quot;linear&quot;, &quot;ttr&quot;: &quot;&quot;, &quot;delay&quot;: &quot;0.1&quot;, &quot;antype&quot;: &quot;fadeIn&quot;, &quot;completeHide&quot;: &quot;false&quot;, &quot;bI&quot;: &quot;//img13.360buyimg.com/cms/jfs/t1/95351/11/16440/170895/5e7c6a97Ebc54967f/3dc28f2dd8f866d1.png&quot; }] },\r\n                    pop1:{src:&quot;//img12.360buyimg.com/cms/jfs/t1/91487/25/16446/3695/5e7c7d62Ead4fbbbf/a473ef55a2bc38a8.png&quot;},\r\n                    pop2:{src:&quot;//img13.360buyimg.com/cms/jfs/t1/101732/1/16683/3797/5e7c7d62E97975154/646a0baa3ef2971c.png&quot;},\r\n                    // popw:&quot;&quot;, poplink:&quot;&quot;,\r\n                    // titlink:&quot;&quot;, tit:{w:200,h:200,src:&quot;//img20.360buyimg.com/zx/jfs/t1/191206/32/17280/5998/6110f3e8Ebe5fe0b9/f9dda6d97e910fa3.png&quot;},\r\n                }\r\n            ],\r\n            &quot;tab2&quot;: {\r\n                &quot;ispop&quot;: &quot;1&quot;,\r\n                &quot;popobj&quot;: {\r\n                    &quot;pop_whtl&quot;: &quot;255,60,60&quot;,\r\n                    &quot;pop_set&quot;: &quot;60&quot;,\r\n                    &quot;pop_c&quot;: &quot;red,blue&quot;,\r\n                    &quot;popClicknoAni&quot;: &quot;0&quot;,\r\n                    &quot;poptype&quot;: &quot;0&quot;,\r\n                    popani: &quot;0&quot;,\r\n                    cenobj: { cenLeft: &quot;&quot; },\r\n                    popaw: &quot;&quot;,\r\n                    popah: &quot;&quot;,\r\n                },\r\n\r\n                &quot;isbar&quot;: &quot;0&quot;,\r\n                &quot;barobj&quot;: {\r\n                    &quot;barbox_whtl&quot;: &quot;800,20,800&quot;,\r\n                    &quot;bar_w&quot;: &quot;500&quot;,\r\n                    &quot;bar_set&quot;: &quot;red,blue,20&quot;\r\n                },\r\n\r\n                &quot;isjt&quot;: &quot;0&quot;,\r\n                &quot;jtobj&quot;: {\r\n                    &quot;jtpic1&quot;: { &quot;w&quot;: 80, &quot;h&quot;: 100, &quot;src&quot;: &quot;https://img10.360buyimg.com/imgzone/jfs/t1/92313/37/10886/1941/5e219592Eb3259e3d/08623fe0bfe8f21e.png&quot; },\r\n                    &quot;jtpic2&quot;: { &quot;w&quot;: 80, &quot;h&quot;: 100, &quot;src&quot;: &quot;//img10.360buyimg.com/imgzone/jfs/t1/109344/38/4596/1895/5e219592E3f50e26a/bd9eadd12caa2e96.png&quot; },\r\n                    &quot;jt_tl1&quot;: &quot;500,100&quot;,\r\n                    &quot;jt_tl2&quot;: &quot;500,950&quot;,\r\n                    &quot;jtistop&quot;: &quot;0&quot;,\r\n                    &quot;jtani&quot;: &quot;1&quot;\r\n                },\r\n\r\n                &quot;istit&quot;: &quot;0&quot;,\r\n                &quot;titobj&quot;: {\r\n                    &quot;tit_tl&quot;: &quot;0,0&quot;,\r\n                    &quot;titani&quot;: &quot;0&quot;\r\n                },\r\n            },\r\n        }\r\n\r\n        let d = mock, id = &quot;.gmkj_product_diy&quot;, mid = Number(&quot;{{{moduleId}}}&quot;), godIds = &quot;&quot;;\r\n\r\n        id = `.module_${mid} ${id}`;\r\n        godIds = ((JSON.parse({{{ godIds }}})|| []).map(it =&gt; it.godGrpId) || []).join(&quot;,&quot;);\r\n        d = (getDiyData({{{ boardParams }}})).moddata || mock;\r\n\r\n        initData(d);\r\n        loading();\r\n        let plug = [];\r\n        if (!window.Vue) { plug.push(&quot;//storage.360buyimg.com/babelview/00030473/vue.js?t=20220621170545&quot;) }\r\n        if (!window.Swiper) { plug.push(&quot;//storage.360buyimg.com/babelview/00030473/swiper.min.js?t=20220621170545&quot;) }\r\n        if (!window.gmdiyModule31) { plug.push(&quot;//storage.360buyimg.com/babelview/00030473/diymodule.js?t=20220621170545&quot;) }\r\n        \r\n\r\n        loadScript(plug).then(() =&gt; {\r\n            let mixins = {\r\n                data: {\r\n                    spmData: {},//埋点数据\r\n                    godIds,//商品id\r\n                    good: [],//商品数组\r\n                    isMount: false,//是否挂载成功\r\n                    isGoodData: false,//是否获取到商品数据\r\n                    isPower: false,//是否开启权限显示模块\r\n                    isModuleShow: true,\r\n                    moduleShop: [],\r\n                },\r\n                created() {\r\n                    this.getSpmData();//获取埋点数据\r\n                    this.getGoodData();//获取商品数据\r\n                },\r\n                mounted() {\r\n                    this.isMount = true;\r\n                }\r\n            }\r\n\r\n            let mixinFn = {\r\n                methods: {\r\n                    conType(item) { let type = &quot;pic&quot;; try { if (this.isType(item) == &quot;object&quot;) { return &quot;content&quot; } if (this.isType(item) == &quot;string&quot;) { JSON.parse(item); type = &quot;content&quot;; } } catch (err) { }; return type; },\r\n                    conType2(item) { try { if (this.check_url(item)) { return &quot;pic&quot; } else { if (this.isType(item) == &quot;object&quot;) { return &quot;content&quot; } else { if (this.isType(item) == &quot;string&quot;) { JSON.parse(item); return &quot;content&quot; } } } } catch (err) { } },\r\n                    goUrl(url, item, other) {\r\n                        if (!url || url == &quot;0&quot;) { return false; }\r\n                        if (item) {\r\n                            if (item.advertId) { spm(Object.assign(this.spmData, { id: &quot;adv_&quot; + item.advertId, adid: item.advertId, agid: this.d.bannerId })) }\r\n                            if (item.skuId &amp;&amp; other != &quot;addcart&quot;) { spm(Object.assign(this.spmData, { id: &quot;sku_&quot; + item.skuId, sku: item.skuId, sgid: this.d.goodId })) }\r\n                            if (item.skuId &amp;&amp; other == &quot;addcart&quot;) { spm(Object.assign(this.spmData, { id: &quot;shoppingcart_&quot; + item.skuId, sku: item.skuId, sgid: this.d.goodId })) }\r\n                        }\r\n                        if (other &amp;&amp; other != &quot;addcart&quot;) { spm(Object.assign(this.spmData, { id: &quot;other_&quot; + other })) }\r\n                        if (this.isNumber(url)) { url = &quot;https://item.m.jd.com/product/&quot; + url + &quot;.html&quot;; }\r\n                        setTimeout(() =&gt; { ($(`&lt;a target=&quot;_self&quot; href=&quot;${url}&quot;&gt;&lt;/a&gt;`)).click(); }, 50);\r\n                    },\r\n                    css(type, d1, d2) {\r\n                        //type为类型, d1为原数据，d2为默认数据\r\n                        let t = [];\r\n                        d2 = this.isType(d2) == &quot;array&quot; ? (d2 || []) : (split_a(String(d2) || &quot;&quot;) || []);\r\n                        if (d1 == undefined || d1 == &quot;&quot; || d1 == null) {\r\n                            t = d2;\r\n                        } else {\r\n                            t = this.isType(d1) == &quot;array&quot; ? (d1 || []) : (split_a(String(d1) || &quot;&quot;) || []);\r\n                        }\r\n                        var obj = { arr: t, css: {} }\r\n                        if (type == &quot;whtl&quot; || type == &quot;whtr&quot;) {\r\n                            switch (t.length) {\r\n                                case 1: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), }; break;\r\n                                case 2: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), height: this.rem(t[1] || d2[1]), minHeight: this.rem(t[1] || d2[1]), }; break;\r\n                                case 3: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), height: this.rem(t[1] || d2[1]), minHeight: this.rem(t[1] || d2[1]), top: this.rem(t[2] || d2[2]), }; break;\r\n                                case 4: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), height: this.rem(t[1] || d2[1]), minHeight: this.rem(t[1] || d2[1]), top: this.rem(t[2] || d2[2]), left: this.rem(t[3] || d2[3]) }; break;\r\n                            }\r\n                            if (type == &quot;whtr&quot; &amp;&amp; t.length == 4) {\r\n                                obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), height: this.rem(t[1] || d2[1]), minHeight: this.rem(t[1] || d2[1]), top: this.rem(t[2] || d2[2]), right: this.rem(t[3] || d2[3]) };\r\n                            }\r\n                        } else if (type == &quot;wh&quot;) {\r\n                            switch (t.length) {\r\n                                case 1: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), }; break;\r\n                                case 2: obj.css = { width: this.rem(t[0] || d2[0]), minWidth: this.rem(t[0] || d2[0]), height: this.rem(t[1] || d2[1]), minHeight: this.rem(t[1] || d2[1]), }; break;\r\n                            }\r\n                        } else if (type == &quot;tl&quot;) {\r\n                            switch (t.length) {\r\n                                case 1: obj.css = { top: this.rem(t[0] || d2[0]), }; break;\r\n                                case 2: obj.css = { top: this.rem(t[0] || d2[0]), left: this.rem(t[1] || d2[1]), }; break;\r\n                            }\r\n                        } else if (type == &quot;sc&quot;) {\r\n                            switch (t.length) {\r\n                                case 1: obj.css = { fontSize: this.rem(t[0] || d2[0]), }; break;\r\n                                case 2: obj.css = { fontSize: this.rem(t[0] || d2[0]), color: t[1] || d2[1] }; break;\r\n                            };\r\n                        }\r\n                        return obj.css\r\n                    },\r\n                    expoModuleShow() {\r\n                        let obj = {\r\n                            aid: this.spmData.aid, mid: this.spmData.mid, fno: this.spmData.fno,\r\n                            eventId: &quot;Babel_dev_expo_other_moduleshow&quot;\r\n                        }\r\n                        try {\r\n                            if (!this.spmData.aid || !this.spmData.mid) { return }\r\n                            var click = new MPing.inputs.Click(obj.eventId);\r\n                            click.event_param = JSON.stringify(obj);\r\n                            click.updateEventSeries();\r\n                            (new MPing()).send(click);\r\n                        } catch (e) { console.log(e) }\r\n                    },\r\n                    getIsModuleShow() {\r\n                        let shopId = (((window.__react_data__ || {}).activityData || {}).head || {}).shopId;\r\n                        if (!this.moduleShop.find(it =&gt; it.id == shopId)) {\r\n                            this.isModuleShow = false;\r\n                            $(`.module_${mid} .gmkj_loading`).css({ display: &quot;none&quot; });\r\n                        }\r\n                    },\r\n                    getSpmData() {\r\n                        if (window.__react_data__) {\r\n                            let wData = window.__react_data__ || {}, activityData = (wData.activityData || {}), fno = ((activityData.floorList || []).find(it =&gt; it.moduleId == mid) || { ofn: 2 }).ofn - 1;\r\n                            this.spmData = { aid: activityData.activityId || &quot;&quot;, mid: String(mid), fno: parseInt(fno), biimpr: (activityData.biimpr || &quot;&quot;) + &quot;_&quot; + mid };\r\n                            this.isPower &amp;&amp; this.getIsModuleShow();\r\n                        } else {\r\n                            let count = 0, max = 10;\r\n                            let timer = setInterval(() =&gt; {\r\n                                if (window.__react_data__) {\r\n                                    clearInterval(timer);\r\n                                    let wData = window.__react_data__ || {}, activityData = (wData.activityData || {}), fno = ((activityData.floorList || []).find(it =&gt; it.moduleId == mid) || { ofn: 2 }).ofn - 1;\r\n                                    this.spmData = { aid: activityData.activityId || &quot;&quot;, mid: String(mid), fno: parseInt(fno), biimpr: (activityData.biimpr || &quot;&quot;) + &quot;_&quot; + mid };\r\n                                    this.isPower &amp;&amp; this.getIsModuleShow();\r\n                                }\r\n                                if (count &gt;= max) {\r\n                                    clearInterval(timer);\r\n                                    this.spmData = { aid: &quot;&quot;, mid: String(mid), fno: 1, biimpr: &quot;&quot; };\r\n                                }\r\n                                count++\r\n                            }, 300);\r\n                        }\r\n                    },\r\n                    getGoodData() {\r\n                        let ids = this.myTrim(this.godIds);\r\n                        if (ids) {\r\n                            try {\r\n                                babel.babelProductInfoNew({ body: ids }).then((res) =&gt; {\r\n                                    let arr = [];\r\n                                    for (let i in res.data) {\r\n                                        (res.data[i].list || []).forEach(it =&gt; { it.groupId = res.data[i].groupId; arr.push(it); });\r\n                                    }\r\n                                    this.good = arr;\r\n                                    this.isGoodData = true;\r\n                                    this.initSwiper &amp;&amp; this.initSwiper();\r\n                                });\r\n                            } catch (error) {\r\n                                this.good = [];\r\n                                this.isGoodData = true;\r\n                                this.initSwiper &amp;&amp; this.initSwiper();\r\n                            }\r\n                        } else {\r\n                            this.isGoodData = true;\r\n                            this.initSwiper &amp;&amp; this.initSwiper();\r\n                        }\r\n                    },\r\n                    myTrim(s) { return (s || &quot;&quot;).replace(/(^\\s*)|(\\s*$)/g, &quot;&quot;); },\r\n                    check_url(url) { var re = new RegExp('^((https|http|ftp|rtsp|//))'); if (re.test(url || &quot;&quot;)) { return true; } else { return false; } },\r\n                    handleUrl(url) { url = (url || &quot;&quot;).replace(&quot;!q20.webp&quot;, &quot;&quot;); if ((url || &quot;&quot;).indexOf(&quot;http&quot;) &lt; 0) { return &quot;https:&quot; + url; } return url; },\r\n                    bool(val) { if (val == &quot;1&quot; || val == true) { return true } else { return false } },\r\n                    isNumber(val) { var regPos = /^\\d+(\\.\\d+)?$/; var regNeg = /^(-(([0-9]+\\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/; return (regPos.test(val) || regNeg.test(val)) ? true : false; },\r\n                    isType(target) { if (target === null) { return 'null' } var ret = typeof (target); if (ret === 'object') { var str = Object.prototype.toString.call(target); var obj = { '[object Array]': 'array', '[object Object]': 'object', '[object Number]': 'numberObject', '[object Boolean]': 'booleanObject', '[object String]': 'numberString' }; return obj[str] } else { return ret } },\r\n                    rem(size, flag) { size = parseInt(size || 0); return flag ? parseInt(size * scale) : parseInt(size * scale) + &quot;px&quot;; },\r\n                }\r\n            }\r\n\r\n            // 自定义标题\r\n            let gmkjtit = {\r\n                mixins: [mixinFn],\r\n                props: [&quot;d2&quot;, &quot;curinx&quot;, &quot;css&quot;, &quot;spmData&quot;, &quot;good&quot;],\r\n                data() {\r\n                    return { isShow: false, space: 0, dur: 0, banner: [] }\r\n                },\r\n                created() {\r\n                    let d = JSON.parse(JSON.stringify(this.d2));\r\n                    if (d.istit == &quot;1&quot;) {\r\n                        this.isShow = true;\r\n                        let titobj = d.titobj || {};\r\n                        let { tit_tl, titani } = titobj;\r\n                        if (titani == &quot;1&quot;) { this.dur = 0.3; }\r\n                        d.titCss = this.css('tl', tit_tl, [0, 0]);\r\n\r\n                        let banner = d.banner || [];\r\n                        banner.forEach((it, i) =&gt; {\r\n                            it.tit = it.tit || {};\r\n                            it.imageUrl = it.tit.src || &quot;&quot;;\r\n                            it.css = { width: this.rem(it.tit.w), height: this.rem(it.tit.h) }\r\n                        });\r\n                        this.banner = banner;\r\n                        this.d = d;\r\n                    }\r\n                },\r\n                template: `\r\n                    &lt;div v-if=&quot;isShow&quot;&gt;\r\n                        &lt;div v-for=&quot;(item,i) in banner&quot; :style=&quot;[item.css,d.titCss,{pointerEvents: (curinx==i &amp;&amp; item.titlink) ? 'auto' : 'none', opacity:curinx==i?1:0,zIndex: curinx==i ? 11:1,transition: dur + 's all'}]&quot; style=&quot;position:absolute;top:0;left:0;z-index:15;overflow:hidden;&quot;&gt;\r\n                            &lt;div v-if=&quot;check_url(item.imageUrl)&quot; style=&quot;width:100%;height:100%;&quot; @click.stop=&quot;goUrl(item.titlink,null,'第'+curinx+'个标题图片')&quot;&gt;&lt;img style=&quot;width:100%;height:100%;&quot; :src=&quot;handleUrl(item.imageUrl)&quot; /&gt;&lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                `\r\n            }\r\n            // 自定义触点\r\n            let gmkjpop = {\r\n                mixins: [mixinFn],\r\n                props: [&quot;d2&quot;, &quot;spmData&quot;, &quot;css&quot;, &quot;good&quot;, &quot;len0&quot;, &quot;curinx&quot;, &quot;ismount&quot;, &quot;cdata&quot;],\r\n                data() {\r\n                    return {\r\n                        firstPop: false,\r\n                        popban: [],\r\n                        isShow: false\r\n                    }\r\n                },\r\n                created() {\r\n                    let d = JSON.parse(JSON.stringify(this.d2));\r\n                    if (d.ispop) {\r\n                        this.isShow = true;\r\n                        if (!$.fn.scrollL) { $.fn.scrollL = function (options) { var defaults = { toLeft: 0, durTime: 500, delay: 30, callback: null }; var opts = $.extend(defaults, options), timer = null, _this = this, curLeft = _this.scrollLeft(), subTop = opts.toLeft - curLeft, index = 0, dur = Math.round(opts.durTime / opts.delay), smoothScroll = function (t) { index++; var per = Math.round(subTop / dur); if (index &gt;= dur) { _this.scrollLeft(t); window.clearInterval(timer); if (opts.callback &amp;&amp; typeof opts.callback == &quot;function&quot;) { opts.callback() } return } else { _this.scrollLeft(curLeft + index * per) } }; timer = window.setInterval(function () { smoothScroll(opts.toLeft) }, opts.delay); return _this }; }\r\n                        let pobj = d.popobj || {};\r\n                        d.cenLeft = (pobj.cenobj || {}).cenLeft;\r\n                        this.popaw = parseInt(pobj.popaw) || 0;\r\n                        this.initpopaw = this.popaw;\r\n                        this.popah = parseInt(pobj.popah) || 0;\r\n\r\n                        // 触点\r\n                        d.popani = pobj.popani || &quot;0&quot;;\r\n                        d.popbg = pobj.popbg || &quot;&quot;;\r\n                        d.poptype = pobj.poptype || &quot;0&quot;;\r\n                        if (d.poptype == &quot;0&quot;) {\r\n                            d.poptype = &quot;1&quot;;\r\n                        } else if (d.poptype == &quot;1&quot;) {\r\n                            d.poptype = &quot;4&quot;;\r\n                        }\r\n\r\n                        let pop_whtl = split_a(pobj.pop_whtl);\r\n                        let poptl = [(pop_whtl[2] || 0), pop_whtl[3]];\r\n\r\n                        let pop_set = split_a(pobj.pop_set);\r\n                        d.popmarx = parseFloat(pop_set[0]) || 0;\r\n                        d.popbr = parseFloat(pop_set[1]) || 0;\r\n                        d.scrW = parseFloat(pop_set[2]) || 0;\r\n\r\n                        this.popW = Number(pop_whtl[0] || 0) + Number((d.popmarx || 0))\r\n                        let popmarx = Number(d.popmarx || 0);\r\n                        d.popmarx = this.rem((d.popmarx || 0) / 2);\r\n                        let pop_c = split_a(pobj.pop_c);\r\n\r\n                        let popStyle = this.css('wh', [pop_whtl[0], pop_whtl[1]], [0, 0]);\r\n                        // 竖向显示\r\n                        if (d.poptype != &quot;2&quot;) {\r\n                            popStyle = Object.assign(popStyle, { margin: `0 ${d.popmarx}`, borderRadius: this.rem((d.popbr || 0)) });\r\n                        } else {\r\n                            popStyle = Object.assign(popStyle, { margin: `${d.popmarx} 0`, borderRadius: this.rem((d.popbr || 0)) });\r\n                        }\r\n                        if (d.poptype == &quot;3&quot;) { popStyle.marginBottom = this.rem(popmarx); }\r\n\r\n                        // 计算触点最大宽度和总长度\r\n                        let popAllwidth = 0;\r\n                        let popMaxW = Number(pop_whtl[0] || 0);\r\n\r\n                        let banner = d.banner || [];\r\n                        if (this.cdata) { banner = this.cdata; this.len0 = banner.length }\r\n                        banner.forEach((it, i) =&gt; {\r\n                            let popCss = JSON.parse(JSON.stringify(popStyle));\r\n                            if (it.popw &amp;&amp; it.popw != &quot;0&quot;) {\r\n                                popCss.width = rem(it.popw);\r\n                                popCss.minWidth = rem(it.popw);\r\n                                let popw = ((parseInt(it.popw) || parseInt(pop_whtl[0] || 0)) + parseFloat(popmarx));\r\n                                popAllwidth += popw\r\n                                popMaxW = popw &gt; popMaxW ? (popw - parseFloat(popmarx)) : popMaxW;\r\n                                it.width = (parseFloat(it.popw) || 0) || (parseFloat(pop_whtl[0]) || 0) + popmarx;\r\n                            } else {\r\n                                popAllwidth += this.popW;\r\n                                it.width = this.popW;\r\n                            }\r\n\r\n                            let pop1 = (it.pop1 || {}).src || &quot;&quot;;\r\n                            let pop2 = (it.pop2 || {}).src || &quot;&quot;;\r\n\r\n                            let p1 = pop1 ? (pop1 || &quot;transparent&quot;) : (pop_c[0] || &quot;transparent&quot;);\r\n                            let p2 = pop2 ? (pop2 || &quot;transparent&quot;) : (pop_c[1] || &quot;transparent&quot;);\r\n                            it.pop1 = { ...popCss, background: this.check_url(p1) ? `url(${this.handleUrl(p1)})` : p1 }\r\n                            it.pop2 = { ...popCss, background: this.check_url(p2) ? `url(${this.handleUrl(p2)})` : p2 }\r\n                        });\r\n\r\n                        this.popaw = this.popaw || parseFloat(pop_whtl[0]) || 0;\r\n                        if (this.popaw &amp;&amp; d.popani != &quot;6&quot;) {\r\n                            popAllwidth = popAllwidth - this.popW + (this.popaw + popmarx);\r\n                        } else if (this.popaw) {\r\n                            popAllwidth = popAllwidth - this.popW * 2 + (this.popaw + popmarx) * 2;\r\n                        }\r\n\r\n                        this.banner = banner;\r\n                        this.popMaxW = popMaxW &gt; this.popaw ? popMaxW : this.popaw;\r\n                        this.popAllwidth = popAllwidth;\r\n\r\n                        if (d.poptype == &quot;4&quot;) { this.popban = this.banner.concat(this.banner, this.banner) }\r\n                        d.popbox = { top: this.rem(poptl[0]), bottom: &quot;unset&quot; }\r\n                        this.popBoxW = Number(d.scrW || 0) ? d.scrW : this.popAllwidth;\r\n\r\n                        // 竖向显示\r\n                        d.popbox.width = this.rem(this.popBoxW);\r\n                        if (this.popBoxW &gt;= (1125 - (poptl[1] || 0)) &amp;&amp; !d.scrW) {\r\n                            d.popbox.width = this.rem((1125 - (poptl[1] || 0)));\r\n                            this.popBoxW = (1125 - (poptl[1] || 0));\r\n                        }\r\n                        if (d.poptype == &quot;2&quot;) {\r\n                            d.popbox.width = this.rem(this.popMaxW) || popStyle.width;\r\n                            this.popAllwidth = this.popMaxW;\r\n                        }\r\n\r\n                        d.justifyContent = 'flex-start';\r\n                        if (poptl[1] || poptl[1] == &quot;0&quot;) {\r\n                            d.popbox.left = this.rem(poptl[1] || 0);\r\n                        } else {\r\n                            let w = d.poptype == &quot;2&quot; ? Number(pop_whtl[0] || 0) : this.popBoxW;\r\n                            d.popbox.left = this.rem((1125 - w) / 2);\r\n                            if (d.poptype == &quot;3&quot;) { d.justifyContent = 'center' }\r\n                        }\r\n                        if (d.poptype == &quot;4&quot;) { d.popbox.height = this.rem(pop_whtl[1]) }\r\n\r\n\r\n                        $(&quot;.gmkj_diypop&quot;).length &lt;= 0 &amp;&amp; $('body').prepend(`&lt;style class=&quot;gmkj_diypop&quot;&gt;\r\n                            .swiper-pagination-bullet{opacity: 1;}\r\n                            .gmkj_pop{width: 0px;height: 0px;background-size:100% 100%!important;}\r\n                            .gmkj_popitem{position: relative;overflow: hidden;}\r\n                            .gmkj_popactive{transform: translateX(0)!important;}\r\n                            .gmkj_popall{transition: 0.3s all;transform: translateZ(0);}\r\n                            .gmkj_pagination::-webkit-scrollbar {display:none}\r\n                            .gmkj_pagination{position: absolute;bottom: 0;left: 0;z-index: 12;display: flex;width: 100%;overflow-x: auto;}\r\n                            .gmkj_pagination&gt;div{display: flex;}\r\n                            .gmkj_pagination span{display: inline-block;}\r\n                            .gmkj_tantiao{animation: 0.3s gmkj_tantiao linear;}\r\n                            @keyframes gmkj_tantiao{0%{transform: scale(0.8);}100%{transform: scale(1);}}\r\n                        &lt;/style&gt;`);\r\n                    }\r\n                    this.d = d;\r\n                },\r\n                mounted() {\r\n                    setTimeout(() =&gt; {\r\n                        if (this.d.poptype == 4 &amp;&amp; this.d.ispop == &quot;1&quot;) {\r\n                            let popAllwidth = $(`${id} .gmkj_pagination&gt;.gmkj_popall`).width() / 3;\r\n                            let toValue = popAllwidth - (this.popBoxW - this.banner[0].width) / 2 * scale;\r\n                            if (this.d.cenLeft) {\r\n                                toValue = popAllwidth - this.d.cenLeft * scale;\r\n                            }\r\n                            $(`${id} .gmkj_pagination .gmkj_pagination`).scrollLeft(toValue)\r\n                        }\r\n                    }, 100);\r\n                },\r\n                watch: {\r\n                    curinx(newValue, oldValue) {\r\n                        this.onChange(newValue, oldValue);\r\n                    },\r\n                    ismount(newValue, oldValue) {\r\n                        if (this.d.popani == &quot;1&quot;) {\r\n                            setTimeout(() =&gt; { this.firstPop = true; }, 50);\r\n                        }\r\n                    }\r\n                },\r\n                methods: {\r\n                    getScrSpace(index) {\r\n                        let tranV = 0;\r\n                        for (let i = 0; i &lt; index; i++) {\r\n                            tranV += this.banner[i].width;\r\n                        }\r\n                        return tranV;\r\n                    },\r\n                    slideTo(index) {\r\n                        let item = this.banner[index % this.len0] || {};\r\n                        if (item.poplink) {\r\n                            this.goUrl(item.poplink, null, '第' + index % this.len0 + '个触点链接');\r\n                        } else {\r\n                            this.$emit('slide_to', index % this.len0, (this.d.popobj || {}).popClicknoAni == &quot;1&quot;);\r\n                        }\r\n                    },\r\n                    onChange(index, old) {\r\n                        if (this.d.ispop != &quot;1&quot;) { return }\r\n\r\n                        let d = this.d;\r\n                        if (d.popani == &quot;1&quot; &amp;&amp; (index - 1) - this.curinx &lt; 0) {\r\n                            this.firstPop = false; setTimeout(() =&gt; { this.firstPop = true; }, 30);\r\n                        }\r\n\r\n                        let pagination = $(`${id} .gmkj_pagination`);\r\n                        // 其他显示\r\n                        if (this.popBoxW &lt; this.popAllwidth &amp;&amp; d.poptype != 4) {\r\n                            let maxScr = this.popAllwidth - this.popBoxW;//最大滚动距离\r\n                            let toLeft = 0;\r\n                            let tempIndex = index - 1 &lt; 0 ? 0 : index - 1;\r\n                            let scrSpace = this.getScrSpace(tempIndex);\r\n                            if (tempIndex == this.len0 - 1) {\r\n                                toLeft = this.rem(this.popAllwidth - this.popBoxW, true);\r\n                            } else if (scrSpace &lt; maxScr) {\r\n                                toLeft = this.rem(scrSpace, true);\r\n                            } else {\r\n                                toLeft = this.rem(maxScr, true);\r\n                            }\r\n\r\n                            pagination.scrollL({ toLeft: toLeft, durTime: 200 })\r\n                        }\r\n                        // 跟随显示\r\n                        if (d.poptype == 4) {\r\n                            let pagination = $(`${id} .gmkj_pagination .gmkj_pagination`);\r\n                            let cen = (this.banner[index].width / 2);\r\n                            let loop = 0, tranV = this.getScrSpace(index);\r\n\r\n                            let cenLeft = parseFloat(d.cenLeft) || 0;\r\n                            // 求居中\r\n                            let end = -tranV - this.popAllwidth + (this.popBoxW / 2 - cen);\r\n                            if (d.cenLeft) {\r\n                                end = -tranV - this.popAllwidth + cenLeft;\r\n                            }\r\n                            if (index == 0 &amp;&amp; old == this.len0 - 1) {\r\n                                loop = -this.popAllwidth + (this.popBoxW / 2 - cen)\r\n                                end += -this.popAllwidth;\r\n                            }\r\n                            if (index == this.len0 - 1 &amp;&amp; old == 0 &amp;&amp; this.len0 != 2) {\r\n                                loop = -this.popAllwidth * 2 + (this.popBoxW / 2 + cen)\r\n                                end += this.popAllwidth;\r\n                            }\r\n                            if (d.cenLeft &amp;&amp; loop) {\r\n                                loop = -tranV - this.popAllwidth + cenLeft;\r\n                            }\r\n\r\n                            end = Math.abs(end), loop = Math.abs(loop);\r\n                            pagination.scrollL({\r\n                                toLeft: this.rem(end, true), durTime: 300, callback: () =&gt; {\r\n                                    loop &amp;&amp; pagination.scrollLeft(this.rem(loop, true));//处理循环\r\n                                }\r\n                            });\r\n                        }\r\n                    },\r\n                    getJdCss(item, index, flag) {\r\n                        let { curinx, firstPop, d } = this;\r\n                        let time = (parseFloat(d.autoArr[curinx] || d.autoArr[0]) + 0.3);\r\n                        if (flag) { time = 0.3; }\r\n                        return {\r\n                            ...item.pop2,\r\n                            transition: index == curinx &amp;&amp; (firstPop || flag) ? time + 's all linear' : '',\r\n                            transform: 'translateX(-101%)', margin: 0, zIndex: 2\r\n                        }\r\n                    },\r\n                    getItemCss(item, index) {\r\n                        let d = this.d;\r\n                        let css = {};\r\n                        let flag = index % this.len0 == this.curinx;\r\n                        if (this.popaw &amp;&amp; this.popaw != 0 &amp;&amp; this.initpopaw != 0 &amp;&amp; flag) {\r\n                            css.width = this.rem(this.popaw);\r\n                            css.minWidth = css.width;\r\n                        }\r\n                        if (this.popah &amp;&amp; this.popah != 0 &amp;&amp; flag &amp;&amp; d.poptype == &quot;2&quot;) {\r\n                            css.height = this.rem(this.popah);\r\n                            css.minHeight = css.height;\r\n                        }\r\n                        return css;\r\n                    }\r\n                },\r\n                template: `\r\n                    &lt;div v-if=&quot;isShow &amp;&amp; banner.length&gt;1&quot; class=&quot;gmkj_pagination&quot; style=&quot;z-index: 12;&quot; :style=&quot;[css,d.popbox,{overflowX:d.poptype==4?'hidden':'auto',background:check_url(d.popbg)?'transparent':d.popbg}]&quot;&gt;\r\n                        &lt;div v-if=&quot;check_url(d.popbg)&quot; class=&quot;abs0 wh100&quot;&gt;&lt;img  class=&quot;wh100&quot; :src=&quot;d.popbg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;\r\n                        &lt;div v-if=&quot;d.poptype!=4&quot; style=&quot;position: relative;z-index:2;&quot; class=&quot;gmkj_popall&quot; :style=&quot;{width:rem(popAllwidth),flexDirection:d.poptype == '2'?'column':'row',flexWrap: d.poptype == '3'?'wrap':'nowrap',justifyContent:d.justifyContent}&quot;&gt;\r\n                            &lt;div v-if=&quot;d.popani == '0'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in banner&quot; :style=&quot;[item.pop1,getItemCss(item,index),{background:'transparent'}]&quot;&gt;\r\n                                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1,getItemCss(item,index), {margin:0,opacity:index%len0 != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2,getItemCss(item,index), {margin:0,opacity:index%len0 == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;div v-if=&quot;d.popani == '1'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in banner&quot; :style=&quot;[item.pop2,getItemCss(item,index),{background:'transparent'}]&quot;&gt;\r\n                                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1,getItemCss(item,index),{margin:0}]&quot;&gt;&lt;/span&gt;\r\n                                &lt;span class=&quot;gmkj_pop abs0&quot; :class=&quot;{gmkj_popactive:(index &lt; curinx || (index==curinx &amp;&amp; firstPop))}&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[getJdCss(item,index),getItemCss(item,index)]&quot;&gt;&lt;/span&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;div v-if=&quot;d.popani == '2'&quot; class=&quot;gmkj_popitem&quot; :class=&quot;{gmkj_tantiao:index == curinx}&quot; v-for=&quot;(item,index) in banner&quot; :style=&quot;[item.pop1,getItemCss(item,index),{background:'transparent'}]&quot;&gt;\r\n                                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1,getItemCss(item,index), {margin:0,opacity:index%len0 != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2,getItemCss(item,index), {margin:0,opacity:index%len0 == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;div v-if=&quot;d.popani == '3'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in banner&quot; :style=&quot;[item.pop1,getItemCss(item,index),{background:'transparent'}]&quot;&gt;\r\n                                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1,getItemCss(item,index), {margin:0,transition:'0.3s all',opacity:index%len0 != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2,getItemCss(item,index), {margin:0,transition:'0.3s all',opacity:index%len0 == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;div v-if=&quot;d.popani == '4'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in banner&quot; :style=&quot;[item.pop1,getItemCss(item,index),{background:'transparent'}]&quot;&gt;\r\n                                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1,getItemCss(item,index),{margin:0,transition:'0.3s all',opacity:index%len0 == curinx?0:1}]&quot;&gt;&lt;/span&gt;\r\n                                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2,getItemCss(item,index), {margin:0,transition:'0.3s all',transform:'translateY('+(index%len0 == curinx?'0%':'-100%')+')'}]&quot;&gt;&lt;/span&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;div v-if=&quot;d.popani == '5'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in banner&quot; :style=&quot;[item.pop2,getItemCss(item,index),{background:'transparent'}]&quot;&gt;\r\n                                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1,getItemCss(item,index),{margin:0}]&quot;&gt;&lt;/span&gt;\r\n                                &lt;span class=&quot;gmkj_pop abs0&quot; :class=&quot;{gmkj_popactive:index==curinx}&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[getJdCss(item,index,true),getItemCss(item,index)]&quot;&gt;&lt;/span&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;div v-if=&quot;d.popani == '6'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in banner&quot; style=&quot;transition:0.3s linear all;&quot; :style=&quot;[item.pop1,getItemCss(item,index),{background:'transparent'}]&quot;&gt;\r\n                                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; style=&quot;transition:0.3s linear width;&quot; :style=&quot;[item.pop1,getItemCss(item,index), {margin:0,opacity:index%len0 != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                                &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; style=&quot;transition:0.3s linear width;&quot; :style=&quot;[item.pop2,getItemCss(item,index), {margin:0,opacity:index%len0 == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div v-if=&quot;d.poptype==4&quot; class=&quot;gmkj_pagination&quot; style=&quot;z-index: 12;&quot; :style=&quot;[d.popbox,{top:0,left:0, overflowX:d.poptype==4?'hidden':'auto',background:check_url(d.popbg)?'transparent':d.popbg}]&quot;&gt;\r\n                            &lt;div style=&quot;position: relative;z-index:2;&quot; class=&quot;gmkj_popall&quot;&gt;\r\n                                &lt;div v-if=&quot;d.popani == '0' || d.popani == '1'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in popban&quot; :style=&quot;[item.pop1,getItemCss(item,index),{background:'transparent'}]&quot;&gt;\r\n                                    &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1,getItemCss(item,index), {margin:0,opacity:index%len0 != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                                    &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2,getItemCss(item,index), {margin:0,opacity:index%len0 == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                                &lt;/div&gt;\r\n                                &lt;div v-if=&quot;d.popani == '2'&quot; class=&quot;gmkj_popitem&quot; :class=&quot;{gmkj_tantiao:index%len0 == curinx}&quot; v-for=&quot;(item,index) in popban&quot; :style=&quot;[item.pop1,getItemCss(item,index),{background:'transparent'}]&quot;&gt;\r\n                                    &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1,getItemCss(item,index), {margin:0,opacity:index%len0 != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                                    &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2,getItemCss(item,index), {margin:0,opacity:index%len0 == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                                &lt;/div&gt;\r\n                                &lt;div v-if=&quot;d.popani == '3'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in popban&quot; :style=&quot;[item.pop1,getItemCss(item,index),{background:'transparent'}]&quot;&gt;\r\n                                    &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1,getItemCss(item,index), {margin:0,transition:'0.3s all',opacity:index%len0 != curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                                    &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2,getItemCss(item,index), {margin:0,transition:'0.3s all',opacity:index%len0 == curinx ? 1 : 0}]&quot;&gt;&lt;/span&gt;\r\n                                &lt;/div&gt;\r\n                                &lt;div v-if=&quot;d.popani == '4'&quot; class=&quot;gmkj_popitem&quot; v-for=&quot;(item,index) in popban&quot; :style=&quot;[item.pop1,getItemCss(item,index),{background:'transparent'}]&quot;&gt;\r\n                                    &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop1,getItemCss(item,index),{margin:0,transition:'0.3s all',opacity:index%len0 == curinx?0:1}]&quot;&gt;&lt;/span&gt;\r\n                                    &lt;span class=&quot;gmkj_pop abs0&quot; @click.stop=&quot;slideTo(index)&quot; :style=&quot;[item.pop2,getItemCss(item,index), {margin:0,transition:'0.3s all',transform:'translateY('+(index%len0 == curinx?'0%':'-100%')+')'}]&quot;&gt;&lt;/span&gt;\r\n                                &lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                `\r\n            }\r\n            // 自定义滚动条\r\n            let gmkjbar = {\r\n                mixins: [mixinFn],\r\n                props: [&quot;d2&quot;, &quot;len0&quot;, &quot;curinx&quot;, &quot;css&quot;],\r\n                data() {\r\n                    return { isShow: false, space: 0 }\r\n                },\r\n                created() {\r\n                    let d = JSON.parse(JSON.stringify(this.d2));\r\n                    let barobj = d.barobj || {};\r\n\r\n                    if (d.isbar == &quot;1&quot; &amp;&amp; barobj.barbox_whtl != &quot;0&quot; &amp;&amp; this.len0 &gt; 1) {\r\n                        this.isShow = true;\r\n                        let { barbox_whtl, bar_set, bar_w } = barobj;\r\n                        bar_set = split_a(bar_set), barbox_whtl = split_a(barbox_whtl);\r\n                        d.barcss = Object.assign(\r\n                            this.css('whtl', barbox_whtl, [0, 0, 0, 0]), {\r\n                            background: this.check_url(bar_set[0]) ? `url(${bar_set[0]})` : bar_set[0],\r\n                            backgroundSize: &quot;100% 100%&quot;,\r\n                            borderRadius: this.rem(bar_set[2] || barbox_whtl[1])\r\n                        })\r\n                        d.barconcss = { width: this.rem(bar_w || 0), background: this.check_url(bar_set[1]) ? `url(${bar_set[1]})` : bar_set[1], backgroundSize: &quot;100% 100%&quot;, borderRadius: this.rem(bar_set[2] || barbox_whtl[1]) }\r\n                        if (!barbox_whtl[3] &amp;&amp; barbox_whtl[3] != &quot;0&quot;) { d.barcss.left = this.rem((1125 - barbox_whtl[0]) / 2); } // 滚动条居中\r\n                        this.space = Math.ceil(((barbox_whtl[0] || 0) - (bar_w || 0)) / (this.len0 - 1));\r\n                        this.d = d;\r\n                    }\r\n                },\r\n                template: `\r\n                    &lt;div v-if=&quot;isShow&quot; style=&quot;z-index: 13;position:absolute;top:0;left:0;&quot;  :style=&quot;[d.barcss,css]&quot;&gt;\r\n                        &lt;div style=&quot;height: 100%;transition: 0.3s all;&quot; :style=&quot;[d.barconcss,{transform: 'translateX('+rem(curinx*(space+1))+')'}]&quot;&gt;&lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                `\r\n            }\r\n            // 自定义箭头\r\n            let gmkjjt = {\r\n                mixins: [mixinFn],\r\n                props: [&quot;d2&quot;, &quot;css&quot;],\r\n                data() {\r\n                    return { isShow: false }\r\n                },\r\n                created() {\r\n                    let d = JSON.parse(JSON.stringify(this.d2));\r\n                    // 箭头\r\n                    let jtobj = d.jtobj || {};\r\n                    let jtpic1 = jtobj.jtpic1 || {};\r\n                    let jtpic2 = jtobj.jtpic2 || {};\r\n\r\n                    if (d.isjt == &quot;1&quot; &amp;&amp; (jtpic1 || jtpic2)) {\r\n                        this.isShow = true;\r\n                        let jtpic = [jtpic1.src || &quot;&quot;, jtpic2.src || &quot;&quot;];\r\n                        let tl = this.css('tl', jtobj.jt_tl, 0, 0);\r\n                        d.jtleft = { width: this.rem(jtpic1.w), height: this.rem(jtpic1.h), top: tl.top, left: tl.left || &quot;0px&quot;, backgroundImage: this.check_url(jtpic[0]) ? `url(${jtpic[0]})` : 'transparent' }\r\n                        d.jtright = { width: this.rem(jtpic2.w), height: this.rem(jtpic2.h), top: tl.top, right: tl.left || &quot;0px&quot;, backgroundImage: this.check_url(jtpic[1]) ? `url(${jtpic[1]})` : 'transparent' }\r\n                        // 有单个样式\r\n                        if (jtobj.jt_tl1) { Object.assign(d.jtleft, this.css('tl', jtobj.jt_tl1, [0, 0])); }\r\n                        if (jtobj.jt_tl2) { Object.assign(d.jtright, this.css('tl', jtobj.jt_tl2, [0, 0])); }\r\n\r\n                        if (jtobj.jtani == &quot;1&quot;) {\r\n                            $(&quot;.gmkj_diyjt&quot;).length &lt;= 0 &amp;&amp; $('body').prepend(`&lt;style class=&quot;gmkj_diyjt&quot;&gt;@keyframes gmkj_left{0%{transform: translateX(10px);}100%{transform: translateX(0px);}}@keyframes gmkj_right{0%{transform: translateX(-10px);}100%{transform: translateX(0px);}}&lt;/style&gt;`);\r\n                            d.jtleft.animation = &quot;gmkj_left 0.5s linear infinite alternate&quot;;\r\n                            d.jtright.animation = &quot;gmkj_right 0.5s linear infinite alternate&quot;;\r\n                        }\r\n                    }\r\n                    this.d = d;\r\n                },\r\n                mounted() { },\r\n                methods: {\r\n                    slideTo(index) { this.$emit('slide_to', index); },\r\n                },\r\n                template: `\r\n                    &lt;div v-if=&quot;isShow&quot;&gt;\r\n                        &lt;div style=&quot;position:absolute;top:0;left:0;background-size: 100% 100%!important;&quot; @click.stop=&quot;slideTo('prev')&quot; :style=&quot;[d.jtleft,{zIndex:13},css]&quot;&gt;&lt;/div&gt;\r\n                        &lt;div style=&quot;position:absolute;top:0;right:0;background-size: 100% 100%!important;&quot; @click.stop=&quot;slideTo('next')&quot; :style=&quot;[d.jtright,{zIndex:13},css]&quot;&gt;&lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                `\r\n            }\r\n            // 自定义悬浮\r\n            let gmkjxf = {\r\n                mixins: [mixinFn],\r\n                props: [&quot;d2&quot;, &quot;css&quot;, &quot;spmData&quot;, &quot;good&quot;],\r\n                components: { 'gmkj-diy': window.gmdiyModule31 },\r\n                data() {\r\n                    return { isShow: false, xfArr: [] }\r\n                },\r\n                created() {\r\n                    let d = JSON.parse(JSON.stringify(this.d2));\r\n                    if (d.isxf) {\r\n                        this.isShow = true;\r\n                        d.xfArr = d.xfArr || [];\r\n                        d.xfArr.forEach((it, i) =&gt; {\r\n                            let wh = {};\r\n                            if (this.conType(it.con) == &quot;content&quot;) {\r\n                                it.type = &quot;content&quot;;\r\n                                wh = { width: this.rem(it.con.width), height: rem(it.con.height) }\r\n                                it.imageUrl = it.con;\r\n                            } else if (this.check_url(it.img &amp;&amp; it.img.src)) {\r\n                                it.type = &quot;pic&quot;;\r\n                                wh = { width: this.rem(it.img.w), height: this.rem(it.img.h) }\r\n                                it.imageUrl = it.img.src;\r\n                            }\r\n\r\n                            it.css = { ...wh, ...this.css(&quot;tl&quot;, it.xf_tl, [0, 0]), position: &quot;absolute&quot;, animation: it.ani != '0' ? `${it.ani == 1 ? 0.8 : 1.5}s gmkj_diyxf${it.ani} linear infinite forwards` : 'unset' };\r\n                        });\r\n                        this.xfArr = d.xfArr;\r\n\r\n                        if (this.xfArr.length &gt; 0 &amp;&amp; $(&quot;.gmkj_diyxf&quot;).length &lt;= 0) {\r\n                            $('body').prepend(`&lt;style class=&quot;gmkj_diyxf&quot;&gt;\r\n                                @keyframes gmkj_diyxf1 {0%{transform: rotate(0);}25%{transform: rotate(10deg);}50%{transform: rotate(0);}75%{transform: rotate(-10deg);}100%{transform: rotate(0);}}    \r\n                                @keyframes gmkj_diyxf2 {0%{transform: scale(1);}50%{transform: scale(0.8);}100%{transform: scale(1);}}\r\n                                @keyframes gmkj_diyxf3 {0%{transform: translateY(0);}25%{transform: translateY(5px);}50%{transform: translateY(0);}75%{transform: translateY(-5px);}100%{transform: translateY(0);}}\r\n                            &lt;/style&gt;`);\r\n                        }\r\n                    }\r\n                    this.d = d;\r\n                },\r\n                mounted() { },\r\n                methods: {\r\n                    slideTo(index) { this.$emit('slide_to', index); },\r\n                    onAppear() { this.$refs.xf &amp;&amp; this.$refs.xf.forEach(it =&gt; it.onAppear &amp;&amp; it.onAppear()); },\r\n                    onDisappear() { this.$refs.xf &amp;&amp; this.$refs.xf.forEach(it =&gt; it.onDisappear &amp;&amp; it.onDisappear()); },\r\n                },\r\n                beforeDestroy() { this.onDisappear(); },\r\n                template: `\r\n                    &lt;div v-if=&quot;isShow&quot;&gt;\r\n                        &lt;div v-for=&quot;(item,i) in xfArr&quot; :style=&quot;[item.css,css]&quot; style=&quot;position:absolute;top:0;left:0;z-index:15;overflow:hidden;&quot;&gt;\r\n                            &lt;div v-if=&quot;conType2(item.imageUrl) == 'pic'&quot; style=&quot;width:100%;height:100%;&quot; @click.stop=&quot;goUrl(item.link)&quot;&gt;&lt;img style=&quot;width:100%;height:100%;&quot; :src=&quot;handleUrl(item.imageUrl)&quot; /&gt;&lt;/div&gt;\r\n                            &lt;gmkj-diy v-else-if=&quot;conType2(item.imageUrl) == 'content'&quot; :pname=&quot;'第'+(i+1)+'个悬浮'&quot; ref=&quot;xf&quot; :d=&quot;item.imageUrl&quot; :spm=&quot;spmData&quot; :good=&quot;good&quot;&gt;&lt;/gmkj-diy&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                `\r\n            }\r\n            // vue实例\r\n            window[id.slice(1).split(&quot; &quot;)[0]] = new Vue({\r\n                el: id,\r\n                mixins: [mixins, mixinFn],\r\n                components: {\r\n                    'gmkj-diy': window.gmdiyModule31,\r\n                    'gmkj-pop': gmkjpop,\r\n                    'gmkj-bar': gmkjbar,\r\n                    'gmkj-jt': gmkjjt,\r\n                    'gmkj-xf': gmkjxf,\r\n                    'gmkj-tit': gmkjtit,\r\n                },\r\n                provide: { noClick: false },\r\n                data: {\r\n                    d: {},\r\n                    banner: [],\r\n                    curinx: 0,\r\n                    firstPop: false,\r\n                    len0: 0,\r\n                    barConfig: {},\r\n                    swiperInit: false,\r\n                    debug\r\n                },\r\n                computed: {},\r\n                created() {\r\n                    // console.log(&quot;初始格式化后的数据&quot;, d);\r\n                    this.swiperLoop = d.loop != &quot;1&quot;;//轮播是否循环滚动\r\n                    this.dur = 300;\r\n                    this.barConfig = { diy_bar_whtl: d.diy_bar_whtl || &quot;&quot;, diy_bar_w: d.diy_bar_w || &quot;&quot;, diy_bar_set: d.diy_bar_set || &quot;&quot; }\r\n\r\n                    ; (d.banner || []).forEach(it =&gt; {\r\n                        if (it.con &amp;&amp; this.conType(it.con) == &quot;content&quot;) {\r\n                            it.type = &quot;content&quot;;\r\n                            it.pictureUrl = it.con;\r\n                        } else if (this.check_url(it.img &amp;&amp; it.img.src)) {\r\n                            it.type = &quot;pic&quot;;\r\n                            it.pictureUrl = it.img.src;\r\n                        }\r\n                    });\r\n                    this.banner = d.banner || [];\r\n                    this.len0 = this.banner.length;\r\n                    // 轮播大小设置\r\n                    let swiper_whtl = split_a(d.swiper_whtl);\r\n                    d.swipercss = this.css('whtl', d.swiper_whtl, [1125, d.clsheight, 0, 0]);\r\n                    if (!swiper_whtl[3] &amp;&amp; swiper_whtl[0]) { d.swipercss.left = rem((1125 - swiper_whtl[0]) / 2); }\r\n                    // 自动轮播\r\n                    d.autoArr = split_a(d.auto_t || 3);\r\n                    this.autoConf = {\r\n                        auto: d.auto == &quot;1&quot;,\r\n                        time: (parseFloat(d.autoArr[0]) || 3) * 1000\r\n                    }\r\n\r\n                    this.initflag = d.initflag == &quot;1&quot;;\r\n\r\n                    // 把数据挂载到vue\r\n                    this.d = d;\r\n                    debug &amp;&amp; console.log(id, d);\r\n                },\r\n                mounted() {\r\n                    loading(true);\r\n                    this.initSwiper();\r\n                },\r\n                methods: {\r\n                    mountScroll() {\r\n                        onAppear(id, (visible) =&gt; {\r\n                            this.isVisible = visible;\r\n                            if (visible &amp;&amp; !this.isShow) {\r\n                                this.isShow = true;\r\n                                this.onAppear();\r\n                            } if (!visible &amp;&amp; this.isShow) {\r\n                                this.isShow = false;\r\n                                this.onDisappear();\r\n                            }\r\n                        }, () =&gt; {\r\n                            if (document.visibilityState === 'hidden' &amp;&amp; this.isShow) { this.isShow = false; this.onDisappear(); }\r\n                            if (document.visibilityState === 'visible' &amp;&amp; !this.isShow &amp;&amp; this.isVisible) { this.isShow = true; this.onAppear(); }\r\n                        });\r\n                    },\r\n                    startAutoPlay() {\r\n                        if (this.autoConf.auto) {\r\n                            let d = this.d;\r\n                            let time = parseFloat(this.d.autoArr[this.curinx] || 0) * 1000;\r\n                            if (time &lt;= 0) { time = this.autoConf.time; }\r\n                            this.stopAutoPlay();\r\n                            this.lbTimer = setTimeout(() =&gt; {\r\n                                this.slideTo(&quot;next&quot;, d.lbtype == &quot;0&quot; &amp;&amp; d.lbAni == &quot;1&quot;);\r\n                                this.startAutoPlay();\r\n                            }, time + (this.dur || 300));\r\n                        }\r\n                    },\r\n                    stopAutoPlay() {\r\n                        this.lbTimer &amp;&amp; clearTimeout(this.lbTimer);\r\n                    },\r\n                    onAppear(index, old) {\r\n                        let curinx = this.curinx;\r\n                        this.expoModuleShow &amp;&amp; this.expoModuleShow();\r\n                        // 当前轮播自定义\r\n                        let currDiy = this.$refs[`diymod${index || curinx}`];\r\n                        currDiy &amp;&amp; currDiy[0].onAppear();\r\n\r\n                        this.$refs.bg &amp;&amp; this.$refs.bg[index || curinx] &amp;&amp; this.$refs.bg[index || curinx].onAppear &amp;&amp; this.$refs.bg[index || curinx].onAppear();\r\n                        // 蒙层自定义\r\n                        this.$refs.bgDiy &amp;&amp; this.$refs.bgDiy.onAppear();\r\n                        this.startAutoPlay();\r\n                        this.$refs.xftool &amp;&amp; this.$refs.xftool.onAppear();\r\n                    },\r\n                    onDisappear() {\r\n                        let curinx = this.curinx;\r\n                        // 当前轮播自定义\r\n                        let it = this.$refs[`diymod${curinx}`];\r\n                        it &amp;&amp; it[0].onDisappear();\r\n                        this.$refs.bg &amp;&amp; this.$refs.bg[curinx] &amp;&amp; this.$refs.bg[curinx].onDisappear &amp;&amp; this.$refs.bg[curinx].onDisappear();\r\n                        // 蒙层自定义\r\n                        this.$refs.bgDiy &amp;&amp; this.$refs.bgDiy.onDisappear();\r\n                        if (this.initpage &amp;&amp; this.initflag &amp;&amp; this.mySwiper) {\r\n                            this.slideTo(this.initpage, true)\r\n                        }\r\n                        this.stopAutoPlay();\r\n                        this.$refs.xftool &amp;&amp; this.$refs.xftool.onDisappear();\r\n                    },\r\n                    slideTo(index, noAni) {\r\n                        if (this.banner.length &lt;= 1) { return }\r\n                        let time = d.lbtype == 2 ? 0 : 300;\r\n                        if (noAni) { time = 0 }\r\n                        if (index == &quot;next&quot;) {\r\n                            this.mySwiper.slideNext(time);\r\n                        } else if (index == &quot;prev&quot;) {\r\n                            this.mySwiper.slidePrev(time);\r\n                        } else {\r\n                            index = index % this.len0;\r\n                            this.mySwiper.slideToLoop(index, time, true);\r\n                        }\r\n                        this.startAutoPlay();\r\n                    },\r\n                    initSwiper() {\r\n                        if (this.swiperInit || !this.isGoodData || !this.isMount) { return }\r\n                        this.swiperInit = true;\r\n                        setTimeout(() =&gt; {\r\n                            let d = this.d;\r\n                            let _this = this;\r\n                            // 触点动画\r\n                            if (d.popjd == &quot;1&quot;) { this.firstPop = true; }\r\n                            let lbtype = &quot;slide&quot;;\r\n                            switch (d.lbtype) {\r\n                                case &quot;0&quot;: lbtype = &quot;slide&quot;; break;\r\n                                case &quot;1&quot;: lbtype = &quot;fade&quot;; break;\r\n                                case &quot;2&quot;: lbtype = &quot;slide&quot;; break;\r\n                            }\r\n                            if (d.lbtype == &quot;3&quot;) { d.lbdir = &quot;1&quot;; }\r\n\r\n                            let initpage = d.initpage || 0;\r\n                            if (initpage == &quot;0&quot; || !initpage) {\r\n                                this.initpage = false;\r\n                            } else {\r\n                                this.initpage = initpage - 1;\r\n                            }\r\n                            this.mySwiper = new Swiper(`${id} .gmkj_swiper`, {\r\n                                direction: d.lbdir == '1' ? 'vertical' : 'horizontal', // 垂直切换选项\r\n                                loop: this.swiperLoop, // 循环模式选项\r\n                                effect: lbtype,\r\n                                initialSlide: this.initpage || 0,\r\n                                preventInteractionOnTransition: true, //过渡时无法滑动\r\n                                allowTouchMove: this.len0 &lt;= 1 ? false : true,\r\n                                autoplay: false,\r\n                                followFinger: lbtype == &quot;fade&quot; ? false : true,\r\n                                // fadeEffect: { crossFade: true },\r\n                                speed: d.lbtype == '2' ? 0 : 300,\r\n                                on: {\r\n                                    slideChangeTransitionEnd: function () {\r\n                                        if (lbtype == &quot;fade&quot;) {\r\n                                            _this.fadeTimer &amp;&amp; clearTimeout(_this.fadeTimer);\r\n                                            _this.fadeTimer = setTimeout(() =&gt; {\r\n                                                $(`${id} .swiper-slide-active`).css({ opacity: 1 }).siblings(&quot;.swiper-slide&quot;).css({ opacity: 0 });\r\n                                            }, 100);\r\n                                        }\r\n                                        if (!_this.mySwiper) { return }\r\n                                        let index = this.realIndex;\r\n                                        if (index == _this.len0 - 1) {\r\n                                            _this.mySwiper.slideToLoop(_this.len0 - 1, 0, false);\r\n                                        } else if (index == 0) {\r\n                                            _this.mySwiper.slideToLoop(0, 0, false);\r\n                                        }\r\n                                    },\r\n                                    slideChange: function () { _this.onChange(this.realIndex) },\r\n                                    init: () =&gt; this.mountScroll(),\r\n                                    touchStart: () =&gt; this.stopAutoPlay(),\r\n                                    touchEnd: () =&gt; this.startAutoPlay(),\r\n                                },\r\n                            });\r\n                        }, this.good.length &gt; 0 ? 500 : 0);\r\n                    },\r\n                    onChange(index) {\r\n                        let d = this.d;\r\n                        let old = this.curinx;\r\n                        if (index == this.curinx) { return }\r\n\r\n                        this.curinx = index;\r\n                        let time = d.lbtype == 2 ? 0 : 300;\r\n                        this.diytimer &amp;&amp; clearTimeout(this.diytimer);\r\n                        this.diytimer = setTimeout(() =&gt; {\r\n                            let currDiy = this.$refs[`diymod${index}`];\r\n                            let oldDiy = this.$refs[`diymod${old}`];\r\n                            currDiy &amp;&amp; currDiy[0].onAppear();\r\n                            oldDiy &amp;&amp; oldDiy[0].onDisappear();\r\n\r\n                            // 背景\r\n                            this.$refs.bg &amp;&amp; this.$refs.bg[index] &amp;&amp; this.$refs.bg[index].onAppear &amp;&amp; this.$refs.bg[index].onAppear();\r\n                            this.$refs.bg &amp;&amp; this.$refs.bg[old] &amp;&amp; this.$refs.bg[old].onDisappear &amp;&amp; this.$refs.bg[old].onDisappear();\r\n                        }, time);\r\n                    }\r\n                }\r\n            });\r\n\r\n        });\r\n    })()\r\n&lt;/script&gt;",
        "attributeConfig": null,
        "floorNum": "8",
        "godIds": [],
        "cmpIds": [],
        "ssr": 1,
        "styleId": "00030473",
        "ofn": "17",
        "bizId": "0",
        "materialParams": null,
        "enc": "BC054B0ACB6FE5A9AA7A1AB57D77D84B85E168D5A5EC4DEC99E8ACD22A6C85CA49FF9EA13FF003EECB68E3CC7A8007C9D0F31F99DA52FDC4AA6341F536940803",
        "advIds": [],
        "boardParams": {
            "type": "setFormData",
            "moddata": {
                "moduleName": "产品轮播",
                "banner": [{
                    "img": "",
                    "popw": "",
                    "con": {
                        "bC": "",
                        "components": [{
                            "top": 0,
                            "left": 0,
                            "src": "//img10.360buyimg.com/imgzone/jfs/t1/155581/15/28417/515961/62d78f5bE1d243cb7/dc90f3f366c4feb7.png",
                            "name": "图片1",
                            "width": 1125,
                            "type": "img",
                            "url": "",
                            "height": 1500
                        }, {
                            "top": -13,
                            "left": 39,
                            "name": "热区2",
                            "width": 1074,
                            "type": "area",
                            "url": "https://item.jd.com/100023614331.html",
                            "height": 1513
                        }],
                        "mT": "diyModule",
                        "width": 1125,
                        "height": "1500"
                    },
                    "pop1": {
                        "src": "https://m.360buyimg.com/babel/jfs/t1/212613/37/20502/3063/62c7d147Eb2890ed0/894cd993cfce9839.png",
                        "w": 375,
                        "h": 110
                    },
                    "pop2": {
                        "src": "https://m.360buyimg.com/babel/jfs/t1/11482/15/18408/3539/62c7d145Ed0854266/4d30ef93148f2185.png",
                        "w": 375,
                        "h": 110
                    },
                    "bg": {
                        "bC": "",
                        "components": [{
                            "auto": true,
                            "controls": false,
                            "type": "video",
                            "content": "https://jvod.300hu.com/vod/product/15e2d4ca-d952-4783-84d1-9d7e4ee96c2d/c48e954ae1d4427095caa82a547a0209.mp4?source=2&h265=h265/113074/eb86e25b5bd94a708a0d91f8a30e88d6.mp4",
                            "mutedConfig": {
                                "mutedImage": "//img13.360buyimg.com/cms/jfs/t1/193144/36/19375/4475/61234578E9e517b49/2de3b44af3a0a047.png",
                                "w": "40",
                                "x": "20",
                                "h": "40",
                                "y": "20",
                                "playImage": "//img11.360buyimg.com/cms/jfs/t1/200990/30/2987/6931/6123454cE1f2f22f5/b907772626a6ca90.png"
                            },
                            "top": "100",
                            "left": "-390",
                            "loop": true,
                            "width": "1920",
                            "name": "视频1",
                            "muted": true,
                            "poster": "//img10.360buyimg.com/imgzone/jfs/t1/115535/25/25378/12003/627d2cf9E8d92220a/7f08e5c2ef0d4c8b.png",
                            "height": "1080"
                        }],
                        "mT": "diyModule",
                        "width": "1800",
                        "height": "1500"
                    },
                    "link": "https://item.jd.com/100023614331.html",
                    "poplink": "",
                    "titlink": "",
                    "tit": ""
                }, {
                    "img": "",
                    "popw": "",
                    "con": {
                        "bC": "",
                        "components": [{
                            "top": "0",
                            "left": "0",
                            "src": "//img10.360buyimg.com/imgzone/jfs/t1/31780/39/16287/513826/62c7cb59E1b197389/9f90330389bcf401.png",
                            "name": "图片1",
                            "width": "1125",
                            "type": "img",
                            "url": "",
                            "height": "1500"
                        }, {
                            "top": "-13",
                            "left": "39",
                            "name": "热区2",
                            "width": "1074",
                            "type": "area",
                            "url": "https://item.jd.com/100023614317.html",
                            "height": "1513"
                        }],
                        "mT": "diyModule",
                        "width": "1125",
                        "height": "1500"
                    },
                    "pop1": {
                        "src": "https://m.360buyimg.com/babel/jfs/t1/91331/39/23877/3261/62c7d147E4219684d/97e51c3fa8ee4806.png",
                        "w": 375,
                        "h": 110
                    },
                    "pop2": {
                        "src": "https://m.360buyimg.com/babel/jfs/t1/28594/6/17740/3904/62c7d145E2facf024/58aa753fa456b9d4.png",
                        "w": 375,
                        "h": 110
                    },
                    "bg": {
                        "bC": "",
                        "components": [{
                            "auto": true,
                            "controls": false,
                            "type": "video",
                            "content": "https://jvod.300hu.com/vod/product/15e2d4ca-d952-4783-84d1-9d7e4ee96c2d/c48e954ae1d4427095caa82a547a0209.mp4?source=2&h265=h265/113074/eb86e25b5bd94a708a0d91f8a30e88d6.mp4",
                            "mutedConfig": {
                                "mutedImage": "//img13.360buyimg.com/cms/jfs/t1/193144/36/19375/4475/61234578E9e517b49/2de3b44af3a0a047.png",
                                "w": "40",
                                "x": "20",
                                "h": "40",
                                "y": "20",
                                "playImage": "//img11.360buyimg.com/cms/jfs/t1/200990/30/2987/6931/6123454cE1f2f22f5/b907772626a6ca90.png"
                            },
                            "top": "100",
                            "left": "-390",
                            "loop": true,
                            "width": "1920",
                            "name": "视频1",
                            "muted": true,
                            "poster": "//img10.360buyimg.com/imgzone/jfs/t1/115535/25/25378/12003/627d2cf9E8d92220a/7f08e5c2ef0d4c8b.png",
                            "height": "1080"
                        }],
                        "mT": "diyModule",
                        "width": "1800",
                        "height": "1500"
                    },
                    "link": "https://item.jd.com/100023614331.html",
                    "poplink": "",
                    "titlink": "",
                    "tit": ""
                }, {
                    "img": "",
                    "popw": "",
                    "con": {
                        "bC": "",
                        "components": [{
                            "top": "0",
                            "left": "0",
                            "src": "//img10.360buyimg.com/imgzone/jfs/t1/72283/29/20055/510932/62c7cb59E9ced4da3/8fb68c84d545d1a5.png",
                            "name": "图片1",
                            "width": "1125",
                            "type": "img",
                            "url": "",
                            "height": "1500"
                        }, {
                            "top": "-13",
                            "left": "39",
                            "name": "热区2",
                            "width": "1074",
                            "type": "area",
                            "url": "https://item.jd.com/100023614315.html",
                            "height": "1513"
                        }],
                        "mT": "diyModule",
                        "width": "1125",
                        "height": "1500"
                    },
                    "pop1": {
                        "src": "https://m.360buyimg.com/babel/jfs/t1/34620/36/16572/3219/62c7d148Ebced8bd3/b2c758f7f43e8fd5.jpg",
                        "w": 375,
                        "h": 110
                    },
                    "pop2": {
                        "src": "https://m.360buyimg.com/babel/jfs/t1/203296/9/25020/3913/62c7d146E8532debb/01343416187c7fa9.jpg",
                        "w": 375,
                        "h": 110
                    },
                    "bg": {
                        "bC": "",
                        "components": [{
                            "auto": true,
                            "controls": false,
                            "type": "video",
                            "content": "https://jvod.300hu.com/vod/product/15e2d4ca-d952-4783-84d1-9d7e4ee96c2d/c48e954ae1d4427095caa82a547a0209.mp4?source=2&h265=h265/113074/eb86e25b5bd94a708a0d91f8a30e88d6.mp4",
                            "mutedConfig": {
                                "mutedImage": "//img13.360buyimg.com/cms/jfs/t1/193144/36/19375/4475/61234578E9e517b49/2de3b44af3a0a047.png",
                                "w": "40",
                                "x": "20",
                                "h": "40",
                                "y": "20",
                                "playImage": "//img11.360buyimg.com/cms/jfs/t1/200990/30/2987/6931/6123454cE1f2f22f5/b907772626a6ca90.png"
                            },
                            "top": "100",
                            "left": "-390",
                            "loop": true,
                            "width": "1920",
                            "name": "视频1",
                            "muted": true,
                            "poster": "//img10.360buyimg.com/imgzone/jfs/t1/115535/25/25378/12003/627d2cf9E8d92220a/7f08e5c2ef0d4c8b.png",
                            "height": "1080"
                        }],
                        "mT": "diyModule",
                        "width": "1800",
                        "height": "1500"
                    },
                    "link": "https://item.jd.com/100023614331.html",
                    "poplink": "",
                    "titlink": "",
                    "tit": ""
                }],
                "tab1": {
                    "auto": "0",
                    "initpage": "0",
                    "initflag": "0",
                    "swiper_whtl": "1125,1500,100",
                    "loop": "0",
                    "lbtype": "0",
                    "auto_t": "3",
                    "lbAni": "0",
                    "ispoptop": "0",
                    "clsbg": "#fFFFFFF",
                    "clsheight": "1600"
                },
                "tab2": {
                    "jtobj": {
                        "jt_tl2": "500,950",
                        "jt_tl1": "500,100",
                        "jtistop": "0",
                        "jtpic1": {
                            "src": "https://img10.360buyimg.com/imgzone/jfs/t1/92313/37/10886/1941/5e219592Eb3259e3d/08623fe0bfe8f21e.png",
                            "w": 80,
                            "h": 100
                        },
                        "jtani": "0",
                        "jtpic2": {
                            "src": "//img10.360buyimg.com/imgzone/jfs/t1/109344/38/4596/1895/5e219592E3f50e26a/bd9eadd12caa2e96.png",
                            "w": 80,
                            "h": 100
                        }
                    },
                    "barobj": {
                        "barbox_whtl": "800,100,800",
                        "bar_w": "500",
                        "bar_set": "red,blue,100"
                    },
                    "isbar": "0",
                    "isjd": "0",
                    "isjt": "0",
                    "istit": "0",
                    "titobj": {
                        "tit_tl": "0,0",
                        "titani": "0"
                    },
                    "popobj": {
                        "popani": "0",
                        "popbg": "#FFFFFF",
                        "cenobj": {
                            "cenLeft": ""
                        },
                        "pop_c": "red,blue",
                        "pop_whtl": "375,100,0",
                        "pop_set": "0,0",
                        "popClicknoAni": "0",
                        "poptype": "0"
                    },
                    "xfArr": [],
                    "isxf": "0",
                    "jdobj": {
                        "barbox_whtl": "800,20,745",
                        "bar_set": "red,blue,100"
                    },
                    "ispop": "1"
                },
                "switch": "2"
            },
            "switch": "0"
        },
        "id": 81674474,
        "moduleId": 81674474,
        "timestamp": "",
        "h5FloorFrameState": 0
    }, {
        "template": "hotzone",
        "externalBorder": "0",
        "lrMargin": "0",
        "backgroundColor": "#f2f2f2",
        "hotZone": {
            "pictureUrl": "//m.360buyimg.com/babel/jfs/t1/42678/34/17526/41941/62d92cd3Edd992cad/a9d2c55b52e8e07b.jpg!q70.dpg"
        },
        "ofn": "18",
        "width": 1125,
        "sameColor": "0",
        "id": 81683397,
        "moduleId": 81683397,
        "floorNum": "9",
        "height": 316
    }],
    "item": "0",
    "backgroundColor": "",
    "paginationParams": ["1", "2"],
    "gridInfo": "",
    "pageSrvInfo": null,
    "pageId": "3773750",
    "visReState": {
        "matGrpN": 0,
        "matReN": 0
    },
    "returnMsg": "success",
    "hasPerData": "0",
    "hasIdentification": "0",
    "encodeActivityId": "2dY5x5gjG8LiytBJRoqsBFPrK2Xe",
    "utmFlag": "0",
    "useDiscovery": "",
    "debugFlag": 0,
    "repFloorGr": null
}